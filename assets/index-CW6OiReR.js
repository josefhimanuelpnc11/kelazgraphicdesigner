(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Tm={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function Hw(){if(kv)return zl;kv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:d,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var jv;function Fw(){return jv||(jv=1,Tm.exports=Hw()),Tm.exports}var p=Fw(),bm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function Gw(){if(Vv)return Ce;Vv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.iterator;function A(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,K={};function z(k,re,ue){this.props=k,this.context=re,this.refs=K,this.updater=ue||C}z.prototype.isReactComponent={},z.prototype.setState=function(k,re){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,re,"setState")},z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function G(){}G.prototype=z.prototype;function se(k,re,ue){this.props=k,this.context=re,this.refs=K,this.updater=ue||C}var ee=se.prototype=new G;ee.constructor=se,U(ee,z.prototype),ee.isPureReactComponent=!0;var fe=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},te=Object.prototype.hasOwnProperty;function x(k,re,ue,q,de,De){return ue=De.ref,{$$typeof:i,type:k,key:re,ref:ue!==void 0?ue:null,props:De}}function R(k,re){return x(k.type,re,void 0,void 0,void 0,k.props)}function I(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function M(k){var re={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ue){return re[ue]})}var O=/\/+/g;function V(k,re){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):re.toString(36)}function N(){}function ce(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(re){k.status==="pending"&&(k.status="fulfilled",k.value=re)},function(re){k.status==="pending"&&(k.status="rejected",k.reason=re)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function we(k,re,ue,q,de){var De=typeof k;(De==="undefined"||De==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case i:case e:Ae=!0;break;case T:return Ae=k._init,we(Ae(k._payload),re,ue,q,de)}}if(Ae)return de=de(k),Ae=q===""?"."+V(k,0):q,fe(de)?(ue="",Ae!=null&&(ue=Ae.replace(O,"$&/")+"/"),we(de,re,ue,"",function(ii){return ii})):de!=null&&(I(de)&&(de=R(de,ue+(de.key==null||k&&k.key===de.key?"":(""+de.key).replace(O,"$&/")+"/")+Ae)),re.push(de)),1;Ae=0;var kt=q===""?".":q+":";if(fe(k))for(var nt=0;nt<k.length;nt++)q=k[nt],De=kt+V(q,nt),Ae+=we(q,re,ue,De,de);else if(nt=A(k),typeof nt=="function")for(k=nt.call(k),nt=0;!(q=k.next()).done;)q=q.value,De=kt+V(q,nt++),Ae+=we(q,re,ue,De,de);else if(De==="object"){if(typeof k.then=="function")return we(ce(k),re,ue,q,de);throw re=String(k),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(k,re,ue){if(k==null)return k;var q=[],de=0;return we(k,q,"","",function(De){return re.call(ue,De,de++)}),q}function le(k){if(k._status===-1){var re=k._result;re=re(),re.then(function(ue){(k._status===0||k._status===-1)&&(k._status=1,k._result=ue)},function(ue){(k._status===0||k._status===-1)&&(k._status=2,k._result=ue)}),k._status===-1&&(k._status=0,k._result=re)}if(k._status===1)return k._result.default;throw k._result}var ge=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Le(){}return Ce.Children={map:X,forEach:function(k,re,ue){X(k,function(){re.apply(this,arguments)},ue)},count:function(k){var re=0;return X(k,function(){re++}),re},toArray:function(k){return X(k,function(re){return re})||[]},only:function(k){if(!I(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ce.Component=z,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=se,Ce.StrictMode=s,Ce.Suspense=g,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(k){return oe.H.useMemoCache(k)}},Ce.cache=function(k){return function(){return k.apply(null,arguments)}},Ce.cloneElement=function(k,re,ue){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var q=U({},k.props),de=k.key,De=void 0;if(re!=null)for(Ae in re.ref!==void 0&&(De=void 0),re.key!==void 0&&(de=""+re.key),re)!te.call(re,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&re.ref===void 0||(q[Ae]=re[Ae]);var Ae=arguments.length-2;if(Ae===1)q.children=ue;else if(1<Ae){for(var kt=Array(Ae),nt=0;nt<Ae;nt++)kt[nt]=arguments[nt+2];q.children=kt}return x(k.type,de,void 0,void 0,De,q)},Ce.createContext=function(k){return k={$$typeof:d,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ce.createElement=function(k,re,ue){var q,de={},De=null;if(re!=null)for(q in re.key!==void 0&&(De=""+re.key),re)te.call(re,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(de[q]=re[q]);var Ae=arguments.length-2;if(Ae===1)de.children=ue;else if(1<Ae){for(var kt=Array(Ae),nt=0;nt<Ae;nt++)kt[nt]=arguments[nt+2];de.children=kt}if(k&&k.defaultProps)for(q in Ae=k.defaultProps,Ae)de[q]===void 0&&(de[q]=Ae[q]);return x(k,De,void 0,void 0,null,de)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(k){return{$$typeof:m,render:k}},Ce.isValidElement=I,Ce.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:le}},Ce.memo=function(k,re){return{$$typeof:y,type:k,compare:re===void 0?null:re}},Ce.startTransition=function(k){var re=oe.T,ue={};oe.T=ue;try{var q=k(),de=oe.S;de!==null&&de(ue,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(Le,ge)}catch(De){ge(De)}finally{oe.T=re}},Ce.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ce.use=function(k){return oe.H.use(k)},Ce.useActionState=function(k,re,ue){return oe.H.useActionState(k,re,ue)},Ce.useCallback=function(k,re){return oe.H.useCallback(k,re)},Ce.useContext=function(k){return oe.H.useContext(k)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(k,re){return oe.H.useDeferredValue(k,re)},Ce.useEffect=function(k,re,ue){var q=oe.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(k,re)},Ce.useId=function(){return oe.H.useId()},Ce.useImperativeHandle=function(k,re,ue){return oe.H.useImperativeHandle(k,re,ue)},Ce.useInsertionEffect=function(k,re){return oe.H.useInsertionEffect(k,re)},Ce.useLayoutEffect=function(k,re){return oe.H.useLayoutEffect(k,re)},Ce.useMemo=function(k,re){return oe.H.useMemo(k,re)},Ce.useOptimistic=function(k,re){return oe.H.useOptimistic(k,re)},Ce.useReducer=function(k,re,ue){return oe.H.useReducer(k,re,ue)},Ce.useRef=function(k){return oe.H.useRef(k)},Ce.useState=function(k){return oe.H.useState(k)},Ce.useSyncExternalStore=function(k,re,ue){return oe.H.useSyncExternalStore(k,re,ue)},Ce.useTransition=function(){return oe.H.useTransition()},Ce.version="19.1.1",Ce}var Pv;function vp(){return Pv||(Pv=1,bm.exports=Gw()),bm.exports}var P=vp(),Sm={exports:{}},Bl={},wm={exports:{}},Am={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function Qw(){return Lv||(Lv=1,(function(i){function e(X,le){var ge=X.length;X.push(le);e:for(;0<ge;){var Le=ge-1>>>1,k=X[Le];if(0<o(k,le))X[Le]=le,X[ge]=k,ge=Le;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var le=X[0],ge=X.pop();if(ge!==le){X[0]=ge;e:for(var Le=0,k=X.length,re=k>>>1;Le<re;){var ue=2*(Le+1)-1,q=X[ue],de=ue+1,De=X[de];if(0>o(q,ge))de<k&&0>o(De,q)?(X[Le]=De,X[de]=ge,Le=de):(X[Le]=q,X[ue]=ge,Le=ue);else if(de<k&&0>o(De,ge))X[Le]=De,X[de]=ge,Le=de;else break e}}return le}function o(X,le){var ge=X.sortIndex-le.sortIndex;return ge!==0?ge:X.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var g=[],y=[],T=1,w=null,A=3,C=!1,U=!1,K=!1,z=!1,G=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function fe(X){for(var le=n(y);le!==null;){if(le.callback===null)s(y);else if(le.startTime<=X)s(y),le.sortIndex=le.expirationTime,e(g,le);else break;le=n(y)}}function oe(X){if(K=!1,fe(X),!U)if(n(g)!==null)U=!0,te||(te=!0,V());else{var le=n(y);le!==null&&we(oe,le.startTime-X)}}var te=!1,x=-1,R=5,I=-1;function M(){return z?!0:!(i.unstable_now()-I<R)}function O(){if(z=!1,te){var X=i.unstable_now();I=X;var le=!0;try{e:{U=!1,K&&(K=!1,se(x),x=-1),C=!0;var ge=A;try{t:{for(fe(X),w=n(g);w!==null&&!(w.expirationTime>X&&M());){var Le=w.callback;if(typeof Le=="function"){w.callback=null,A=w.priorityLevel;var k=Le(w.expirationTime<=X);if(X=i.unstable_now(),typeof k=="function"){w.callback=k,fe(X),le=!0;break t}w===n(g)&&s(g),fe(X)}else s(g);w=n(g)}if(w!==null)le=!0;else{var re=n(y);re!==null&&we(oe,re.startTime-X),le=!1}}break e}finally{w=null,A=ge,C=!1}le=void 0}}finally{le?V():te=!1}}}var V;if(typeof ee=="function")V=function(){ee(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ce=N.port2;N.port1.onmessage=O,V=function(){ce.postMessage(null)}}else V=function(){G(O,0)};function we(X,le){x=G(function(){X(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(X){switch(A){case 1:case 2:case 3:var le=3;break;default:le=A}var ge=A;A=le;try{return X()}finally{A=ge}},i.unstable_requestPaint=function(){z=!0},i.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=A;A=X;try{return le()}finally{A=ge}},i.unstable_scheduleCallback=function(X,le,ge){var Le=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Le+ge:Le):ge=Le,X){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ge+k,X={id:T++,callback:le,priorityLevel:X,startTime:ge,expirationTime:k,sortIndex:-1},ge>Le?(X.sortIndex=ge,e(y,X),n(g)===null&&X===n(y)&&(K?(se(x),x=-1):K=!0,we(oe,ge-Le))):(X.sortIndex=k,e(g,X),U||C||(U=!0,te||(te=!0,V()))),X},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(X){var le=A;return function(){var ge=A;A=le;try{return X.apply(this,arguments)}finally{A=ge}}}})(Am)),Am}var Uv;function Kw(){return Uv||(Uv=1,wm.exports=Qw()),wm.exports}var Rm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function Yw(){if(zv)return Wt;zv=1;var i=vp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:T}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,T)},Wt.flushSync=function(g){var y=d.T,T=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=T,s.d.f()}},Wt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Wt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Wt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,w=m(T,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,C=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:C}):T==="script"&&s.d.X(g,{crossOrigin:w,integrity:A,fetchPriority:C,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Wt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,w=m(T,y.crossOrigin);s.d.L(g,T,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Wt.requestFormReset=function(g){s.d.r(g)},Wt.unstable_batchedUpdates=function(g,y){return g(y)},Wt.useFormState=function(g,y,T){return d.H.useFormState(g,y,T)},Wt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Wt.version="19.1.1",Wt}var Bv;function $w(){if(Bv)return Rm.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Rm.exports=Yw(),Rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Xw(){if(qv)return Bl;qv=1;var i=Kw(),e=vp(),n=$w();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function d(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),t;if(f===l)return m(h),r;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var E=!1,b=h.child;b;){if(b===a){E=!0,a=h,l=f;break}if(b===l){E=!0,l=h,a=f;break}b=b.sibling}if(!E){for(b=f.child;b;){if(b===a){E=!0,a=f,l=h;break}if(b===l){E=!0,l=f,a=h;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function ce(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case z:return"Profiler";case K:return"StrictMode";case oe:return"Suspense";case te:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case C:return"Portal";case ee:return(t.displayName||"Context")+".Provider";case se:return(t._context.displayName||"Context")+".Consumer";case fe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return r=t.displayName||null,r!==null?r:ce(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return ce(t(r))}catch{}}return null}var we=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Le=[],k=-1;function re(t){return{current:t}}function ue(t){0>k||(t.current=Le[k],Le[k]=null,k--)}function q(t,r){k++,Le[k]=t.current,t.current=r}var de=re(null),De=re(null),Ae=re(null),kt=re(null);function nt(t,r){switch(q(Ae,r),q(De,t),q(de,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?lv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=lv(r),t=uv(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(de),q(de,t)}function ii(){ue(de),ue(De),ue(Ae)}function mr(t){t.memoizedState!==null&&q(kt,t);var r=de.current,a=uv(r,t.type);r!==a&&(q(De,t),q(de,a))}function Di(t){De.current===t&&(ue(de),ue(De)),kt.current===t&&(ue(kt),jl._currentValue=ge)}var fs=Object.prototype.hasOwnProperty,ms=i.unstable_scheduleCallback,ps=i.unstable_cancelCallback,Oo=i.unstable_shouldYield,ku=i.unstable_requestPaint,Rn=i.unstable_now,Ed=i.unstable_getCurrentPriorityLevel,Mo=i.unstable_ImmediatePriority,da=i.unstable_UserBlockingPriority,gs=i.unstable_NormalPriority,Td=i.unstable_LowPriority,fa=i.unstable_IdlePriority,ko=i.log,ju=i.unstable_setDisableYieldValue,ht=null,Ye=null;function gn(t){if(typeof ko=="function"&&ju(t),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(ht,t)}catch{}}var $t=Math.clz32?Math.clz32:ys,Vu=Math.log,bd=Math.LN2;function ys(t){return t>>>=0,t===0?32:31-(Vu(t)/bd|0)|0}var _s=256,vs=4194304;function Fn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ma(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~f,l!==0?h=Fn(l):(E&=b,E!==0?h=Fn(E):a||(a=b&~t,a!==0&&(h=Fn(a))))):(b=l&~f,b!==0?h=Fn(b):E!==0?h=Fn(E):a||(a=l&~t,a!==0&&(h=Fn(a)))),h===0?0:r!==0&&r!==h&&(r&f)===0&&(f=h&-h,a=r&-r,f>=a||f===32&&(a&4194048)!==0)?r:h}function Es(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function jo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var t=_s;return _s<<=1,(_s&4194048)===0&&(_s=256),t}function Po(){var t=vs;return vs<<=1,(vs&62914560)===0&&(vs=4194304),t}function Oi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Mi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lo(t,r,a,l,h,f){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,F=t.hiddenUpdates;for(a=E&~a;0<a;){var W=31-$t(a),ne=1<<W;b[W]=0,D[W]=-1;var Q=F[W];if(Q!==null)for(F[W]=null,W=0;W<Q.length;W++){var Y=Q[W];Y!==null&&(Y.lane&=-536870913)}a&=~ne}l!==0&&ri(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(E&~r))}function ri(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-$t(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Uo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-$t(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function pr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function pa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function gr(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Cv(t.type))}function Pu(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var at=Math.random().toString(36).slice(2),Ct="__reactFiber$"+at,Tt="__reactProps$"+at,In="__reactContainer$"+at,zo="__reactEvents$"+at,Sd="__reactListeners$"+at,yr="__reactHandles$"+at,Lu="__reactResources$"+at,Ts="__reactMarker$"+at;function _r(t){delete t[Ct],delete t[Tt],delete t[zo],delete t[Sd],delete t[yr]}function ki(t){var r=t[Ct];if(r)return r;for(var a=t.parentNode;a;){if(r=a[In]||a[Ct]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=fv(t);t!==null;){if(a=t[Ct])return a;t=fv(t)}return r}t=a,a=t.parentNode}return null}function si(t){if(t=t[Ct]||t[In]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ai(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function sn(t){var r=t[Lu];return r||(r=t[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function mt(t){t[Ts]=!0}var Bo=new Set,ga={};function Gn(t,r){ji(t,r),ji(t+"Capture",r)}function ji(t,r){for(ga[t]=r,t=0;t<r.length;t++)Bo.add(r[t])}var Uu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zu={},bs={};function Bu(t){return fs.call(bs,t)?!0:fs.call(zu,t)?!1:Uu.test(t)?bs[t]=!0:(zu[t]=!0,!1)}function vr(t,r,a){if(Bu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function oi(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Bt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Ss,qu;function Vi(t){if(Ss===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Ss=r&&r[1]||"",qu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ss+t+qu}var ya=!1;function _a(t,r){if(!t||ya)return"";ya=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var Q=Y}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Y){Q=Y}t.call(ne.prototype)}}else{try{throw Error()}catch(Y){Q=Y}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&Q&&typeof Y.stack=="string")return[Y.stack,Q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),E=f[0],b=f[1];if(E&&b){var D=E.split(`
`),F=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===F.length)for(l=D.length-1,h=F.length-1;1<=l&&0<=h&&D[l]!==F[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==F[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==F[h]){var W=`
`+D[l].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=l&&0<=h);break}}}finally{ya=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Vi(a):""}function qo(t){switch(t.tag){case 26:case 27:case 5:return Vi(t.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return _a(t.type,!1);case 11:return _a(t.type.render,!1);case 1:return _a(t.type,!0);case 31:return Vi("Activity");default:return""}}function va(t){try{var r="";do r+=qo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ho(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function wd(t){var r=Ho(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,f.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ea(t){t._valueTracker||(t._valueTracker=wd(t))}function Fo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Ho(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ws(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ad=/[\n"\\]/g;function bt(t){return t.replace(Ad,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function yn(t,r,a,l,h,f,E,b){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+an(r)):t.value!==""+an(r)&&(t.value=""+an(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?Er(t,E,an(r)):a!=null?Er(t,E,an(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+an(b):t.removeAttribute("name")}function As(t,r,a,l,h,f,E,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),r!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Er(t,r,a){r==="number"&&ws(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Pi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function We(t,r,a){if(r!=null&&(r=""+an(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+an(a):""}function Rs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(we(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Cn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Hu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Is.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Go(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Hu(t,h,l)}else for(var f in r)r.hasOwnProperty(f)&&Hu(t,f,r[f])}function Qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Id=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(t){return Id.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Li=null;function xn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ui=null,zi=null;function Ko(t){var r=si(t);if(r&&(t=r.stateNode)){var a=t[Tt]||null;e:switch(t=r.stateNode,r.type){case"input":if(yn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+bt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Tt]||null;if(!h)throw Error(s(90));yn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Fo(l)}break e;case"textarea":We(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Pi(t,!!a.multiple,r,!1)}}}var li=!1;function Fu(t,r,a){if(li)return t(r,a);li=!0;try{var l=t(r);return l}finally{if(li=!1,(Ui!==null||zi!==null)&&(Pc(),Ui&&(r=Ui,t=zi,zi=Ui=null,Ko(r),t)))for(r=0;r<t.length;r++)Ko(t[r])}}function Cs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Tt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nn=!1;if(Qn)try{var xs={};Object.defineProperty(xs,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",xs,xs),window.removeEventListener("test",xs,xs)}catch{Nn=!1}var ui=null,Tr=null,Bi=null;function Yo(){if(Bi)return Bi;var t,r=Tr,a=r.length,l,h="value"in ui?ui.value:ui.textContent,f=h.length;for(t=0;t<a&&r[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===h[f-l];l++);return Bi=h.slice(t,1<l?1-l:void 0)}function ci(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function hi(){return!0}function $o(){return!1}function jt(t){function r(a,l,h,f,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=E,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?hi:$o,this.isPropagationStopped=$o,this}return T(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=hi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=hi)},persist:function(){},isPersistent:hi}),r}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=jt(Qe),Ns=T({},Qe,{view:0,detail:0}),Gu=jt(Ns),Sa,wa,di,Ds=T({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==di&&(di&&t.type==="mousemove"?(Sa=t.screenX-di.screenX,wa=t.screenY-di.screenY):wa=Sa=0,di=t),Sa)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Dn=jt(Ds),Qu=T({},Ds,{dataTransfer:0}),Cd=jt(Qu),Os=T({},Ns,{relatedTarget:0}),Aa=jt(Os),Xo=T({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=jt(Xo),Ku=T({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ia=jt(Ku),xd=T({},Qe,{data:0}),Wo=jt(xd),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=$u[t])?!!r[t]:!1}function ks(){return Zo}var Xu=T({},Ns,{key:function(t){if(t.key){var r=Ms[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ci(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?ci(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ci(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ca=jt(Xu),Wu=T({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=jt(Wu),qi=T({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),Zu=jt(qi),Ju=T({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),ec=jt(Ju),tc=T({},Ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=jt(tc),on=T({},Qe,{newState:0,oldState:0}),nc=jt(on),ic=[9,13,27,32],fi=Qn&&"CompositionEvent"in window,c=null;Qn&&"documentMode"in document&&(c=document.documentMode);var _=Qn&&"TextEvent"in window&&!c,v=Qn&&(!fi||c&&8<c&&11>=c),S=" ",B=!1;function $(t,r){switch(t){case"keyup":return ic.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ze=!1;function xt(t,r){switch(t){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(B=!0,S);case"textInput":return t=r.data,t===S&&B?null:t;default:return null}}function Be(t,r){if(ze)return t==="compositionend"||!fi&&$(t,r)?(t=Yo(),Bi=Tr=ui=null,ze=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Vt[t.type]:r==="textarea"}function Hi(t,r,a,l){Ui?zi?zi.push(l):zi=[l]:Ui=l,r=Hc(r,"onChange"),0<r.length&&(a=new ba("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var qt=null,mi=null;function el(t){iv(t,0)}function rc(t){var r=ai(t);if(Fo(r))return t}function wg(t,r){if(t==="change")return r}var Ag=!1;if(Qn){var Nd;if(Qn){var Dd="oninput"in document;if(!Dd){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Dd=typeof Rg.oninput=="function"}Nd=Dd}else Nd=!1;Ag=Nd&&(!document.documentMode||9<document.documentMode)}function Ig(){qt&&(qt.detachEvent("onpropertychange",Cg),mi=qt=null)}function Cg(t){if(t.propertyName==="value"&&rc(mi)){var r=[];Hi(r,mi,t,xn(t)),Fu(el,r)}}function vS(t,r,a){t==="focusin"?(Ig(),qt=r,mi=a,qt.attachEvent("onpropertychange",Cg)):t==="focusout"&&Ig()}function ES(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rc(mi)}function TS(t,r){if(t==="click")return rc(r)}function bS(t,r){if(t==="input"||t==="change")return rc(r)}function SS(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:SS;function tl(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!fs.call(r,h)||!_n(t[h],r[h]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,r){var a=xg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=xg(a)}}function Dg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Dg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ws(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ws(t.document)}return r}function Od(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var wS=Qn&&"documentMode"in document&&11>=document.documentMode,Na=null,Md=null,nl=null,kd=!1;function Mg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kd||Na==null||Na!==ws(l)||(l=Na,"selectionStart"in l&&Od(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Hc(Md,"onSelect"),0<l.length&&(r=new ba("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Na)))}function js(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Da={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},jd={},kg={};Qn&&(kg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function Vs(t){if(jd[t])return jd[t];if(!Da[t])return t;var r=Da[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in kg)return jd[t]=r[a];return t}var jg=Vs("animationend"),Vg=Vs("animationiteration"),Pg=Vs("animationstart"),AS=Vs("transitionrun"),RS=Vs("transitionstart"),IS=Vs("transitioncancel"),Lg=Vs("transitionend"),Ug=new Map,Vd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vd.push("scrollEnd");function Kn(t,r){Ug.set(t,r),Gn(r,[t])}var zg=new WeakMap;function On(t,r){if(typeof t=="object"&&t!==null){var a=zg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:va(r)},zg.set(t,r),r)}return{value:t,source:r,stack:va(r)}}var Mn=[],Oa=0,Pd=0;function sc(){for(var t=Oa,r=Pd=Oa=0;r<t;){var a=Mn[r];Mn[r++]=null;var l=Mn[r];Mn[r++]=null;var h=Mn[r];Mn[r++]=null;var f=Mn[r];if(Mn[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}f!==0&&Bg(a,h,f)}}function ac(t,r,a,l){Mn[Oa++]=t,Mn[Oa++]=r,Mn[Oa++]=a,Mn[Oa++]=l,Pd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ld(t,r,a,l){return ac(t,r,a,l),oc(t)}function Ma(t,r){return ac(t,null,null,r),oc(t)}function Bg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&r!==null&&(h=31-$t(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),f):null}function oc(t){if(50<Il)throw Il=0,Gf=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ka={};function CS(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,r,a,l){return new CS(t,r,a,l)}function Ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,r){var a=t.alternate;return a===null?(a=vn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function qg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function lc(t,r,a,l,h,f){var E=0;if(l=t,typeof t=="function")Ud(t)&&(E=1);else if(typeof t=="string")E=Nw(t,a,de.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=vn(31,a,r,h),t.elementType=I,t.lanes=f,t;case U:return Ps(a.children,h,f,r);case K:E=8,h|=24;break;case z:return t=vn(12,a,r,h|2),t.elementType=z,t.lanes=f,t;case oe:return t=vn(13,a,r,h),t.elementType=oe,t.lanes=f,t;case te:return t=vn(19,a,r,h),t.elementType=te,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case ee:E=10;break e;case se:E=9;break e;case fe:E=11;break e;case x:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=vn(E,a,r,h),r.elementType=t,r.type=l,r.lanes=f,r}function Ps(t,r,a,l){return t=vn(7,t,l,r),t.lanes=a,t}function zd(t,r,a){return t=vn(6,t,null,r),t.lanes=a,t}function Bd(t,r,a){return r=vn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var ja=[],Va=0,uc=null,cc=0,kn=[],jn=0,Ls=null,Gi=1,Qi="";function Us(t,r){ja[Va++]=cc,ja[Va++]=uc,uc=t,cc=r}function Hg(t,r,a){kn[jn++]=Gi,kn[jn++]=Qi,kn[jn++]=Ls,Ls=t;var l=Gi;t=Qi;var h=32-$t(l)-1;l&=~(1<<h),a+=1;var f=32-$t(r)+h;if(30<f){var E=h-h%5;f=(l&(1<<E)-1).toString(32),l>>=E,h-=E,Gi=1<<32-$t(r)+h|a<<h|l,Qi=f+t}else Gi=1<<f|a<<h|l,Qi=t}function qd(t){t.return!==null&&(Us(t,1),Hg(t,1,0))}function Hd(t){for(;t===uc;)uc=ja[--Va],ja[Va]=null,cc=ja[--Va],ja[Va]=null;for(;t===Ls;)Ls=kn[--jn],kn[jn]=null,Qi=kn[--jn],kn[jn]=null,Gi=kn[--jn],kn[jn]=null}var ln=null,dt=null,Ge=!1,zs=null,pi=!1,Fd=Error(s(519));function Bs(t){var r=Error(s(418,""));throw sl(On(r,t)),Fd}function Fg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Ct]=t,r[Tt]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<xl.length;a++)ke(xl[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),As(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Rs(r,l.value,l.defaultValue,l.children),Ea(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||ov(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=Fc),r=!0):r=!1,r||Bs(t)}function Gg(t){for(ln=t.return;ln;)switch(ln.tag){case 5:case 13:pi=!1;return;case 27:case 3:pi=!0;return;default:ln=ln.return}}function il(t){if(t!==ln)return!1;if(!Ge)return Gg(t),Ge=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||om(t.type,t.memoizedProps)),a=!a),a&&dt&&Bs(t),Gg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){dt=$n(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}dt=null}}else r===27?(r=dt,Pr(t.type)?(t=hm,hm=null,dt=t):dt=r):dt=ln?$n(t.stateNode.nextSibling):null;return!0}function rl(){dt=ln=null,Ge=!1}function Qg(){var t=zs;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),zs=null),t}function sl(t){zs===null?zs=[t]:zs.push(t)}var Gd=re(null),qs=null,Ki=null;function br(t,r,a){q(Gd,r._currentValue),r._currentValue=a}function Yi(t){t._currentValue=Gd.current,ue(Gd)}function Qd(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Kd(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var E=h.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=h;for(var D=0;D<r.length;D++)if(b.context===r[D]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),Qd(f.return,a,t),l||(E=null);break e}f=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,f=E.alternate,f!==null&&(f.lanes|=a),Qd(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function al(t,r,a,l){t=null;for(var h=r,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=h.type;_n(h.pendingProps.value,E.value)||(t!==null?t.push(b):t=[b])}}else if(h===kt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}h=h.return}t!==null&&Kd(r,t,a,l),r.flags|=262144}function hc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Hs(t){qs=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return Kg(qs,t)}function dc(t,r){return qs===null&&Hs(t),Kg(t,r)}function Kg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(s(308));Ki=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ki=Ki.next=r;return a}var xS=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},NS=i.unstable_scheduleCallback,DS=i.unstable_NormalPriority,Dt={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yd(){return{controller:new xS,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&NS(DS,function(){t.controller.abort()})}var ll=null,$d=0,Pa=0,La=null;function OS(t,r){if(ll===null){var a=ll=[];$d=0,Pa=Zf(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return $d++,r.then(Yg,Yg),r}function Yg(){if(--$d===0&&ll!==null){La!==null&&(La.status="fulfilled");var t=ll;ll=null,Pa=0,La=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function MS(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var $g=X.S;X.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&OS(t,r),$g!==null&&$g(t,r)};var Fs=re(null);function Xd(){var t=Fs.current;return t!==null?t:it.pooledCache}function fc(t,r){r===null?q(Fs,Fs.current):q(Fs,r.pool)}function Xg(){var t=Xd();return t===null?null:{parent:Dt._currentValue,pool:t}}var ul=Error(s(460)),Wg=Error(s(474)),mc=Error(s(542)),Wd={then:function(){}};function Zg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function pc(){}function Jg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(pc,pc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ty(t),t;default:if(typeof r.status=="string")r.then(pc,pc);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,ty(t),t}throw cl=r,ul}}var cl=null;function ey(){if(cl===null)throw Error(s(459));var t=cl;return cl=null,t}function ty(t){if(t===ul||t===mc)throw Error(s(483))}var Sr=!1;function Zd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Jd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function wr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ar(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=oc(t),Bg(t,null,a),r}return ac(t,l,r,a),oc(t)}function hl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Uo(t,a)}}function ef(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=E:f=f.next=E,a=a.next}while(a!==null);f===null?h=f=r:f=f.next=r}else h=f=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var tf=!1;function dl(){if(tf){var t=La;if(t!==null)throw t}}function fl(t,r,a,l){tf=!1;var h=t.updateQueue;Sr=!1;var f=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,F=D.next;D.next=null,E===null?f=F:E.next=F,E=D;var W=t.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=F:b.next=F,W.lastBaseUpdate=D))}if(f!==null){var ne=h.baseState;E=0,W=F=D=null,b=f;do{var Q=b.lane&-536870913,Y=Q!==b.lane;if(Y?(qe&Q)===Q:(l&Q)===Q){Q!==0&&Q===Pa&&(tf=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Se=t,ve=b;Q=r;var et=a;switch(ve.tag){case 1:if(Se=ve.payload,typeof Se=="function"){ne=Se.call(et,ne,Q);break e}ne=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ve.payload,Q=typeof Se=="function"?Se.call(et,ne,Q):Se,Q==null)break e;ne=T({},ne,Q);break e;case 2:Sr=!0}}Q=b.callback,Q!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[Q]:Y.push(Q))}else Y={lane:Q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(F=W=Y,D=ne):W=W.next=Y,E|=Q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Y=b,b=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);W===null&&(D=ne),h.baseState=D,h.firstBaseUpdate=F,h.lastBaseUpdate=W,f===null&&(h.shared.lanes=0),Mr|=E,t.lanes=E,t.memoizedState=ne}}function ny(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function iy(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ny(a[t],r)}var Ua=re(null),gc=re(0);function ry(t,r){t=tr,q(gc,t),q(Ua,r),tr=t|r.baseLanes}function nf(){q(gc,tr),q(Ua,Ua.current)}function rf(){tr=gc.current,ue(Ua),ue(gc)}var Rr=0,xe=null,Ze=null,St=null,yc=!1,za=!1,Gs=!1,_c=0,ml=0,Ba=null,kS=0;function pt(){throw Error(s(321))}function sf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!_n(t[a],r[a]))return!1;return!0}function af(t,r,a,l,h,f){return Rr=f,xe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=t===null||t.memoizedState===null?By:qy,Gs=!1,f=a(l,h),Gs=!1,za&&(f=ay(r,a,l,h)),sy(t),f}function sy(t){X.H=wc;var r=Ze!==null&&Ze.next!==null;if(Rr=0,St=Ze=xe=null,yc=!1,ml=0,Ba=null,r)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&hc(t)&&(Pt=!0))}function ay(t,r,a,l){xe=t;var h=0;do{if(za&&(Ba=null),ml=0,za=!1,25<=h)throw Error(s(301));if(h+=1,St=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}X.H=BS,f=r(a,l)}while(za);return f}function jS(){var t=X.H,r=t.useState()[0];return r=typeof r.then=="function"?pl(r):r,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(xe.flags|=1024),r}function of(){var t=_c!==0;return _c=0,t}function lf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function uf(t){if(yc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}yc=!1}Rr=0,St=Ze=xe=null,za=!1,ml=_c=0,Ba=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?xe.memoizedState=St=t:St=St.next=t,St}function wt(){if(Ze===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var r=St===null?xe.memoizedState:St.next;if(r!==null)St=r,Ze=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},St===null?xe.memoizedState=St=t:St=St.next=t}return St}function cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var r=ml;return ml+=1,Ba===null&&(Ba=[]),t=Jg(Ba,t,r),r=xe,(St===null?r.memoizedState:St.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?By:qy),t}function vc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===ee)return Xt(t)}throw Error(s(438,String(t)))}function hf(t){var r=null,a=xe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=cf(),xe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function $i(t,r){return typeof r=="function"?r(t):r}function Ec(t){var r=wt();return df(r,Ze,t)}function df(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var E=h.next;h.next=f.next,f.next=E}r.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{r=h.next;var b=E=null,D=null,F=r,W=!1;do{var ne=F.lane&-536870913;if(ne!==F.lane?(qe&ne)===ne:(Rr&ne)===ne){var Q=F.revertLane;if(Q===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ne===Pa&&(W=!0);else if((Rr&Q)===Q){F=F.next,Q===Pa&&(W=!0);continue}else ne={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(b=D=ne,E=f):D=D.next=ne,xe.lanes|=Q,Mr|=Q;ne=F.action,Gs&&a(f,ne),f=F.hasEagerState?F.eagerState:a(f,ne)}else Q={lane:ne,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(b=D=Q,E=f):D=D.next=Q,xe.lanes|=ne,Mr|=ne;F=F.next}while(F!==null&&F!==r);if(D===null?E=f:D.next=b,!_n(f,t.memoizedState)&&(Pt=!0,W&&(a=La,a!==null)))throw a;t.memoizedState=f,t.baseState=E,t.baseQueue=D,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ff(t){var r=wt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=r.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do f=t(f,E.action),E=E.next;while(E!==h);_n(f,r.memoizedState)||(Pt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),a.lastRenderedState=f}return[f,l]}function oy(t,r,a){var l=xe,h=wt(),f=Ge;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!_n((Ze||h).memoizedState,a);E&&(h.memoizedState=a,Pt=!0),h=h.queue;var b=cy.bind(null,l,h,t);if(gl(2048,8,b,[t]),h.getSnapshot!==r||E||St!==null&&St.memoizedState.tag&1){if(l.flags|=2048,qa(9,Tc(),uy.bind(null,l,h,a,r),null),it===null)throw Error(s(349));f||(Rr&124)!==0||ly(l,r,a)}return a}function ly(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=xe.updateQueue,r===null?(r=cf(),xe.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function uy(t,r,a,l){r.value=a,r.getSnapshot=l,hy(r)&&dy(t)}function cy(t,r,a){return a(function(){hy(r)&&dy(t)})}function hy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!_n(t,a)}catch{return!0}}function dy(t){var r=Ma(t,2);r!==null&&wn(r,t,2)}function mf(t){var r=cn();if(typeof t=="function"){var a=t;if(t=a(),Gs){gn(!0);try{a()}finally{gn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},r}function fy(t,r,a,l){return t.baseState=a,df(t,Ze,typeof l=="function"?l:$i)}function VS(t,r,a,l,h){if(Sc(t))throw Error(s(485));if(t=r.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){f.listeners.push(E)}};X.T!==null?a(!0):f.isTransition=!1,l(f),a=r.pending,a===null?(f.next=r.pending=f,my(r,f)):(f.next=a.next,r.pending=a.next=f)}}function my(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var f=X.T,E={};X.T=E;try{var b=a(h,l),D=X.S;D!==null&&D(E,b),py(t,r,b)}catch(F){pf(t,r,F)}finally{X.T=f}}else try{f=a(h,l),py(t,r,f)}catch(F){pf(t,r,F)}}function py(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gy(t,r,l)},function(l){return pf(t,r,l)}):gy(t,r,a)}function gy(t,r,a){r.status="fulfilled",r.value=a,yy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,my(t,a)))}function pf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,yy(r),r=r.next;while(r!==l)}t.action=null}function yy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function _y(t,r){return r}function vy(t,r){if(Ge){var a=it.formState;if(a!==null){e:{var l=xe;if(Ge){if(dt){t:{for(var h=dt,f=pi;h.nodeType!==8;){if(!f){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){dt=$n(h.nextSibling),l=h.data==="F!";break e}}Bs(l)}l=!1}l&&(r=a[0])}}return a=cn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_y,lastRenderedState:r},a.queue=l,a=Ly.bind(null,xe,l),l.dispatch=a,l=mf(!1),f=Ef.bind(null,xe,!1,l.queue),l=cn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=VS.bind(null,xe,h,f,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Ey(t){var r=wt();return Ty(r,Ze,t)}function Ty(t,r,a){if(r=df(t,r,_y)[0],t=Ec($i)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=pl(r)}catch(E){throw E===ul?mc:E}else l=r;r=wt();var h=r.queue,f=h.dispatch;return a!==r.memoizedState&&(xe.flags|=2048,qa(9,Tc(),PS.bind(null,h,a),null)),[l,f,t]}function PS(t,r){t.action=r}function by(t){var r=wt(),a=Ze;if(a!==null)return Ty(r,a,t);wt(),r=r.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function qa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=xe.updateQueue,r===null&&(r=cf(),xe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Tc(){return{destroy:void 0,resource:void 0}}function Sy(){return wt().memoizedState}function bc(t,r,a,l){var h=cn();l=l===void 0?null:l,xe.flags|=t,h.memoizedState=qa(1|r,Tc(),a,l)}function gl(t,r,a,l){var h=wt();l=l===void 0?null:l;var f=h.memoizedState.inst;Ze!==null&&l!==null&&sf(l,Ze.memoizedState.deps)?h.memoizedState=qa(r,f,a,l):(xe.flags|=t,h.memoizedState=qa(1|r,f,a,l))}function wy(t,r){bc(8390656,8,t,r)}function Ay(t,r){gl(2048,8,t,r)}function Ry(t,r){return gl(4,2,t,r)}function Iy(t,r){return gl(4,4,t,r)}function Cy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function xy(t,r,a){a=a!=null?a.concat([t]):null,gl(4,4,Cy.bind(null,r,t),a)}function gf(){}function Ny(t,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&sf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Dy(t,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&sf(r,l[1]))return l[0];if(l=t(),Gs){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,r],l}function yf(t,r,a){return a===void 0||(Rr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=k_(),xe.lanes|=t,Mr|=t,a)}function Oy(t,r,a,l){return _n(a,r)?a:Ua.current!==null?(t=yf(t,a,l),_n(t,r)||(Pt=!0),t):(Rr&42)===0?(Pt=!0,t.memoizedState=a):(t=k_(),xe.lanes|=t,Mr|=t,r)}function My(t,r,a,l,h){var f=le.p;le.p=f!==0&&8>f?f:8;var E=X.T,b={};X.T=b,Ef(t,!1,r,a);try{var D=h(),F=X.S;if(F!==null&&F(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var W=MS(D,l);yl(t,r,W,Sn(t))}else yl(t,r,l,Sn(t))}catch(ne){yl(t,r,{then:function(){},status:"rejected",reason:ne},Sn())}finally{le.p=f,X.T=E}}function LS(){}function _f(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=ky(t).queue;My(t,h,r,ge,a===null?LS:function(){return jy(t),a(l)})}function ky(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function jy(t){var r=ky(t).next.queue;yl(t,r,{},Sn())}function vf(){return Xt(jl)}function Vy(){return wt().memoizedState}function Py(){return wt().memoizedState}function US(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=Sn();t=wr(a);var l=Ar(r,t,a);l!==null&&(wn(l,r,a),hl(l,r,a)),r={cache:Yd()},t.payload=r;return}r=r.return}}function zS(t,r,a){var l=Sn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Sc(t)?Uy(r,a):(a=Ld(t,r,a,l),a!==null&&(wn(a,t,l),zy(a,r,l)))}function Ly(t,r,a){var l=Sn();yl(t,r,a,l)}function yl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))Uy(r,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var E=r.lastRenderedState,b=f(E,a);if(h.hasEagerState=!0,h.eagerState=b,_n(b,E))return ac(t,r,h,0),it===null&&sc(),!1}catch{}finally{}if(a=Ld(t,r,h,l),a!==null)return wn(a,t,l),zy(a,r,l),!0}return!1}function Ef(t,r,a,l){if(l={lane:2,revertLane:Zf(),action:l,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(r)throw Error(s(479))}else r=Ld(t,a,l,2),r!==null&&wn(r,t,2)}function Sc(t){var r=t.alternate;return t===xe||r!==null&&r===xe}function Uy(t,r){za=yc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function zy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Uo(t,a)}}var wc={readContext:Xt,use:vc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},By={readContext:Xt,use:vc,useCallback:function(t,r){return cn().memoizedState=[t,r===void 0?null:r],t},useContext:Xt,useEffect:wy,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,bc(4194308,4,Cy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return bc(4194308,4,t,r)},useInsertionEffect:function(t,r){bc(4,2,t,r)},useMemo:function(t,r){var a=cn();r=r===void 0?null:r;var l=t();if(Gs){gn(!0);try{t()}finally{gn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=cn();if(a!==void 0){var h=a(r);if(Gs){gn(!0);try{a(r)}finally{gn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=zS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var r=cn();return t={current:t},r.memoizedState=t},useState:function(t){t=mf(t);var r=t.queue,a=Ly.bind(null,xe,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:gf,useDeferredValue:function(t,r){var a=cn();return yf(a,t,r)},useTransition:function(){var t=mf(!1);return t=My.bind(null,xe,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=xe,h=cn();if(Ge){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));(qe&124)!==0||ly(l,r,a)}h.memoizedState=a;var f={value:a,getSnapshot:r};return h.queue=f,wy(cy.bind(null,l,f,t),[t]),l.flags|=2048,qa(9,Tc(),uy.bind(null,l,f,a,r),null),a},useId:function(){var t=cn(),r=it.identifierPrefix;if(Ge){var a=Qi,l=Gi;a=(l&~(1<<32-$t(l)-1)).toString(32)+a,r=""+r+"R"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=kS++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:vf,useFormState:vy,useActionState:vy,useOptimistic:function(t){var r=cn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Ef.bind(null,xe,!0,a),a.dispatch=r,[t,r]},useMemoCache:hf,useCacheRefresh:function(){return cn().memoizedState=US.bind(null,xe)}},qy={readContext:Xt,use:vc,useCallback:Ny,useContext:Xt,useEffect:Ay,useImperativeHandle:xy,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:Dy,useReducer:Ec,useRef:Sy,useState:function(){return Ec($i)},useDebugValue:gf,useDeferredValue:function(t,r){var a=wt();return Oy(a,Ze.memoizedState,t,r)},useTransition:function(){var t=Ec($i)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:pl(t),r]},useSyncExternalStore:oy,useId:Vy,useHostTransitionStatus:vf,useFormState:Ey,useActionState:Ey,useOptimistic:function(t,r){var a=wt();return fy(a,Ze,t,r)},useMemoCache:hf,useCacheRefresh:Py},BS={readContext:Xt,use:vc,useCallback:Ny,useContext:Xt,useEffect:Ay,useImperativeHandle:xy,useInsertionEffect:Ry,useLayoutEffect:Iy,useMemo:Dy,useReducer:ff,useRef:Sy,useState:function(){return ff($i)},useDebugValue:gf,useDeferredValue:function(t,r){var a=wt();return Ze===null?yf(a,t,r):Oy(a,Ze.memoizedState,t,r)},useTransition:function(){var t=ff($i)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:pl(t),r]},useSyncExternalStore:oy,useId:Vy,useHostTransitionStatus:vf,useFormState:by,useActionState:by,useOptimistic:function(t,r){var a=wt();return Ze!==null?fy(a,Ze,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:hf,useCacheRefresh:Py},Ha=null,_l=0;function Ac(t){var r=_l;return _l+=1,Ha===null&&(Ha=[]),Jg(Ha,t,r)}function vl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Rc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Hy(t){var r=t._init;return r(t._payload)}function Fy(t){function r(L,j){if(t){var H=L.deletions;H===null?(L.deletions=[j],L.flags|=16):H.push(j)}}function a(L,j){if(!t)return null;for(;j!==null;)r(L,j),j=j.sibling;return null}function l(L){for(var j=new Map;L!==null;)L.key!==null?j.set(L.key,L):j.set(L.index,L),L=L.sibling;return j}function h(L,j){return L=Fi(L,j),L.index=0,L.sibling=null,L}function f(L,j,H){return L.index=H,t?(H=L.alternate,H!==null?(H=H.index,H<j?(L.flags|=67108866,j):H):(L.flags|=67108866,j)):(L.flags|=1048576,j)}function E(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,j,H,J){return j===null||j.tag!==6?(j=zd(H,L.mode,J),j.return=L,j):(j=h(j,H),j.return=L,j)}function D(L,j,H,J){var pe=H.type;return pe===U?W(L,j,H.props.children,J,H.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Hy(pe)===j.type)?(j=h(j,H.props),vl(j,H),j.return=L,j):(j=lc(H.type,H.key,H.props,null,L.mode,J),vl(j,H),j.return=L,j)}function F(L,j,H,J){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=Bd(H,L.mode,J),j.return=L,j):(j=h(j,H.children||[]),j.return=L,j)}function W(L,j,H,J,pe){return j===null||j.tag!==7?(j=Ps(H,L.mode,J,pe),j.return=L,j):(j=h(j,H),j.return=L,j)}function ne(L,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=zd(""+j,L.mode,H),j.return=L,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return H=lc(j.type,j.key,j.props,null,L.mode,H),vl(H,j),H.return=L,H;case C:return j=Bd(j,L.mode,H),j.return=L,j;case R:var J=j._init;return j=J(j._payload),ne(L,j,H)}if(we(j)||V(j))return j=Ps(j,L.mode,H,null),j.return=L,j;if(typeof j.then=="function")return ne(L,Ac(j),H);if(j.$$typeof===ee)return ne(L,dc(L,j),H);Rc(L,j)}return null}function Q(L,j,H,J){var pe=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return pe!==null?null:b(L,j,""+H,J);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===pe?D(L,j,H,J):null;case C:return H.key===pe?F(L,j,H,J):null;case R:return pe=H._init,H=pe(H._payload),Q(L,j,H,J)}if(we(H)||V(H))return pe!==null?null:W(L,j,H,J,null);if(typeof H.then=="function")return Q(L,j,Ac(H),J);if(H.$$typeof===ee)return Q(L,j,dc(L,H),J);Rc(L,H)}return null}function Y(L,j,H,J,pe){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(H)||null,b(j,L,""+J,pe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case A:return L=L.get(J.key===null?H:J.key)||null,D(j,L,J,pe);case C:return L=L.get(J.key===null?H:J.key)||null,F(j,L,J,pe);case R:var Oe=J._init;return J=Oe(J._payload),Y(L,j,H,J,pe)}if(we(J)||V(J))return L=L.get(H)||null,W(j,L,J,pe,null);if(typeof J.then=="function")return Y(L,j,H,Ac(J),pe);if(J.$$typeof===ee)return Y(L,j,H,dc(j,J),pe);Rc(j,J)}return null}function Se(L,j,H,J){for(var pe=null,Oe=null,ye=j,Ee=j=0,Ut=null;ye!==null&&Ee<H.length;Ee++){ye.index>Ee?(Ut=ye,ye=null):Ut=ye.sibling;var Fe=Q(L,ye,H[Ee],J);if(Fe===null){ye===null&&(ye=Ut);break}t&&ye&&Fe.alternate===null&&r(L,ye),j=f(Fe,j,Ee),Oe===null?pe=Fe:Oe.sibling=Fe,Oe=Fe,ye=Ut}if(Ee===H.length)return a(L,ye),Ge&&Us(L,Ee),pe;if(ye===null){for(;Ee<H.length;Ee++)ye=ne(L,H[Ee],J),ye!==null&&(j=f(ye,j,Ee),Oe===null?pe=ye:Oe.sibling=ye,Oe=ye);return Ge&&Us(L,Ee),pe}for(ye=l(ye);Ee<H.length;Ee++)Ut=Y(ye,L,Ee,H[Ee],J),Ut!==null&&(t&&Ut.alternate!==null&&ye.delete(Ut.key===null?Ee:Ut.key),j=f(Ut,j,Ee),Oe===null?pe=Ut:Oe.sibling=Ut,Oe=Ut);return t&&ye.forEach(function(qr){return r(L,qr)}),Ge&&Us(L,Ee),pe}function ve(L,j,H,J){if(H==null)throw Error(s(151));for(var pe=null,Oe=null,ye=j,Ee=j=0,Ut=null,Fe=H.next();ye!==null&&!Fe.done;Ee++,Fe=H.next()){ye.index>Ee?(Ut=ye,ye=null):Ut=ye.sibling;var qr=Q(L,ye,Fe.value,J);if(qr===null){ye===null&&(ye=Ut);break}t&&ye&&qr.alternate===null&&r(L,ye),j=f(qr,j,Ee),Oe===null?pe=qr:Oe.sibling=qr,Oe=qr,ye=Ut}if(Fe.done)return a(L,ye),Ge&&Us(L,Ee),pe;if(ye===null){for(;!Fe.done;Ee++,Fe=H.next())Fe=ne(L,Fe.value,J),Fe!==null&&(j=f(Fe,j,Ee),Oe===null?pe=Fe:Oe.sibling=Fe,Oe=Fe);return Ge&&Us(L,Ee),pe}for(ye=l(ye);!Fe.done;Ee++,Fe=H.next())Fe=Y(ye,L,Ee,Fe.value,J),Fe!==null&&(t&&Fe.alternate!==null&&ye.delete(Fe.key===null?Ee:Fe.key),j=f(Fe,j,Ee),Oe===null?pe=Fe:Oe.sibling=Fe,Oe=Fe);return t&&ye.forEach(function(qw){return r(L,qw)}),Ge&&Us(L,Ee),pe}function et(L,j,H,J){if(typeof H=="object"&&H!==null&&H.type===U&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:e:{for(var pe=H.key;j!==null;){if(j.key===pe){if(pe=H.type,pe===U){if(j.tag===7){a(L,j.sibling),J=h(j,H.props.children),J.return=L,L=J;break e}}else if(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===R&&Hy(pe)===j.type){a(L,j.sibling),J=h(j,H.props),vl(J,H),J.return=L,L=J;break e}a(L,j);break}else r(L,j);j=j.sibling}H.type===U?(J=Ps(H.props.children,L.mode,J,H.key),J.return=L,L=J):(J=lc(H.type,H.key,H.props,null,L.mode,J),vl(J,H),J.return=L,L=J)}return E(L);case C:e:{for(pe=H.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){a(L,j.sibling),J=h(j,H.children||[]),J.return=L,L=J;break e}else{a(L,j);break}else r(L,j);j=j.sibling}J=Bd(H,L.mode,J),J.return=L,L=J}return E(L);case R:return pe=H._init,H=pe(H._payload),et(L,j,H,J)}if(we(H))return Se(L,j,H,J);if(V(H)){if(pe=V(H),typeof pe!="function")throw Error(s(150));return H=pe.call(H),ve(L,j,H,J)}if(typeof H.then=="function")return et(L,j,Ac(H),J);if(H.$$typeof===ee)return et(L,j,dc(L,H),J);Rc(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(a(L,j.sibling),J=h(j,H),J.return=L,L=J):(a(L,j),J=zd(H,L.mode,J),J.return=L,L=J),E(L)):a(L,j)}return function(L,j,H,J){try{_l=0;var pe=et(L,j,H,J);return Ha=null,pe}catch(ye){if(ye===ul||ye===mc)throw ye;var Oe=vn(29,ye,null,L.mode);return Oe.lanes=J,Oe.return=L,Oe}finally{}}}var Fa=Fy(!0),Gy=Fy(!1),Vn=re(null),gi=null;function Ir(t){var r=t.alternate;q(Ot,Ot.current&1),q(Vn,t),gi===null&&(r===null||Ua.current!==null||r.memoizedState!==null)&&(gi=t)}function Qy(t){if(t.tag===22){if(q(Ot,Ot.current),q(Vn,t),gi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(gi=t)}}else Cr()}function Cr(){q(Ot,Ot.current),q(Vn,Vn.current)}function Xi(t){ue(Vn),gi===t&&(gi=null),ue(Ot)}var Ot=re(0);function Ic(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||cm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Tf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:T({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=Sn(),h=wr(l);h.payload=r,a!=null&&(h.callback=a),r=Ar(t,h,l),r!==null&&(wn(r,t,l),hl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=Sn(),h=wr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Ar(t,h,l),r!==null&&(wn(r,t,l),hl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=Sn(),l=wr(a);l.tag=2,r!=null&&(l.callback=r),r=Ar(t,l,a),r!==null&&(wn(r,t,a),hl(r,t,a))}};function Ky(t,r,a,l,h,f,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,E):r.prototype&&r.prototype.isPureReactComponent?!tl(a,l)||!tl(h,f):!0}function Yy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&bf.enqueueReplaceState(r,r.state,null)}function Qs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function $y(t){Cc(t)}function Xy(t){console.error(t)}function Wy(t){Cc(t)}function xc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Zy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Sf(t,r,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(t,r)},a}function Jy(t){return t=wr(t),t.tag=3,t}function e_(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){Zy(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Zy(r,a,l),typeof h!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function qS(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&al(r,a,h,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return gi===null?Kf():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Wd?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),$f(t,l,h)),!1;case 22:return a.flags|=65536,l===Wd?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),$f(t,l,h)),!1}throw Error(s(435,a.tag))}return $f(t,l,h),Kf(),!1}if(Ge)return r=Vn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Fd&&(t=Error(s(422),{cause:l}),sl(On(t,a)))):(l!==Fd&&(r=Error(s(423),{cause:l}),sl(On(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=Sf(t.stateNode,l,h),ef(t,h),ft!==4&&(ft=2)),!1;var f=Error(s(520),{cause:l});if(f=On(f,a),Rl===null?Rl=[f]:Rl.push(f),ft!==4&&(ft=2),r===null)return!0;l=On(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Sf(a.stateNode,l,t),ef(a,t),!1;case 1:if(r=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(kr===null||!kr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Jy(h),e_(h,t,a,l),ef(a,h),!1}a=a.return}while(a!==null);return!1}var t_=Error(s(461)),Pt=!1;function Ht(t,r,a,l){r.child=t===null?Gy(r,null,a,l):Fa(r,t.child,a,l)}function n_(t,r,a,l,h){a=a.render;var f=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return Hs(r),l=af(t,r,a,E,f,h),b=of(),t!==null&&!Pt?(lf(t,r,h),Wi(t,r,h)):(Ge&&b&&qd(r),r.flags|=1,Ht(t,r,l,h),r.child)}function i_(t,r,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Ud(f)&&f.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=f,r_(t,r,f,l,h)):(t=lc(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,!Df(t,h)){var E=f.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(E,l)&&t.ref===r.ref)return Wi(t,r,h)}return r.flags|=1,t=Fi(f,l),t.ref=r.ref,t.return=r,r.child=t}function r_(t,r,a,l,h){if(t!==null){var f=t.memoizedProps;if(tl(f,l)&&t.ref===r.ref)if(Pt=!1,r.pendingProps=l=f,Df(t,h))(t.flags&131072)!==0&&(Pt=!0);else return r.lanes=t.lanes,Wi(t,r,h)}return wf(t,r,a,l,h)}function s_(t,r,a){var l=r.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=r.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;r.childLanes=f&~l}else r.childLanes=0,r.child=null;return a_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&fc(r,f!==null?f.cachePool:null),f!==null?ry(r,f):nf(),Qy(r);else return r.lanes=r.childLanes=536870912,a_(t,r,f!==null?f.baseLanes|a:a,a)}else f!==null?(fc(r,f.cachePool),ry(r,f),Cr(),r.memoizedState=null):(t!==null&&fc(r,null),nf(),Cr());return Ht(t,r,h,a),r.child}function a_(t,r,a,l){var h=Xd();return h=h===null?null:{parent:Dt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&fc(r,null),nf(),Qy(r),t!==null&&al(t,r,l,!0),null}function Nc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function wf(t,r,a,l,h){return Hs(r),a=af(t,r,a,l,void 0,h),l=of(),t!==null&&!Pt?(lf(t,r,h),Wi(t,r,h)):(Ge&&l&&qd(r),r.flags|=1,Ht(t,r,a,h),r.child)}function o_(t,r,a,l,h,f){return Hs(r),r.updateQueue=null,a=ay(r,l,a,h),sy(t),l=of(),t!==null&&!Pt?(lf(t,r,f),Wi(t,r,f)):(Ge&&l&&qd(r),r.flags|=1,Ht(t,r,a,f),r.child)}function l_(t,r,a,l,h){if(Hs(r),r.stateNode===null){var f=ka,E=a.contextType;typeof E=="object"&&E!==null&&(f=Xt(E)),f=new a(l,f),r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=bf,r.stateNode=f,f._reactInternals=r,f=r.stateNode,f.props=l,f.state=r.memoizedState,f.refs={},Zd(r),E=a.contextType,f.context=typeof E=="object"&&E!==null?Xt(E):ka,f.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Tf(r,a,E,l),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(E=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),E!==f.state&&bf.enqueueReplaceState(f,f.state,null),fl(r,l,f,h),dl(),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){f=r.stateNode;var b=r.memoizedProps,D=Qs(a,b);f.props=D;var F=f.context,W=a.contextType;E=ka,typeof W=="object"&&W!==null&&(E=Xt(W));var ne=a.getDerivedStateFromProps;W=typeof ne=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||F!==E)&&Yy(r,f,l,E),Sr=!1;var Q=r.memoizedState;f.state=Q,fl(r,l,f,h),dl(),F=r.memoizedState,b||Q!==F||Sr?(typeof ne=="function"&&(Tf(r,a,ne,l),F=r.memoizedState),(D=Sr||Ky(r,a,D,l,Q,F,E))?(W||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(r.flags|=4194308)):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),f.props=l,f.state=F,f.context=E,l=D):(typeof f.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{f=r.stateNode,Jd(t,r),E=r.memoizedProps,W=Qs(a,E),f.props=W,ne=r.pendingProps,Q=f.context,F=a.contextType,D=ka,typeof F=="object"&&F!==null&&(D=Xt(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E!==ne||Q!==D)&&Yy(r,f,l,D),Sr=!1,Q=r.memoizedState,f.state=Q,fl(r,l,f,h),dl();var Y=r.memoizedState;E!==ne||Q!==Y||Sr||t!==null&&t.dependencies!==null&&hc(t.dependencies)?(typeof b=="function"&&(Tf(r,a,b,l),Y=r.memoizedState),(W=Sr||Ky(r,a,W,l,Q,Y,D)||t!==null&&t.dependencies!==null&&hc(t.dependencies))?(F||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,Y,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,Y,D)),typeof f.componentDidUpdate=="function"&&(r.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Y),f.props=l,f.state=Y,f.context=D,l=W):(typeof f.componentDidUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(r.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&Q===t.memoizedState||(r.flags|=1024),l=!1)}return f=l,Nc(t,r),l=(r.flags&128)!==0,f||l?(f=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),r.flags|=1,t!==null&&l?(r.child=Fa(r,t.child,null,h),r.child=Fa(r,null,a,h)):Ht(t,r,a,h),r.memoizedState=f.state,t=r.child):t=Wi(t,r,h),t}function u_(t,r,a,l){return rl(),r.flags|=256,Ht(t,r,a,l),r.child}var Af={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rf(t){return{baseLanes:t,cachePool:Xg()}}function If(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Pn),t}function c_(t,r,a){var l=r.pendingProps,h=!1,f=(r.flags&128)!==0,E;if((E=f)||(E=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ge){if(h?Ir(r):Cr(),Ge){var b=dt,D;if(D=b){e:{for(D=b,b=pi;D.nodeType!==8;){if(!b){b=null;break e}if(D=$n(D.nextSibling),D===null){b=null;break e}}b=D}b!==null?(r.memoizedState={dehydrated:b,treeContext:Ls!==null?{id:Gi,overflow:Qi}:null,retryLane:536870912,hydrationErrors:null},D=vn(18,null,null,0),D.stateNode=b,D.return=r,r.child=D,ln=r,dt=null,D=!0):D=!1}D||Bs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return cm(b)?r.lanes=32:r.lanes=536870912,null;Xi(r)}return b=l.children,l=l.fallback,h?(Cr(),h=r.mode,b=Dc({mode:"hidden",children:b},h),l=Ps(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=Rf(a),h.childLanes=If(t,E,a),r.memoizedState=Af,l):(Ir(r),Cf(r,b))}if(D=t.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(f)r.flags&256?(Ir(r),r.flags&=-257,r=xf(t,r,a)):r.memoizedState!==null?(Cr(),r.child=t.child,r.flags|=128,r=null):(Cr(),h=l.fallback,b=r.mode,l=Dc({mode:"visible",children:l.children},b),h=Ps(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Fa(r,t.child,null,a),l=r.child,l.memoizedState=Rf(a),l.childLanes=If(t,E,a),r.memoizedState=Af,r=h);else if(Ir(r),cm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,sl({value:l,source:null,stack:null}),r=xf(t,r,a)}else if(Pt||al(t,r,a,!1),E=(a&t.childLanes)!==0,Pt||E){if(E=it,E!==null&&(l=a&-a,l=(l&42)!==0?1:pr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Ma(t,l),wn(E,t,l),t_;b.data==="$?"||Kf(),r=xf(t,r,a)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,dt=$n(b.nextSibling),ln=r,Ge=!0,zs=null,pi=!1,t!==null&&(kn[jn++]=Gi,kn[jn++]=Qi,kn[jn++]=Ls,Gi=t.id,Qi=t.overflow,Ls=r),r=Cf(r,l.children),r.flags|=4096);return r}return h?(Cr(),h=l.fallback,b=r.mode,D=t.child,F=D.sibling,l=Fi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,F!==null?h=Fi(F,h):(h=Ps(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=Rf(a):(D=b.cachePool,D!==null?(F=Dt._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=Xg(),b={baseLanes:b.baseLanes|a,cachePool:D}),h.memoizedState=b,h.childLanes=If(t,E,a),r.memoizedState=Af,l):(Ir(r),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function Cf(t,r){return r=Dc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Dc(t,r){return t=vn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function xf(t,r,a){return Fa(r,t.child,null,a),t=Cf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function h_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Qd(t.return,r,a)}function Nf(t,r,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function d_(t,r,a){var l=r.pendingProps,h=l.revealOrder,f=l.tail;if(Ht(t,r,l.children,a),l=Ot.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&h_(t,a,r);else if(t.tag===19)h_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(q(Ot,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&Ic(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),Nf(r,!1,h,a,f);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&Ic(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Nf(r,!0,a,null,f);break;case"together":Nf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Mr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(al(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Fi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Df(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&hc(t)))}function HS(t,r,a){switch(r.tag){case 3:nt(r,r.stateNode.containerInfo),br(r,Dt,t.memoizedState.cache),rl();break;case 27:case 5:mr(r);break;case 4:nt(r,r.stateNode.containerInfo);break;case 10:br(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ir(r),r.flags|=128,null):(a&r.child.childLanes)!==0?c_(t,r,a):(Ir(r),t=Wi(t,r,a),t!==null?t.sibling:null);Ir(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(al(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return d_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),q(Ot,Ot.current),l)break;return null;case 22:case 23:return r.lanes=0,s_(t,r,a);case 24:br(r,Dt,t.memoizedState.cache)}return Wi(t,r,a)}function f_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Pt=!0;else{if(!Df(t,a)&&(r.flags&128)===0)return Pt=!1,HS(t,r,a);Pt=(t.flags&131072)!==0}else Pt=!1,Ge&&(r.flags&1048576)!==0&&Hg(r,cc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Ud(l)?(t=Qs(l,t),r.tag=1,r=l_(null,r,l,t,a)):(r.tag=0,r=wf(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===fe){r.tag=11,r=n_(null,r,l,t,a);break e}else if(h===x){r.tag=14,r=i_(null,r,l,t,a);break e}}throw r=ce(l)||l,Error(s(306,r,""))}}return r;case 0:return wf(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Qs(l,r.pendingProps),l_(t,r,l,h,a);case 3:e:{if(nt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var f=r.memoizedState;h=f.element,Jd(t,r),fl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,br(r,Dt,l),l!==f.cache&&Kd(r,[Dt],a,!0),dl(),l=E.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=u_(t,r,l,a);break e}else if(l!==h){h=On(Error(s(424)),r),sl(h),r=u_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=$n(t.firstChild),ln=r,Ge=!0,zs=null,pi=!0,a=Gy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(rl(),l===h){r=Wi(t,r,a);break e}Ht(t,r,l,a)}r=r.child}return r;case 26:return Nc(t,r),t===null?(a=yv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ge||(a=r.type,t=r.pendingProps,l=Gc(Ae.current).createElement(a),l[Ct]=r,l[Tt]=t,Gt(l,a,t),mt(l),r.stateNode=l):r.memoizedState=yv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return mr(r),t===null&&Ge&&(l=r.stateNode=mv(r.type,r.pendingProps,Ae.current),ln=r,pi=!0,h=dt,Pr(r.type)?(hm=h,dt=$n(l.firstChild)):dt=h),Ht(t,r,r.pendingProps.children,a),Nc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Ge&&((h=l=dt)&&(l=yw(l,r.type,r.pendingProps,pi),l!==null?(r.stateNode=l,ln=r,dt=$n(l.firstChild),pi=!1,h=!0):h=!1),h||Bs(r)),mr(r),h=r.type,f=r.pendingProps,E=t!==null?t.memoizedProps:null,l=f.children,om(h,f)?l=null:E!==null&&om(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=af(t,r,jS,null,null,a),jl._currentValue=h),Nc(t,r),Ht(t,r,l,a),r.child;case 6:return t===null&&Ge&&((t=a=dt)&&(a=_w(a,r.pendingProps,pi),a!==null?(r.stateNode=a,ln=r,dt=null,t=!0):t=!1),t||Bs(r)),null;case 13:return c_(t,r,a);case 4:return nt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Fa(r,null,l,a):Ht(t,r,l,a),r.child;case 11:return n_(t,r,r.type,r.pendingProps,a);case 7:return Ht(t,r,r.pendingProps,a),r.child;case 8:return Ht(t,r,r.pendingProps.children,a),r.child;case 12:return Ht(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,br(r,r.type,l.value),Ht(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Hs(r),h=Xt(h),l=l(h),r.flags|=1,Ht(t,r,l,a),r.child;case 14:return i_(t,r,r.type,r.pendingProps,a);case 15:return r_(t,r,r.type,r.pendingProps,a);case 19:return d_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Dc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Fi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return s_(t,r,a);case 24:return Hs(r),l=Xt(Dt),t===null?(h=Xd(),h===null&&(h=it,f=Yd(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),r.memoizedState={parent:l,cache:h},Zd(r),br(r,Dt,h)):((t.lanes&a)!==0&&(Jd(t,r),fl(r,null,null,a),dl()),h=t.memoizedState,f=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),br(r,Dt,l)):(l=f.cache,br(r,Dt,l),l!==h.cache&&Kd(r,[Dt],a,!0))),Ht(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Zi(t){t.flags|=4}function m_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!bv(r)){if(r=Vn.current,r!==null&&((qe&4194048)===qe?gi!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==gi))throw cl=Wd,Wg;t.flags|=8192}}function Oc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Po():536870912,t.lanes|=r,Ya|=r)}function El(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function FS(t,r,a){var l=r.pendingProps;switch(Hd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Yi(Dt),ii(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(il(r)?Zi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Qg())),ut(r),null;case 26:return a=r.memoizedState,t===null?(Zi(r),a!==null?(ut(r),m_(r,a)):(ut(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Zi(r),ut(r),m_(r,a)):(ut(r),r.flags&=-16777217):(t.memoizedProps!==l&&Zi(r),ut(r),r.flags&=-16777217),null;case 27:Di(r),a=Ae.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}t=de.current,il(r)?Fg(r):(t=mv(h,l,a),r.stateNode=t,Zi(r))}return ut(r),null;case 5:if(Di(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(t=de.current,il(r))Fg(r);else{switch(h=Gc(Ae.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Ct]=r,t[Tt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Gt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Zi(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Zi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ae.current,il(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Ct]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ov(t.nodeValue,a)),t||Bs(r)}else t=Gc(t).createTextNode(l),t[Ct]=r,r.stateNode=t}return ut(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=il(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ct]=r}else rl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),h=!1}else h=Qg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Oc(r,r.updateQueue),ut(r),null;case 4:return ii(),t===null&&nm(r.stateNode.containerInfo),ut(r),null;case 10:return Yi(r.type),ut(r),null;case 19:if(ue(Ot),h=r.memoizedState,h===null)return ut(r),null;if(l=(r.flags&128)!==0,f=h.rendering,f===null)if(l)El(h,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(f=Ic(t),f!==null){for(r.flags|=128,El(h,!1),t=f.updateQueue,r.updateQueue=t,Oc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)qg(a,t),a=a.sibling;return q(Ot,Ot.current&1|2),r.child}t=t.sibling}h.tail!==null&&Rn()>jc&&(r.flags|=128,l=!0,El(h,!1),r.lanes=4194304)}else{if(!l)if(t=Ic(f),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Oc(r,t),El(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Ge)return ut(r),null}else 2*Rn()-h.renderingStartTime>jc&&a!==536870912&&(r.flags|=128,l=!0,El(h,!1),r.lanes=4194304);h.isBackwards?(f.sibling=r.child,r.child=f):(t=h.last,t!==null?t.sibling=f:r.child=f,h.last=f)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Rn(),r.sibling=null,t=Ot.current,q(Ot,l?t&1|2:t&1),r):(ut(r),null);case 22:case 23:return Xi(r),rf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Oc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ue(Fs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Yi(Dt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function GS(t,r){switch(Hd(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Yi(Dt),ii(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Di(r),null;case 13:if(Xi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));rl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ue(Ot),null;case 4:return ii(),null;case 10:return Yi(r.type),null;case 22:case 23:return Xi(r),rf(),t!==null&&ue(Fs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Yi(Dt),null;case 25:return null;default:return null}}function p_(t,r){switch(Hd(r),r.tag){case 3:Yi(Dt),ii();break;case 26:case 27:case 5:Di(r);break;case 4:ii();break;case 13:Xi(r);break;case 19:ue(Ot);break;case 10:Yi(r.type);break;case 22:case 23:Xi(r),rf(),t!==null&&ue(Fs);break;case 24:Yi(Dt)}}function Tl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,E=a.inst;l=f(),E.destroy=l}a=a.next}while(a!==h)}}catch(b){tt(r,r.return,b)}}function xr(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=r;var D=a,F=b;try{F()}catch(W){tt(h,D,W)}}}l=l.next}while(l!==f)}}catch(W){tt(r,r.return,W)}}function g_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{iy(r,a)}catch(l){tt(t,t.return,l)}}}function y_(t,r,a){a.props=Qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,r,l)}}function bl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){tt(t,r,h)}}function yi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){tt(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){tt(t,r,h)}else a.current=null}function __(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){tt(t,t.return,h)}}function Of(t,r,a){try{var l=t.stateNode;dw(l,t.type,a,r),l[Tt]=r}catch(h){tt(t,t.return,h)}}function v_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pr(t.type)||t.tag===4}function Mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kf(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Fc));else if(l!==4&&(l===27&&Pr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(kf(t,r,a),t=t.sibling;t!==null;)kf(t,r,a),t=t.sibling}function Mc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Pr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Mc(t,r,a),t=t.sibling;t!==null;)Mc(t,r,a),t=t.sibling}function E_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Gt(r,l,a),r[Ct]=t,r[Tt]=a}catch(f){tt(t,t.return,f)}}var Ji=!1,gt=!1,jf=!1,T_=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function QS(t,r){if(t=t.containerInfo,sm=Wc,t=Og(t),Od(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var E=0,b=-1,D=-1,F=0,W=0,ne=t,Q=null;t:for(;;){for(var Y;ne!==a||h!==0&&ne.nodeType!==3||(b=E+h),ne!==f||l!==0&&ne.nodeType!==3||(D=E+l),ne.nodeType===3&&(E+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)Q=ne,ne=Y;for(;;){if(ne===t)break t;if(Q===a&&++F===h&&(b=E),Q===f&&++W===l&&(D=E),(Y=ne.nextSibling)!==null)break;ne=Q,Q=ne.parentNode}ne=Y}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(am={focusedElem:t,selectionRange:a},Wc=!1,Lt=r;Lt!==null;)if(r=Lt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Lt=t;else for(;Lt!==null;){switch(r=Lt,f=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=r,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Se=Qs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Se,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){tt(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)um(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":um(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Lt=t;break}Lt=r.return}}function b_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Nr(t,a),l&4&&Tl(5,a);break;case 1:if(Nr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){tt(a,a.return,E)}else{var h=Qs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(a,a.return,E)}}l&64&&g_(a),l&512&&bl(a,a.return);break;case 3:if(Nr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{iy(t,r)}catch(E){tt(a,a.return,E)}}break;case 27:r===null&&l&4&&E_(a);case 26:case 5:Nr(t,a),r===null&&l&4&&__(a),l&512&&bl(a,a.return);break;case 12:Nr(t,a);break;case 13:Nr(t,a),l&4&&A_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=tw.bind(null,a),vw(t,a))));break;case 22:if(l=a.memoizedState!==null||Ji,!l){r=r!==null&&r.memoizedState!==null||gt,h=Ji;var f=gt;Ji=l,(gt=r)&&!f?Dr(t,a,(a.subtreeFlags&8772)!==0):Nr(t,a),Ji=h,gt=f}break;case 30:break;default:Nr(t,a)}}function S_(t){var r=t.alternate;r!==null&&(t.alternate=null,S_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&_r(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,hn=!1;function er(t,r,a){for(a=a.child;a!==null;)w_(t,r,a),a=a.sibling}function w_(t,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:gt||yi(a,r),er(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||yi(a,r);var l=ot,h=hn;Pr(a.type)&&(ot=a.stateNode,hn=!1),er(t,r,a),Dl(a.stateNode),ot=l,hn=h;break;case 5:gt||yi(a,r);case 6:if(l=ot,h=hn,ot=null,er(t,r,a),ot=l,hn=h,ot!==null)if(hn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(f){tt(a,r,f)}else try{ot.removeChild(a.stateNode)}catch(f){tt(a,r,f)}break;case 18:ot!==null&&(hn?(t=ot,dv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ul(t)):dv(ot,a.stateNode));break;case 4:l=ot,h=hn,ot=a.stateNode.containerInfo,hn=!0,er(t,r,a),ot=l,hn=h;break;case 0:case 11:case 14:case 15:gt||xr(2,a,r),gt||xr(4,a,r),er(t,r,a);break;case 1:gt||(yi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&y_(a,r,l)),er(t,r,a);break;case 21:er(t,r,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,er(t,r,a),gt=l;break;default:er(t,r,a)}}function A_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(a){tt(r,r.return,a)}}function KS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new T_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new T_),r;default:throw Error(s(435,t.tag))}}function Vf(t,r){var a=KS(t);r.forEach(function(l){var h=nw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function En(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Pr(b.type)){ot=b.stateNode,hn=!1;break e}break;case 5:ot=b.stateNode,hn=!1;break e;case 3:case 4:ot=b.stateNode.containerInfo,hn=!0;break e}b=b.return}if(ot===null)throw Error(s(160));w_(f,E,h),ot=null,hn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)R_(r,t),r=r.sibling}var Yn=null;function R_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:En(r,t),Tn(t),l&4&&(xr(3,t,t.return),Tl(3,t),xr(5,t,t.return));break;case 1:En(r,t),Tn(t),l&512&&(gt||a===null||yi(a,a.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Yn;if(En(r,t),Tn(t),l&512&&(gt||a===null||yi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ts]||f[Ct]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Gt(f,l,a),f[Ct]=t,mt(f),l=f;break e;case"link":var E=Ev("link","href",h).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(f=E[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}f=h.createElement(l),Gt(f,l,a),h.head.appendChild(f);break;case"meta":if(E=Ev("meta","content",h).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(f=E[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}f=h.createElement(l),Gt(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[Ct]=t,mt(f),l=f}t.stateNode=l}else Tv(h,t.type,t.stateNode);else t.stateNode=vv(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Tv(h,t.type,t.stateNode):vv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Of(t,t.memoizedProps,a.memoizedProps)}break;case 27:En(r,t),Tn(t),l&512&&(gt||a===null||yi(a,a.return)),a!==null&&l&4&&Of(t,t.memoizedProps,a.memoizedProps);break;case 5:if(En(r,t),Tn(t),l&512&&(gt||a===null||yi(a,a.return)),t.flags&32){h=t.stateNode;try{Cn(h,"")}catch(Y){tt(t,t.return,Y)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Of(t,h,a!==null?a.memoizedProps:h)),l&1024&&(jf=!0);break;case 6:if(En(r,t),Tn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Y){tt(t,t.return,Y)}}break;case 3:if(Yc=null,h=Yn,Yn=Qc(r.containerInfo),En(r,t),Yn=h,Tn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(r.containerInfo)}catch(Y){tt(t,t.return,Y)}jf&&(jf=!1,I_(t));break;case 4:l=Yn,Yn=Qc(t.stateNode.containerInfo),En(r,t),Tn(t),Yn=l;break;case 12:En(r,t),Tn(t);break;case 13:En(r,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(qf=Rn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vf(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,F=Ji,W=gt;if(Ji=F||h,gt=W||D,En(r,t),gt=W,Ji=F,Tn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||D||Ji||gt||Ks(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(f=D.stateNode,h)E=f.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=D.stateNode;var ne=D.memoizedProps.style,Q=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;b.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(Y){tt(D,D.return,Y)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(Y){tt(D,D.return,Y)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Vf(t,a))));break;case 19:En(r,t),Tn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Vf(t,l)));break;case 30:break;case 21:break;default:En(r,t),Tn(t)}}function Tn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(v_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Mf(t);Mc(t,f,h);break;case 5:var E=a.stateNode;a.flags&32&&(Cn(E,""),a.flags&=-33);var b=Mf(t);Mc(t,b,E);break;case 3:case 4:var D=a.stateNode.containerInfo,F=Mf(t);kf(t,F,D);break;default:throw Error(s(161))}}catch(W){tt(t,t.return,W)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function I_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;I_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Nr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)b_(t,r.alternate,r),r=r.sibling}function Ks(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:xr(4,r,r.return),Ks(r);break;case 1:yi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&y_(r,r.return,a),Ks(r);break;case 27:Dl(r.stateNode);case 26:case 5:yi(r,r.return),Ks(r);break;case 22:r.memoizedState===null&&Ks(r);break;case 30:Ks(r);break;default:Ks(r)}t=t.sibling}}function Dr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,f=r,E=f.flags;switch(f.tag){case 0:case 11:case 15:Dr(h,f,a),Tl(4,f);break;case 1:if(Dr(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(F){tt(l,l.return,F)}if(l=f,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)ny(D[h],b)}catch(F){tt(l,l.return,F)}}a&&E&64&&g_(f),bl(f,f.return);break;case 27:E_(f);case 26:case 5:Dr(h,f,a),a&&l===null&&E&4&&__(f),bl(f,f.return);break;case 12:Dr(h,f,a);break;case 13:Dr(h,f,a),a&&E&4&&A_(h,f);break;case 22:f.memoizedState===null&&Dr(h,f,a),bl(f,f.return);break;case 30:break;default:Dr(h,f,a)}r=r.sibling}}function Pf(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function Lf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ol(t))}function _i(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)C_(t,r,a,l),r=r.sibling}function C_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:_i(t,r,a,l),h&2048&&Tl(9,r);break;case 1:_i(t,r,a,l);break;case 3:_i(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){_i(t,r,a,l),t=r.stateNode;try{var f=r.memoizedProps,E=f.id,b=f.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){tt(r,r.return,D)}}else _i(t,r,a,l);break;case 13:_i(t,r,a,l);break;case 23:break;case 22:f=r.stateNode,E=r.alternate,r.memoizedState!==null?f._visibility&2?_i(t,r,a,l):Sl(t,r):f._visibility&2?_i(t,r,a,l):(f._visibility|=2,Ga(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Pf(E,r);break;case 24:_i(t,r,a,l),h&2048&&Lf(r.alternate,r);break;default:_i(t,r,a,l)}}function Ga(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var f=t,E=r,b=a,D=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Ga(f,E,b,D,h),Tl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Ga(f,E,b,D,h):Sl(f,E):(W._visibility|=2,Ga(f,E,b,D,h)),h&&F&2048&&Pf(E.alternate,E);break;case 24:Ga(f,E,b,D,h),h&&F&2048&&Lf(E.alternate,E);break;default:Ga(f,E,b,D,h)}r=r.sibling}}function Sl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:Sl(a,l),h&2048&&Pf(l.alternate,l);break;case 24:Sl(a,l),h&2048&&Lf(l.alternate,l);break;default:Sl(a,l)}r=r.sibling}}var wl=8192;function Qa(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)x_(t),t=t.sibling}function x_(t){switch(t.tag){case 26:Qa(t),t.flags&wl&&t.memoizedState!==null&&Ow(Yn,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var r=Yn;Yn=Qc(t.stateNode.containerInfo),Qa(t),Yn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=wl,wl=16777216,Qa(t),wl=r):Qa(t));break;default:Qa(t)}}function N_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Al(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,O_(l,t)}N_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)D_(t),t=t.sibling}function D_(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&xr(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,kc(t)):Al(t);break;default:Al(t)}}function kc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Lt=l,O_(l,t)}N_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:xr(8,r,r.return),kc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,kc(r));break;default:kc(r)}t=t.sibling}}function O_(t,r){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:xr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,f=l.return;if(S_(l),l===a){Lt=null;break e}if(h!==null){h.return=f,Lt=h;break e}Lt=f}}}var YS={getCacheForType:function(t){var r=Xt(Dt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},$S=typeof WeakMap=="function"?WeakMap:Map,$e=0,it=null,Me=null,qe=0,Xe=0,bn=null,Or=!1,Ka=!1,Uf=!1,tr=0,ft=0,Mr=0,Ys=0,zf=0,Pn=0,Ya=0,Rl=null,dn=null,Bf=!1,qf=0,jc=1/0,Vc=null,kr=null,Ft=0,jr=null,$a=null,Xa=0,Hf=0,Ff=null,M_=null,Il=0,Gf=null;function Sn(){if(($e&2)!==0&&qe!==0)return qe&-qe;if(X.T!==null){var t=Pa;return t!==0?t:Zf()}return gr()}function k_(){Pn===0&&(Pn=(qe&536870912)===0||Ge?Vo():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),Pn}function wn(t,r,a){(t===it&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Wa(t,0),Vr(t,qe,Pn,!1)),Mi(t,a),(($e&2)===0||t!==it)&&(t===it&&(($e&2)===0&&(Ys|=a),ft===4&&Vr(t,qe,Pn,!1)),vi(t))}function j_(t,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||Es(t,r),h=l?ZS(t,r):Yf(t,r,!0),f=l;do{if(h===0){Ka&&!l&&Vr(t,r,0,!1);break}else{if(a=t.current.alternate,f&&!XS(a)){h=Yf(t,r,!1),f=!1;continue}if(h===2){if(f=r,t.errorRecoveryDisabledLanes&f)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=t;h=Rl;var D=b.current.memoizedState.isDehydrated;if(D&&(Wa(b,E).flags|=256),E=Yf(b,E,!1),E!==2){if(Uf&&!D){b.errorRecoveryDisabledLanes|=f,Ys|=f,h=4;break e}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=E}if(f=!1,h!==2)continue}}if(h===1){Wa(t,0),Vr(t,r,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Vr(l,r,Pn,!Or);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=qf+300-Rn(),10<h)){if(Vr(l,r,Pn,!Or),ma(l,0,!0)!==0)break e;l.timeoutHandle=cv(V_.bind(null,l,a,dn,Vc,Bf,r,Pn,Ys,Ya,Or,f,2,-0,0),h);break e}V_(l,a,dn,Vc,Bf,r,Pn,Ys,Ya,Or,f,0,-0,0)}}break}while(!0);vi(t)}function V_(t,r,a,l,h,f,E,b,D,F,W,ne,Q,Y){if(t.timeoutHandle=-1,ne=r.subtreeFlags,(ne&8192||(ne&16785408)===16785408)&&(kl={stylesheets:null,count:0,unsuspend:Dw},x_(r),ne=Mw(),ne!==null)){t.cancelPendingCommit=ne(H_.bind(null,t,r,f,a,l,h,E,b,D,W,1,Q,Y)),Vr(t,f,E,!F);return}H_(t,r,f,a,l,h,E,b,D)}function XS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Vr(t,r,a,l){r&=~zf,r&=~Ys,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var f=31-$t(h),E=1<<f;l[f]=-1,h&=~E}a!==0&&ri(t,a,r)}function Pc(){return($e&6)===0?(Cl(0),!1):!0}function Qf(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,Ki=qs=null,uf(t),Ha=null,_l=0,t=Me;for(;t!==null;)p_(t.alternate,t),t=t.return;Me=null}}function Wa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qf(),it=t,Me=a=Fi(t.current,null),qe=r,Xe=0,bn=null,Or=!1,Ka=Es(t,r),Uf=!1,Ya=Pn=zf=Ys=Mr=ft=0,dn=Rl=null,Bf=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-$t(l),f=1<<h;r|=t[h],l&=~f}return tr=r,sc(),a}function P_(t,r){xe=null,X.H=wc,r===ul||r===mc?(r=ey(),Xe=3):r===Wg?(r=ey(),Xe=4):Xe=r===t_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,bn=r,Me===null&&(ft=1,xc(t,On(r,t.current)))}function L_(){var t=X.H;return X.H=wc,t===null?wc:t}function U_(){var t=X.A;return X.A=YS,t}function Kf(){ft=4,Or||(qe&4194048)!==qe&&Vn.current!==null||(Ka=!0),(Mr&134217727)===0&&(Ys&134217727)===0||it===null||Vr(it,qe,Pn,!1)}function Yf(t,r,a){var l=$e;$e|=2;var h=L_(),f=U_();(it!==t||qe!==r)&&(Vc=null,Wa(t,r)),r=!1;var E=ft;e:do try{if(Xe!==0&&Me!==null){var b=Me,D=bn;switch(Xe){case 8:Qf(),E=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(r=!0);var F=Xe;if(Xe=0,bn=null,Za(t,b,D,F),a&&Ka){E=0;break e}break;default:F=Xe,Xe=0,bn=null,Za(t,b,D,F)}}WS(),E=ft;break}catch(W){P_(t,W)}while(!0);return r&&t.shellSuspendCounter++,Ki=qs=null,$e=l,X.H=h,X.A=f,Me===null&&(it=null,qe=0,sc()),E}function WS(){for(;Me!==null;)z_(Me)}function ZS(t,r){var a=$e;$e|=2;var l=L_(),h=U_();it!==t||qe!==r?(Vc=null,jc=Rn()+500,Wa(t,r)):Ka=Es(t,r);e:do try{if(Xe!==0&&Me!==null){r=Me;var f=bn;t:switch(Xe){case 1:Xe=0,bn=null,Za(t,r,f,1);break;case 2:case 9:if(Zg(f)){Xe=0,bn=null,B_(r);break}r=function(){Xe!==2&&Xe!==9||it!==t||(Xe=7),vi(t)},f.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:Zg(f)?(Xe=0,bn=null,B_(r)):(Xe=0,bn=null,Za(t,r,f,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var b=Me;if(!E||bv(E)){Xe=0,bn=null;var D=b.sibling;if(D!==null)Me=D;else{var F=b.return;F!==null?(Me=F,Lc(F)):Me=null}break t}}Xe=0,bn=null,Za(t,r,f,5);break;case 6:Xe=0,bn=null,Za(t,r,f,6);break;case 8:Qf(),ft=6;break e;default:throw Error(s(462))}}JS();break}catch(W){P_(t,W)}while(!0);return Ki=qs=null,X.H=l,X.A=h,$e=a,Me!==null?0:(it=null,qe=0,sc(),ft)}function JS(){for(;Me!==null&&!Oo();)z_(Me)}function z_(t){var r=f_(t.alternate,t,tr);t.memoizedProps=t.pendingProps,r===null?Lc(t):Me=r}function B_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=o_(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=o_(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:uf(r);default:p_(a,r),r=Me=qg(r,tr),r=f_(a,r,tr)}t.memoizedProps=t.pendingProps,r===null?Lc(t):Me=r}function Za(t,r,a,l){Ki=qs=null,uf(r),Ha=null,_l=0;var h=r.return;try{if(qS(t,h,r,a,qe)){ft=1,xc(t,On(a,t.current)),Me=null;return}}catch(f){if(h!==null)throw Me=h,f;ft=1,xc(t,On(a,t.current)),Me=null;return}r.flags&32768?(Ge||l===1?t=!0:Ka||(qe&536870912)!==0?t=!1:(Or=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),q_(r,t)):Lc(r)}function Lc(t){var r=t;do{if((r.flags&32768)!==0){q_(r,Or);return}t=r.return;var a=FS(r.alternate,r,tr);if(a!==null){Me=a;return}if(r=r.sibling,r!==null){Me=r;return}Me=r=t}while(r!==null);ft===0&&(ft=5)}function q_(t,r){do{var a=GS(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);ft=6,Me=null}function H_(t,r,a,l,h,f,E,b,D){t.cancelPendingCommit=null;do Uc();while(Ft!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(f=r.lanes|r.childLanes,f|=Pd,Lo(t,a,f,E,b,D),t===it&&(Me=it=null,qe=0),$a=r,jr=t,Xa=a,Hf=f,Ff=h,M_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,iw(gs,function(){return Y_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=le.p,le.p=2,E=$e,$e|=4;try{QS(t,r,a)}finally{$e=E,le.p=h,X.T=l}}Ft=1,F_(),G_(),Q_()}}function F_(){if(Ft===1){Ft=0;var t=jr,r=$a,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var h=$e;$e|=4;try{R_(r,t);var f=am,E=Og(t.containerInfo),b=f.focusedElem,D=f.selectionRange;if(E!==b&&b&&b.ownerDocument&&Dg(b.ownerDocument.documentElement,b)){if(D!==null&&Od(b)){var F=D.start,W=D.end;if(W===void 0&&(W=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(W,b.value.length);else{var ne=b.ownerDocument||document,Q=ne&&ne.defaultView||window;if(Q.getSelection){var Y=Q.getSelection(),Se=b.textContent.length,ve=Math.min(D.start,Se),et=D.end===void 0?ve:Math.min(D.end,Se);!Y.extend&&ve>et&&(E=et,et=ve,ve=E);var L=Ng(b,ve),j=Ng(b,et);if(L&&j&&(Y.rangeCount!==1||Y.anchorNode!==L.node||Y.anchorOffset!==L.offset||Y.focusNode!==j.node||Y.focusOffset!==j.offset)){var H=ne.createRange();H.setStart(L.node,L.offset),Y.removeAllRanges(),ve>et?(Y.addRange(H),Y.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),Y.addRange(H))}}}}for(ne=[],Y=b;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ne.length;b++){var J=ne[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Wc=!!sm,am=sm=null}finally{$e=h,le.p=l,X.T=a}}t.current=r,Ft=2}}function G_(){if(Ft===2){Ft=0;var t=jr,r=$a,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var h=$e;$e|=4;try{b_(t,r.alternate,r)}finally{$e=h,le.p=l,X.T=a}}Ft=3}}function Q_(){if(Ft===4||Ft===3){Ft=0,ku();var t=jr,r=$a,a=Xa,l=M_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ft=5:(Ft=0,$a=jr=null,K_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(kr=null),pa(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,h=le.p,le.p=2,X.T=null;try{for(var f=t.onRecoverableError,E=0;E<l.length;E++){var b=l[E];f(b.value,{componentStack:b.stack})}}finally{X.T=r,le.p=h}}(Xa&3)!==0&&Uc(),vi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Gf?Il++:(Il=0,Gf=t):Il=0,Cl(0)}}function K_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ol(r)))}function Uc(t){return F_(),G_(),Q_(),Y_()}function Y_(){if(Ft!==5)return!1;var t=jr,r=Hf;Hf=0;var a=pa(Xa),l=X.T,h=le.p;try{le.p=32>a?32:a,X.T=null,a=Ff,Ff=null;var f=jr,E=Xa;if(Ft=0,$a=jr=null,Xa=0,($e&6)!==0)throw Error(s(331));var b=$e;if($e|=4,D_(f.current),C_(f,f.current,E,a),$e=b,Cl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(ht,f)}catch{}return!0}finally{le.p=h,X.T=l,K_(t,r)}}function $_(t,r,a){r=On(a,r),r=Sf(t.stateNode,r,2),t=Ar(t,r,2),t!==null&&(Mi(t,2),vi(t))}function tt(t,r,a){if(t.tag===3)$_(t,t,a);else for(;r!==null;){if(r.tag===3){$_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kr===null||!kr.has(l))){t=On(a,t),a=Jy(2),l=Ar(r,a,2),l!==null&&(e_(a,l,r,t),Mi(l,2),vi(l));break}}r=r.return}}function $f(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $S;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Uf=!0,h.add(a),t=ew.bind(null,t,r,a),r.then(t,t))}function ew(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(qe&a)===a&&(ft===4||ft===3&&(qe&62914560)===qe&&300>Rn()-qf?($e&2)===0&&Wa(t,0):zf|=a,Ya===qe&&(Ya=0)),vi(t)}function X_(t,r){r===0&&(r=Po()),t=Ma(t,r),t!==null&&(Mi(t,r),vi(t))}function tw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),X_(t,a)}function nw(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),X_(t,a)}function iw(t,r){return ms(t,r)}var zc=null,Ja=null,Xf=!1,Bc=!1,Wf=!1,$s=0;function vi(t){t!==Ja&&t.next===null&&(Ja===null?zc=Ja=t:Ja=Ja.next=t),Bc=!0,Xf||(Xf=!0,sw())}function Cl(t,r){if(!Wf&&Bc){Wf=!0;do for(var a=!1,l=zc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var E=l.suspendedLanes,b=l.pingedLanes;f=(1<<31-$t(42|t)+1)-1,f&=h&~(E&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,ev(l,f))}else f=qe,f=ma(l,l===it?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Es(l,f)||(a=!0,ev(l,f));l=l.next}while(a);Wf=!1}}function rw(){W_()}function W_(){Bc=Xf=!1;var t=0;$s!==0&&(fw()&&(t=$s),$s=0);for(var r=Rn(),a=null,l=zc;l!==null;){var h=l.next,f=Z_(l,r);f===0?(l.next=null,a===null?zc=h:a.next=h,h===null&&(Ja=a)):(a=l,(t!==0||(f&3)!==0)&&(Bc=!0)),l=h}Cl(t)}function Z_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var E=31-$t(f),b=1<<E,D=h[E];D===-1?((b&a)===0||(b&l)!==0)&&(h[E]=jo(b,r)):D<=r&&(t.expiredLanes|=b),f&=~b}if(r=it,a=qe,a=ma(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ps(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Es(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&ps(l),pa(a)){case 2:case 8:a=da;break;case 32:a=gs;break;case 268435456:a=fa;break;default:a=gs}return l=J_.bind(null,t),a=ms(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&ps(l),t.callbackPriority=2,t.callbackNode=null,2}function J_(t,r){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Uc()&&t.callbackNode!==a)return null;var l=qe;return l=ma(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(j_(t,l,r),Z_(t,Rn()),t.callbackNode!=null&&t.callbackNode===a?J_.bind(null,t):null)}function ev(t,r){if(Uc())return null;j_(t,r,!0)}function sw(){pw(function(){($e&6)!==0?ms(Mo,rw):W_()})}function Zf(){return $s===0&&($s=Vo()),$s}function tv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ta(""+t)}function nv(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function aw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var f=tv((h[Tt]||null).action),E=l.submitter;E&&(r=(r=E[Tt]||null)?tv(r.formAction):E.getAttribute("formAction"),r!==null&&(f=r,E=null));var b=new ba("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var D=E?nv(h,E):new FormData(h);_f(a,{pending:!0,data:D,method:h.method,action:f},null,D)}}else typeof f=="function"&&(b.preventDefault(),D=E?nv(h,E):new FormData(h),_f(a,{pending:!0,data:D,method:h.method,action:f},f,D))},currentTarget:h}]})}}for(var Jf=0;Jf<Vd.length;Jf++){var em=Vd[Jf],ow=em.toLowerCase(),lw=em[0].toUpperCase()+em.slice(1);Kn(ow,"on"+lw)}Kn(jg,"onAnimationEnd"),Kn(Vg,"onAnimationIteration"),Kn(Pg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(AS,"onTransitionRun"),Kn(RS,"onTransitionStart"),Kn(IS,"onTransitionCancel"),Kn(Lg,"onTransitionEnd"),ji("onMouseEnter",["mouseout","mouseover"]),ji("onMouseLeave",["mouseout","mouseover"]),ji("onPointerEnter",["pointerout","pointerover"]),ji("onPointerLeave",["pointerout","pointerover"]),Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function iv(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],D=b.instance,F=b.currentTarget;if(b=b.listener,D!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=F;try{f(h)}catch(W){Cc(W)}h.currentTarget=null,f=D}else for(E=0;E<l.length;E++){if(b=l[E],D=b.instance,F=b.currentTarget,b=b.listener,D!==f&&h.isPropagationStopped())break e;f=b,h.currentTarget=F;try{f(h)}catch(W){Cc(W)}h.currentTarget=null,f=D}}}}function ke(t,r){var a=r[zo];a===void 0&&(a=r[zo]=new Set);var l=t+"__bubble";a.has(l)||(rv(r,t,2,!1),a.add(l))}function tm(t,r,a){var l=0;r&&(l|=4),rv(a,t,l,r)}var qc="_reactListening"+Math.random().toString(36).slice(2);function nm(t){if(!t[qc]){t[qc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(uw.has(a)||tm(a,!1,t),tm(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[qc]||(r[qc]=!0,tm("selectionchange",!1,r))}}function rv(t,r,a,l){switch(Cv(r)){case 2:var h=Vw;break;case 8:h=Pw;break;default:h=gm}a=h.bind(null,r,a,t),h=void 0,!Nn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function im(t,r,a,l,h){var f=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=ki(b),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=f=E;continue e}b=b.parentNode}}l=l.return}Fu(function(){var F=f,W=xn(a),ne=[];e:{var Q=Ug.get(t);if(Q!==void 0){var Y=ba,Se=t;switch(t){case"keypress":if(ci(a)===0)break e;case"keydown":case"keyup":Y=Ca;break;case"focusin":Se="focus",Y=Aa;break;case"focusout":Se="blur",Y=Aa;break;case"beforeblur":case"afterblur":Y=Aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Zu;break;case jg:case Vg:case Pg:Y=Ra;break;case Lg:Y=ec;break;case"scroll":case"scrollend":Y=Gu;break;case"wheel":Y=xa;break;case"copy":case"cut":case"paste":Y=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Jo;break;case"toggle":case"beforetoggle":Y=nc}var ve=(r&4)!==0,et=!ve&&(t==="scroll"||t==="scrollend"),L=ve?Q!==null?Q+"Capture":null:Q;ve=[];for(var j=F,H;j!==null;){var J=j;if(H=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||H===null||L===null||(J=Cs(j,L),J!=null&&ve.push(Nl(j,J,H))),et)break;j=j.return}0<ve.length&&(Q=new Y(Q,Se,null,a,W),ne.push({event:Q,listeners:ve}))}}if((r&7)===0){e:{if(Q=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",Q&&a!==Li&&(Se=a.relatedTarget||a.fromElement)&&(ki(Se)||Se[In]))break e;if((Y||Q)&&(Q=W.window===W?W:(Q=W.ownerDocument)?Q.defaultView||Q.parentWindow:window,Y?(Se=a.relatedTarget||a.toElement,Y=F,Se=Se?ki(Se):null,Se!==null&&(et=u(Se),ve=Se.tag,Se!==et||ve!==5&&ve!==27&&ve!==6)&&(Se=null)):(Y=null,Se=F),Y!==Se)){if(ve=Dn,J="onMouseLeave",L="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Jo,J="onPointerLeave",L="onPointerEnter",j="pointer"),et=Y==null?Q:ai(Y),H=Se==null?Q:ai(Se),Q=new ve(J,j+"leave",Y,a,W),Q.target=et,Q.relatedTarget=H,J=null,ki(W)===F&&(ve=new ve(L,j+"enter",Se,a,W),ve.target=H,ve.relatedTarget=et,J=ve),et=J,Y&&Se)t:{for(ve=Y,L=Se,j=0,H=ve;H;H=eo(H))j++;for(H=0,J=L;J;J=eo(J))H++;for(;0<j-H;)ve=eo(ve),j--;for(;0<H-j;)L=eo(L),H--;for(;j--;){if(ve===L||L!==null&&ve===L.alternate)break t;ve=eo(ve),L=eo(L)}ve=null}else ve=null;Y!==null&&sv(ne,Q,Y,ve,!1),Se!==null&&et!==null&&sv(ne,et,Se,ve,!0)}}e:{if(Q=F?ai(F):window,Y=Q.nodeName&&Q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&Q.type==="file")var pe=wg;else if(Nt(Q))if(Ag)pe=bS;else{pe=ES;var Oe=vS}else Y=Q.nodeName,!Y||Y.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?F&&Qo(F.elementType)&&(pe=wg):pe=TS;if(pe&&(pe=pe(t,F))){Hi(ne,pe,a,W);break e}Oe&&Oe(t,Q,F),t==="focusout"&&F&&Q.type==="number"&&F.memoizedProps.value!=null&&Er(Q,"number",Q.value)}switch(Oe=F?ai(F):window,t){case"focusin":(Nt(Oe)||Oe.contentEditable==="true")&&(Na=Oe,Md=F,nl=null);break;case"focusout":nl=Md=Na=null;break;case"mousedown":kd=!0;break;case"contextmenu":case"mouseup":case"dragend":kd=!1,Mg(ne,a,W);break;case"selectionchange":if(wS)break;case"keydown":case"keyup":Mg(ne,a,W)}var ye;if(fi)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ze?$(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&a.locale!=="ko"&&(ze||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ze&&(ye=Yo()):(ui=W,Tr="value"in ui?ui.value:ui.textContent,ze=!0)),Oe=Hc(F,Ee),0<Oe.length&&(Ee=new Wo(Ee,t,null,a,W),ne.push({event:Ee,listeners:Oe}),ye?Ee.data=ye:(ye=ae(a),ye!==null&&(Ee.data=ye)))),(ye=_?xt(t,a):Be(t,a))&&(Ee=Hc(F,"onBeforeInput"),0<Ee.length&&(Oe=new Wo("onBeforeInput","beforeinput",null,a,W),ne.push({event:Oe,listeners:Ee}),Oe.data=ye)),aw(ne,t,F,a,W)}iv(ne,r)})}function Nl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Hc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Cs(t,a),h!=null&&l.unshift(Nl(t,h,f)),h=Cs(t,r),h!=null&&l.push(Nl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function sv(t,r,a,l,h){for(var f=r._reactName,E=[];a!==null&&a!==l;){var b=a,D=b.alternate,F=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||F===null||(D=F,h?(F=Cs(a,f),F!=null&&E.unshift(Nl(a,F,D))):h||(F=Cs(a,f),F!=null&&E.push(Nl(a,F,D)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var cw=/\r\n?/g,hw=/\u0000|\uFFFD/g;function av(t){return(typeof t=="string"?t:""+t).replace(cw,`
`).replace(hw,"")}function ov(t,r){return r=av(r),av(t)===r}function Fc(){}function Je(t,r,a,l,h,f){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Cn(t,""+l);break;case"className":oi(t,"class",l);break;case"tabIndex":oi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":oi(t,a,l);break;case"style":Go(t,l,f);break;case"data":if(r!=="object"){oi(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(r!=="input"&&Je(t,r,"name",h.name,h,null),Je(t,r,"formEncType",h.formEncType,h,null),Je(t,r,"formMethod",h.formMethod,h,null),Je(t,r,"formTarget",h.formTarget,h,null)):(Je(t,r,"encType",h.encType,h,null),Je(t,r,"method",h.method,h,null),Je(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ta(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Fc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ta(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),vr(t,"popover",l);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":vr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rd.get(a)||a,vr(t,a,l))}}function rm(t,r,a,l,h,f){switch(a){case"style":Go(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Cn(t,l):(typeof l=="number"||typeof l=="bigint")&&Cn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),f=t[Tt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(r,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):vr(t,a,l)}}}function Gt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var E=a[f];if(E!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,f,E,a,null)}}h&&Je(t,r,"srcSet",a.srcSet,a,null),l&&Je(t,r,"src",a.src,a,null);return;case"input":ke("invalid",t);var b=f=E=h=null,D=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":h=W;break;case"type":E=W;break;case"checked":D=W;break;case"defaultChecked":F=W;break;case"value":f=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Je(t,r,l,W,a,null)}}As(t,f,b,D,F,E,h,!1),Ea(t);return;case"select":ke("invalid",t),l=E=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:Je(t,r,h,b,a,null)}r=f,a=E,t.multiple=!!l,r!=null?Pi(t,!!l,r,!1):a!=null&&Pi(t,!!l,a,!0);return;case"textarea":ke("invalid",t),f=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Je(t,r,E,b,a,null)}Rs(t,l,h,f),Ea(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,r,D,l,a,null)}return;case"dialog":ke("beforetoggle",t),ke("toggle",t),ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)ke(xl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(t,r,F,l,a,null)}return;default:if(Qo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&rm(t,r,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Je(t,r,b,l,a,null))}function dw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,E=null,b=null,D=null,F=null,W=null;for(Y in a){var ne=a[Y];if(a.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":D=ne;default:l.hasOwnProperty(Y)||Je(t,r,Y,null,l,ne)}}for(var Q in l){var Y=l[Q];if(ne=a[Q],l.hasOwnProperty(Q)&&(Y!=null||ne!=null))switch(Q){case"type":f=Y;break;case"name":h=Y;break;case"checked":F=Y;break;case"defaultChecked":W=Y;break;case"value":E=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Y!==ne&&Je(t,r,Q,Y,l,ne)}}yn(t,E,b,D,F,W,f,h);return;case"select":Y=E=b=Q=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":Y=D;default:l.hasOwnProperty(f)||Je(t,r,f,null,l,D)}for(h in l)if(f=l[h],D=a[h],l.hasOwnProperty(h)&&(f!=null||D!=null))switch(h){case"value":Q=f;break;case"defaultValue":b=f;break;case"multiple":E=f;default:f!==D&&Je(t,r,h,f,l,D)}r=b,a=E,l=Y,Q!=null?Pi(t,!!a,Q,!1):!!l!=!!a&&(r!=null?Pi(t,!!a,r,!0):Pi(t,!!a,a?[]:"",!1));return;case"textarea":Y=Q=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(t,r,b,null,l,h)}for(E in l)if(h=l[E],f=a[E],l.hasOwnProperty(E)&&(h!=null||f!=null))switch(E){case"value":Q=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Je(t,r,E,h,l,f)}We(t,Q,Y);return;case"option":for(var Se in a)if(Q=a[Se],a.hasOwnProperty(Se)&&Q!=null&&!l.hasOwnProperty(Se))switch(Se){case"selected":t.selected=!1;break;default:Je(t,r,Se,null,l,Q)}for(D in l)if(Q=l[D],Y=a[D],l.hasOwnProperty(D)&&Q!==Y&&(Q!=null||Y!=null))switch(D){case"selected":t.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:Je(t,r,D,Q,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)Q=a[ve],a.hasOwnProperty(ve)&&Q!=null&&!l.hasOwnProperty(ve)&&Je(t,r,ve,null,l,Q);for(F in l)if(Q=l[F],Y=a[F],l.hasOwnProperty(F)&&Q!==Y&&(Q!=null||Y!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Je(t,r,F,Q,l,Y)}return;default:if(Qo(r)){for(var et in a)Q=a[et],a.hasOwnProperty(et)&&Q!==void 0&&!l.hasOwnProperty(et)&&rm(t,r,et,void 0,l,Q);for(W in l)Q=l[W],Y=a[W],!l.hasOwnProperty(W)||Q===Y||Q===void 0&&Y===void 0||rm(t,r,W,Q,l,Y);return}}for(var L in a)Q=a[L],a.hasOwnProperty(L)&&Q!=null&&!l.hasOwnProperty(L)&&Je(t,r,L,null,l,Q);for(ne in l)Q=l[ne],Y=a[ne],!l.hasOwnProperty(ne)||Q===Y||Q==null&&Y==null||Je(t,r,ne,Q,l,Y)}var sm=null,am=null;function Gc(t){return t.nodeType===9?t:t.ownerDocument}function lv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uv(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function om(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var lm=null;function fw(){var t=window.event;return t&&t.type==="popstate"?t===lm?!1:(lm=t,!0):(lm=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,mw=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,pw=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(t){return hv.resolve(null).then(t).catch(gw)}:cv;function gw(t){setTimeout(function(){throw t})}function Pr(t){return t==="head"}function dv(t,r){var a=r,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&Dl(E.documentElement),a&2&&Dl(E.body),a&4)for(a=E.head,Dl(a),E=a.firstChild;E;){var b=E.nextSibling,D=E.nodeName;E[Ts]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(h===0){t.removeChild(f),Ul(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Ul(r)}function um(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":um(a),_r(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ts])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function _w(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function cm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function vw(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function $n(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var hm=null;function fv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function mv(t,r,a){switch(r=Gc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Dl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);_r(t)}var Ln=new Map,pv=new Set;function Qc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nr=le.d;le.d={f:Ew,r:Tw,D:bw,C:Sw,L:ww,m:Aw,X:Iw,S:Rw,M:Cw};function Ew(){var t=nr.f(),r=Pc();return t||r}function Tw(t){var r=si(t);r!==null&&r.tag===5&&r.type==="form"?jy(r):nr.r(t)}var to=typeof document>"u"?null:document;function gv(t,r,a){var l=to;if(l&&typeof r=="string"&&r){var h=bt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),pv.has(h)||(pv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Gt(r,"link",t),mt(r),l.head.appendChild(r)))}}function bw(t){nr.D(t),gv("dns-prefetch",t,null)}function Sw(t,r){nr.C(t,r),gv("preconnect",t,r)}function ww(t,r,a){nr.L(t,r,a);var l=to;if(l&&t&&r){var h='link[rel="preload"][as="'+bt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+bt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+bt(a.imageSizes)+'"]')):h+='[href="'+bt(t)+'"]';var f=h;switch(r){case"style":f=no(t);break;case"script":f=io(t)}Ln.has(f)||(t=T({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Ln.set(f,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Ol(f))||r==="script"&&l.querySelector(Ml(f))||(r=l.createElement("link"),Gt(r,"link",t),mt(r),l.head.appendChild(r)))}}function Aw(t,r){nr.m(t,r);var a=to;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+bt(l)+'"][href="'+bt(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=io(t)}if(!Ln.has(f)&&(t=T({rel:"modulepreload",href:t},r),Ln.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(f)))return}l=a.createElement("link"),Gt(l,"link",t),mt(l),a.head.appendChild(l)}}}function Rw(t,r,a){nr.S(t,r,a);var l=to;if(l&&t){var h=sn(l).hoistableStyles,f=no(t);r=r||"default";var E=h.get(f);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Ol(f)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Ln.get(f))&&dm(t,a);var D=E=l.createElement("link");mt(D),Gt(D,"link",t),D._p=new Promise(function(F,W){D.onload=F,D.onerror=W}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Kc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(f,E)}}}function Iw(t,r){nr.X(t,r);var a=to;if(a&&t){var l=sn(a).hoistableScripts,h=io(t),f=l.get(h);f||(f=a.querySelector(Ml(h)),f||(t=T({src:t,async:!0},r),(r=Ln.get(h))&&fm(t,r),f=a.createElement("script"),mt(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Cw(t,r){nr.M(t,r);var a=to;if(a&&t){var l=sn(a).hoistableScripts,h=io(t),f=l.get(h);f||(f=a.querySelector(Ml(h)),f||(t=T({src:t,async:!0,type:"module"},r),(r=Ln.get(h))&&fm(t,r),f=a.createElement("script"),mt(f),Gt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function yv(t,r,a,l){var h=(h=Ae.current)?Qc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=no(a.href),a=sn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=no(a.href);var f=sn(h).hoistableStyles,E=f.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,E),(f=h.querySelector(Ol(t)))&&!f._p&&(E.instance=f,E.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),f||xw(h,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(a),a=sn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function no(t){return'href="'+bt(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function _v(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function xw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Gt(r,"link",a),mt(r),t.head.appendChild(r))}function io(t){return'[src="'+bt(t)+'"]'}function Ml(t){return"script[async]"+t}function vv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+bt(a.href)+'"]');if(l)return r.instance=l,mt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),Gt(l,"style",h),Kc(l,a.precedence,t),r.instance=l;case"stylesheet":h=no(a.href);var f=t.querySelector(Ol(h));if(f)return r.state.loading|=4,r.instance=f,mt(f),f;l=_v(a),(h=Ln.get(h))&&dm(l,h),f=(t.ownerDocument||t).createElement("link"),mt(f);var E=f;return E._p=new Promise(function(b,D){E.onload=b,E.onerror=D}),Gt(f,"link",l),r.state.loading|=4,Kc(f,a.precedence,t),r.instance=f;case"script":return f=io(a.src),(h=t.querySelector(Ml(f)))?(r.instance=h,mt(h),h):(l=a,(h=Ln.get(f))&&(l=T({},a),fm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),mt(h),Gt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Kc(l,a.precedence,t));return r.instance}function Kc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function dm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function fm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Yc=null;function Ev(t,r,a){if(Yc===null){var l=new Map,h=Yc=new Map;h.set(a,l)}else h=Yc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[Ts]||f[Ct]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var E=f.getAttribute(r)||"";E=t+E;var b=l.get(E);b?b.push(f):l.set(E,[f])}}return l}function Tv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function Nw(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function bv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var kl=null;function Dw(){}function Ow(t,r,a){if(kl===null)throw Error(s(475));var l=kl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=no(a.href),f=t.querySelector(Ol(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=$c.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=f,mt(f);return}f=t.ownerDocument||t,a=_v(a),(h=Ln.get(h))&&dm(a,h),f=f.createElement("link"),mt(f);var E=f;E._p=new Promise(function(b,D){E.onload=b,E.onerror=D}),Gt(f,"link",a),r.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=$c.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function Mw(){if(kl===null)throw Error(s(475));var t=kl;return t.stylesheets&&t.count===0&&mm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&mm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function $c(){if(this.count--,this.count===0){if(this.stylesheets)mm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Xc=null;function mm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Xc=new Map,r.forEach(kw,t),Xc=null,$c.call(t))}function kw(t,r){if(!(r.state.loading&4)){var a=Xc.get(t);if(a)var l=a.get(null);else{a=new Map,Xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var E=h[f];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),f=a.get(E)||l,f===l&&a.set(null,h),a.set(E,h),this.count++,l=$c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var jl={$$typeof:ee,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function jw(t,r,a,l,h,f,E,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.hiddenUpdates=Oi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Sv(t,r,a,l,h,f,E,b,D,F,W,ne){return t=new jw(t,r,a,E,b,D,F,ne),r=1,f===!0&&(r|=24),f=vn(3,null,null,r),t.current=f,f.stateNode=t,r=Yd(),r.refCount++,t.pooledCache=r,r.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:r},Zd(f),t}function wv(t){return t?(t=ka,t):ka}function Av(t,r,a,l,h,f){h=wv(h),l.context===null?l.context=h:l.pendingContext=h,l=wr(r),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Ar(t,l,r),a!==null&&(wn(a,t,r),hl(a,t,r))}function Rv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function pm(t,r){Rv(t,r),(t=t.alternate)&&Rv(t,r)}function Iv(t){if(t.tag===13){var r=Ma(t,67108864);r!==null&&wn(r,t,67108864),pm(t,67108864)}}var Wc=!0;function Vw(t,r,a,l){var h=X.T;X.T=null;var f=le.p;try{le.p=2,gm(t,r,a,l)}finally{le.p=f,X.T=h}}function Pw(t,r,a,l){var h=X.T;X.T=null;var f=le.p;try{le.p=8,gm(t,r,a,l)}finally{le.p=f,X.T=h}}function gm(t,r,a,l){if(Wc){var h=ym(l);if(h===null)im(t,r,l,Zc,a),xv(t,l);else if(Uw(h,t,r,a,l))l.stopPropagation();else if(xv(t,l),r&4&&-1<Lw.indexOf(t)){for(;h!==null;){var f=si(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var E=Fn(f.pendingLanes);if(E!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var D=1<<31-$t(E);b.entanglements[1]|=D,E&=~D}vi(f),($e&6)===0&&(jc=Rn()+500,Cl(0))}}break;case 13:b=Ma(f,2),b!==null&&wn(b,f,2),Pc(),pm(f,2)}if(f=ym(l),f===null&&im(t,r,l,Zc,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else im(t,r,l,null,a)}}function ym(t){return t=xn(t),_m(t)}var Zc=null;function _m(t){if(Zc=null,t=ki(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=d(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Zc=t,null}function Cv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ed()){case Mo:return 2;case da:return 8;case gs:case Td:return 32;case fa:return 268435456;default:return 32}default:return 32}}var vm=!1,Lr=null,Ur=null,zr=null,Vl=new Map,Pl=new Map,Br=[],Lw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(t,r){switch(t){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function Ll(t,r,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},r!==null&&(r=si(r),r!==null&&Iv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Uw(t,r,a,l,h){switch(r){case"focusin":return Lr=Ll(Lr,t,r,a,l,h),!0;case"dragenter":return Ur=Ll(Ur,t,r,a,l,h),!0;case"mouseover":return zr=Ll(zr,t,r,a,l,h),!0;case"pointerover":var f=h.pointerId;return Vl.set(f,Ll(Vl.get(f)||null,t,r,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Pl.set(f,Ll(Pl.get(f)||null,t,r,a,l,h)),!0}return!1}function Nv(t){var r=ki(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=d(a),r!==null){t.blockedOn=r,Pu(t.priority,function(){if(a.tag===13){var l=Sn();l=pr(l);var h=Ma(a,l);h!==null&&wn(h,a,l),pm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=ym(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Li=l,a.target.dispatchEvent(l),Li=null}else return r=si(a),r!==null&&Iv(r),t.blockedOn=a,!1;r.shift()}return!0}function Dv(t,r,a){Jc(t)&&a.delete(r)}function zw(){vm=!1,Lr!==null&&Jc(Lr)&&(Lr=null),Ur!==null&&Jc(Ur)&&(Ur=null),zr!==null&&Jc(zr)&&(zr=null),Vl.forEach(Dv),Pl.forEach(Dv)}function eh(t,r){t.blockedOn===r&&(t.blockedOn=null,vm||(vm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zw)))}var th=null;function Ov(t){th!==t&&(th=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){th===t&&(th=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(_m(l||a)===null)continue;break}var f=si(a);f!==null&&(t.splice(r,3),r-=3,_f(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ul(t){function r(D){return eh(D,t)}Lr!==null&&eh(Lr,t),Ur!==null&&eh(Ur,t),zr!==null&&eh(zr,t),Vl.forEach(r),Pl.forEach(r);for(var a=0;a<Br.length;a++){var l=Br[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Br.length&&(a=Br[0],a.blockedOn===null);)Nv(a),a.blockedOn===null&&Br.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],E=h[Tt]||null;if(typeof f=="function")E||Ov(a);else if(E){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,E=f[Tt]||null)b=E.formAction;else if(_m(h)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Ov(a)}}}function Em(t){this._internalRoot=t}nh.prototype.render=Em.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Sn();Av(a,l,t,r,null,null)},nh.prototype.unmount=Em.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Av(t.current,2,null,t,null,null),Pc(),r[In]=null}};function nh(t){this._internalRoot=t}nh.prototype.unstable_scheduleHydration=function(t){if(t){var r=gr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Br.length&&r!==0&&r<Br[a].priority;a++);Br.splice(a,0,t),a===0&&Nv(t)}};var Mv=e.version;if(Mv!=="19.1.1")throw Error(s(527,Mv,"19.1.1"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var Bw={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ih=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ih.isDisabled&&ih.supportsFiber)try{ht=ih.inject(Bw),Ye=ih}catch{}}return Bl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=$y,f=Xy,E=Wy,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(f=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=Sv(t,1,!1,null,null,a,l,h,f,E,b,null),t[In]=r.current,nm(t),new Em(r)},Bl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=$y,E=Xy,b=Wy,D=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=Sv(t,1,!0,r,a??null,l,h,f,E,b,D,F),r.context=wv(null),a=r.current,l=Sn(),l=pr(l),h=wr(l),h.callback=null,Ar(a,h,l),a=l,r.current.lanes=a,Mi(r,a),vi(r),t[In]=r.current,nm(t),new nh(r)},Bl.version="19.1.1",Bl}var Hv;function Ww(){if(Hv)return Sm.exports;Hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Sm.exports=Xw(),Sm.exports}var Zw=Ww();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fv="popstate";function Jw(i={}){function e(o,u){let{pathname:d="/",search:m="",hash:g=""}=aa(o.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Fm("",{pathname:d,search:m,hash:g},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let d=o.document.querySelector("base"),m="";if(d&&d.getAttribute("href")){let g=o.location.href,y=g.indexOf("#");m=y===-1?g:g.slice(0,y)}return m+"#"+(typeof u=="string"?u:iu(u))}function s(o,u){Bn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return tA(e,n,s,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Bn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eA(){return Math.random().toString(36).substring(2,10)}function Gv(i,e){return{usr:i.state,key:i.key,idx:e}}function Fm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?aa(e):e,state:n,key:e&&e.key||s||eA()}}function iu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function aa(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function tA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,d=o.history,m="POP",g=null,y=T();y==null&&(y=0,d.replaceState({...d.state,idx:y},""));function T(){return(d.state||{idx:null}).idx}function w(){m="POP";let z=T(),G=z==null?null:z-y;y=z,g&&g({action:m,location:K.location,delta:G})}function A(z,G){m="PUSH";let se=Fm(K.location,z,G);n&&n(se,z),y=T()+1;let ee=Gv(se,y),fe=K.createHref(se);try{d.pushState(ee,"",fe)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(fe)}u&&g&&g({action:m,location:K.location,delta:1})}function C(z,G){m="REPLACE";let se=Fm(K.location,z,G);n&&n(se,z),y=T();let ee=Gv(se,y),fe=K.createHref(se);d.replaceState(ee,"",fe),u&&g&&g({action:m,location:K.location,delta:0})}function U(z){return nA(z)}let K={get action(){return m},get location(){return i(o,d)},listen(z){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(Fv,w),g=z,()=>{o.removeEventListener(Fv,w),g=null}},createHref(z){return e(o,z)},createURL:U,encodeLocation(z){let G=U(z);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:A,replace:C,go(z){return d.go(z)}};return K}function nA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:iu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function xT(i,e,n="/"){return iA(i,e,n,!1)}function iA(i,e,n,s){let o=typeof e=="string"?aa(e):e,u=ur(o.pathname||"/",n);if(u==null)return null;let d=NT(i);rA(d);let m=null;for(let g=0;m==null&&g<d.length;++g){let y=pA(u);m=fA(d[g],y,s)}return m}function NT(i,e=[],n=[],s="",o=!1){let u=(d,m,g=o,y)=>{let T={relativePath:y===void 0?d.path||"":y,caseSensitive:d.caseSensitive===!0,childrenIndex:m,route:d};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&g)return;lt(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let w=ar([s,T.relativePath]),A=n.concat(T);d.children&&d.children.length>0&&(lt(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),NT(d.children,e,A,w,g)),!(d.path==null&&!d.index)&&e.push({path:w,score:hA(w,d.index),routesMeta:A})};return i.forEach((d,m)=>{if(d.path===""||!d.path?.includes("?"))u(d,m);else for(let g of DT(d.path))u(d,m,!0,g)}),e}function DT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let d=DT(s.join("/")),m=[];return m.push(...d.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...d),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function rA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:dA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var sA=/^:[\w-]+$/,aA=3,oA=2,lA=1,uA=10,cA=-2,Qv=i=>i==="*";function hA(i,e){let n=i.split("/"),s=n.length;return n.some(Qv)&&(s+=cA),e&&(s+=oA),n.filter(o=>!Qv(o)).reduce((o,u)=>o+(sA.test(u)?aA:u===""?lA:uA),s)}function dA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function fA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",d=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",w=Ih({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),A=g.route;if(!w&&y&&n&&!s[s.length-1].route.index&&(w=Ih({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!w)return null;Object.assign(o,w.params),d.push({params:o,pathname:ar([u,w.pathname]),pathnameBase:vA(ar([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=ar([u,w.pathnameBase]))}return d}function Ih(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=mA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],d=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:w},A)=>{if(T==="*"){let U=m[A]||"";d=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const C=m[A];return w&&!C?y[T]=void 0:y[T]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:i}}function mA(i,e=!1,n=!0){Bn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function pA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ur(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function gA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?aa(i):i;return{pathname:n?n.startsWith("/")?n:yA(n,e):e,search:EA(s),hash:TA(o)}}function yA(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Im(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _A(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ep(i){let e=_A(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Tp(i,e,n,s=!1){let o;typeof i=="string"?o=aa(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let u=i===""||o.pathname==="",d=u?"/":o.pathname,m;if(d==null)m=n;else{let w=e.length-1;if(!s&&d.startsWith("..")){let A=d.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let g=gA(o,m),y=d&&d!=="/"&&d.endsWith("/"),T=(u||d===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var ar=i=>i.join("/").replace(/\/\/+/g,"/"),vA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),EA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,TA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function bA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var OT=["POST","PUT","PATCH","DELETE"];new Set(OT);var SA=["GET",...OT];new Set(SA);var wo=P.createContext(null);wo.displayName="DataRouter";var Yh=P.createContext(null);Yh.displayName="DataRouterState";P.createContext(!1);var MT=P.createContext({isTransitioning:!1});MT.displayName="ViewTransition";var wA=P.createContext(new Map);wA.displayName="Fetchers";var AA=P.createContext(null);AA.displayName="Await";var ti=P.createContext(null);ti.displayName="Navigation";var gu=P.createContext(null);gu.displayName="Location";var ni=P.createContext({outlet:null,matches:[],isDataRoute:!1});ni.displayName="Route";var bp=P.createContext(null);bp.displayName="RouteError";function RA(i,{relative:e}={}){lt(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=P.useContext(ti),{hash:o,pathname:u,search:d}=yu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:ar([n,u])),s.createHref({pathname:m,search:d,hash:o})}function Ao(){return P.useContext(gu)!=null}function as(){return lt(Ao(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(gu).location}var kT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jT(i){P.useContext(ti).static||P.useLayoutEffect(i)}function Sp(){let{isDataRoute:i}=P.useContext(ni);return i?zA():IA()}function IA(){lt(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let i=P.useContext(wo),{basename:e,navigator:n}=P.useContext(ti),{matches:s}=P.useContext(ni),{pathname:o}=as(),u=JSON.stringify(Ep(s)),d=P.useRef(!1);return jT(()=>{d.current=!0}),P.useCallback((g,y={})=>{if(Bn(d.current,kT),!d.current)return;if(typeof g=="number"){n.go(g);return}let T=Tp(g,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:ar([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,u,o,i])}P.createContext(null);function CA(){let{matches:i}=P.useContext(ni),e=i[i.length-1];return e?e.params:{}}function yu(i,{relative:e}={}){let{matches:n}=P.useContext(ni),{pathname:s}=as(),o=JSON.stringify(Ep(n));return P.useMemo(()=>Tp(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function xA(i,e){return VT(i,e)}function VT(i,e,n,s){lt(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=P.useContext(ti),{matches:u}=P.useContext(ni),d=u[u.length-1],m=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",T=d&&d.route;{let G=T&&T.path||"";PT(g,!T||G.endsWith("*")||G.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${G}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${G}"> to <Route path="${G==="/"?"*":`${G}/*`}">.`)}let w=as(),A;if(e){let G=typeof e=="string"?aa(e):e;lt(y==="/"||G.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${G.pathname}" was given in the \`location\` prop.`),A=G}else A=w;let C=A.pathname||"/",U=C;if(y!=="/"){let G=y.replace(/^\//,"").split("/");U="/"+C.replace(/^\//,"").split("/").slice(G.length).join("/")}let K=xT(i,{pathname:U});Bn(T||K!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Bn(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=kA(K&&K.map(G=>Object.assign({},G,{params:Object.assign({},m,G.params),pathname:ar([y,o.encodeLocation?o.encodeLocation(G.pathname).pathname:G.pathname]),pathnameBase:G.pathnameBase==="/"?y:ar([y,o.encodeLocation?o.encodeLocation(G.pathnameBase).pathname:G.pathnameBase])})),u,n,s);return e&&z?P.createElement(gu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},z):z}function NA(){let i=UA(),e=bA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:u},"ErrorBoundary")," or"," ",P.createElement("code",{style:u},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:o},n):null,d)}var DA=P.createElement(NA,null),OA=class extends P.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?P.createElement(ni.Provider,{value:this.props.routeContext},P.createElement(bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MA({routeContext:i,match:e,children:n}){let s=P.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(ni.Provider,{value:i},n)}function kA(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n?.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);lt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let d=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:T,errors:w}=n,A=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||A){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,T)=>{let w,A=!1,C=null,U=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,C=y.route.errorElement||DA,d&&(m<0&&T===0?(PT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,U=null):m===T&&(A=!0,U=y.route.hydrateFallbackElement||null)));let K=e.concat(o.slice(0,T+1)),z=()=>{let G;return w?G=C:A?G=U:y.route.Component?G=P.createElement(y.route.Component,null):y.route.element?G=y.route.element:G=g,P.createElement(MA,{match:y,routeContext:{outlet:g,matches:K,isDataRoute:n!=null},children:G})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?P.createElement(OA,{location:n.location,revalidation:n.revalidation,component:C,error:w,children:z(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):z()},null)}function wp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jA(i){let e=P.useContext(wo);return lt(e,wp(i)),e}function VA(i){let e=P.useContext(Yh);return lt(e,wp(i)),e}function PA(i){let e=P.useContext(ni);return lt(e,wp(i)),e}function Ap(i){let e=PA(i),n=e.matches[e.matches.length-1];return lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function LA(){return Ap("useRouteId")}function UA(){let i=P.useContext(bp),e=VA("useRouteError"),n=Ap("useRouteError");return i!==void 0?i:e.errors?.[n]}function zA(){let{router:i}=jA("useNavigate"),e=Ap("useNavigate"),n=P.useRef(!1);return jT(()=>{n.current=!0}),P.useCallback(async(o,u={})=>{Bn(n.current,kT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var Kv={};function PT(i,e,n){!e&&!Kv[i]&&(Kv[i]=!0,Bn(!1,n))}P.memo(BA);function BA({routes:i,future:e,state:n}){return VT(i,void 0,n,e)}function mh({to:i,replace:e,state:n,relative:s}){lt(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=P.useContext(ti);Bn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=P.useContext(ni),{pathname:d}=as(),m=Sp(),g=Tp(i,Ep(u),d,s==="path"),y=JSON.stringify(g);return P.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:s})},[m,y,s,e,n]),null}function Fr(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qA({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),m=P.useMemo(()=>({basename:d,navigator:o,static:u,future:{}}),[d,o,u]);typeof n=="string"&&(n=aa(n));let{pathname:g="/",search:y="",hash:T="",state:w=null,key:A="default"}=n,C=P.useMemo(()=>{let U=ur(g,d);return U==null?null:{location:{pathname:U,search:y,hash:T,state:w,key:A},navigationType:s}},[d,g,y,T,w,A,s]);return Bn(C!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:P.createElement(ti.Provider,{value:m},P.createElement(gu.Provider,{children:e,value:C}))}function HA({children:i,location:e}){return xA(Gm(i),e)}function Gm(i,e=[]){let n=[];return P.Children.forEach(i,(s,o)=>{if(!P.isValidElement(s))return;let u=[...e,o];if(s.type===P.Fragment){n.push.apply(n,Gm(s.props.children,u));return}lt(s.type===Fr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=Gm(s.props.children,u)),n.push(d)}),n}var ph="get",gh="application/x-www-form-urlencoded";function $h(i){return i!=null&&typeof i.tagName=="string"}function FA(i){return $h(i)&&i.tagName.toLowerCase()==="button"}function GA(i){return $h(i)&&i.tagName.toLowerCase()==="form"}function QA(i){return $h(i)&&i.tagName.toLowerCase()==="input"}function KA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function YA(i,e){return i.button===0&&(!e||e==="_self")&&!KA(i)}var rh=null;function $A(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var XA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cm(i){return i!=null&&!XA.has(i)?(Bn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):i}function WA(i,e){let n,s,o,u,d;if(GA(i)){let m=i.getAttribute("action");s=m?ur(m,e):null,n=i.getAttribute("method")||ph,o=Cm(i.getAttribute("enctype"))||gh,u=new FormData(i)}else if(FA(i)||QA(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?ur(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||ph,o=Cm(i.getAttribute("formenctype"))||Cm(m.getAttribute("enctype"))||gh,u=new FormData(m,i),!$A()){let{name:y,type:T,value:w}=i;if(T==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,w)}}else{if($h(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ph,s=null,o=gh,d=i}return u&&o==="text/plain"&&(d=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Rp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ZA(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ur(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function JA(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function tR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let d=await JA(u,n);return d.links?d.links():[]}return[]}));return sR(s.flat(1).filter(eR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yv(i,e,n,s,o,u){let d=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>d(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(d(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let w=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function nR(i,e,{includeHydrateFallback:n}={}){return iR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function iR(i){return[...new Set(i)]}function rR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function sR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(rR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function LT(){let i=P.useContext(wo);return Rp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function aR(){let i=P.useContext(Yh);return Rp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Ip=P.createContext(void 0);Ip.displayName="FrameworkContext";function UT(){let i=P.useContext(Ip);return Rp(i,"You must render this element inside a <HydratedRouter> element"),i}function oR(i,e){let n=P.useContext(Ip),[s,o]=P.useState(!1),[u,d]=P.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:w}=e,A=P.useRef(null);P.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let K=G=>{G.forEach(se=>{d(se.isIntersecting)})},z=new IntersectionObserver(K,{threshold:.5});return A.current&&z.observe(A.current),()=>{z.disconnect()}}},[i]),P.useEffect(()=>{if(s){let K=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(K)}}},[s]);let C=()=>{o(!0)},U=()=>{o(!1),d(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:ql(m,C),onBlur:ql(g,U),onMouseEnter:ql(y,C),onMouseLeave:ql(T,U),onTouchStart:ql(w,C)}]:[!1,A,{}]}function ql(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function lR({page:i,...e}){let{router:n}=LT(),s=P.useMemo(()=>xT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?P.createElement(cR,{page:i,matches:s,...e}):null}function uR(i){let{manifest:e,routeModules:n}=UT(),[s,o]=P.useState([]);return P.useEffect(()=>{let u=!1;return tR(i,e,n).then(d=>{u||o(d)}),()=>{u=!0}},[i,e,n]),s}function cR({page:i,matches:e,...n}){let s=as(),{manifest:o,routeModules:u}=UT(),{basename:d}=LT(),{loaderData:m,matches:g}=aR(),y=P.useMemo(()=>Yv(i,e,g,o,s,"data"),[i,e,g,o,s]),T=P.useMemo(()=>Yv(i,e,g,o,s,"assets"),[i,e,g,o,s]),w=P.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let U=new Set,K=!1;if(e.forEach(G=>{let se=o.routes[G.route.id];!se||!se.hasLoader||(!y.some(ee=>ee.route.id===G.route.id)&&G.route.id in m&&u[G.route.id]?.shouldRevalidate||se.hasClientLoader?K=!0:U.add(G.route.id))}),U.size===0)return[];let z=ZA(i,d,"data");return K&&U.size>0&&z.searchParams.set("_routes",e.filter(G=>U.has(G.route.id)).map(G=>G.route.id).join(",")),[z.pathname+z.search]},[d,m,s,o,y,e,i,u]),A=P.useMemo(()=>nR(T,o),[T,o]),C=uR(T);return P.createElement(P.Fragment,null,w.map(U=>P.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),A.map(U=>P.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),C.map(({key:U,link:K})=>P.createElement("link",{key:U,nonce:n.nonce,...K})))}function hR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var zT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zT&&(window.__reactRouterVersion="7.8.1")}catch{}function dR({basename:i,children:e,window:n}){let s=P.useRef();s.current==null&&(s.current=Jw({window:n,v5Compat:!0}));let o=s.current,[u,d]=P.useState({action:o.action,location:o.location}),m=P.useCallback(g=>{P.startTransition(()=>d(g))},[d]);return P.useLayoutEffect(()=>o.listen(m),[o,m]),P.createElement(qA,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var BT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ru=P.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:d,state:m,target:g,to:y,preventScrollReset:T,viewTransition:w,...A},C){let{basename:U}=P.useContext(ti),K=typeof y=="string"&&BT.test(y),z,G=!1;if(typeof y=="string"&&K&&(z=y,zT))try{let I=new URL(window.location.href),M=y.startsWith("//")?new URL(I.protocol+y):new URL(y),O=ur(M.pathname,U);M.origin===I.origin&&O!=null?y=O+M.search+M.hash:G=!0}catch{Bn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=RA(y,{relative:o}),[ee,fe,oe]=oR(s,A),te=gR(y,{replace:d,state:m,target:g,preventScrollReset:T,relative:o,viewTransition:w});function x(I){e&&e(I),I.defaultPrevented||te(I)}let R=P.createElement("a",{...A,...oe,href:z||se,onClick:G||u?e:x,ref:hR(C,fe),target:g,"data-discover":!K&&n==="render"?"true":void 0});return ee&&!K?P.createElement(P.Fragment,null,R,P.createElement(lR,{page:se})):R});ru.displayName="Link";var fR=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:d,viewTransition:m,children:g,...y},T){let w=yu(d,{relative:y.relative}),A=as(),C=P.useContext(Yh),{navigator:U,basename:K}=P.useContext(ti),z=C!=null&&TR(w)&&m===!0,G=U.encodeLocation?U.encodeLocation(w).pathname:w.pathname,se=A.pathname,ee=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(se=se.toLowerCase(),ee=ee?ee.toLowerCase():null,G=G.toLowerCase()),ee&&K&&(ee=ur(ee,K)||ee);const fe=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let oe=se===G||!o&&se.startsWith(G)&&se.charAt(fe)==="/",te=ee!=null&&(ee===G||!o&&ee.startsWith(G)&&ee.charAt(G.length)==="/"),x={isActive:oe,isPending:te,isTransitioning:z},R=oe?e:void 0,I;typeof s=="function"?I=s(x):I=[s,oe?"active":null,te?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(x):u;return P.createElement(ru,{...y,"aria-current":R,className:I,ref:T,style:M,to:d,viewTransition:m},typeof g=="function"?g(x):g)});fR.displayName="NavLink";var mR=P.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:d=ph,action:m,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:w,...A},C)=>{let U=vR(),K=ER(m,{relative:y}),z=d.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&BT.test(m),se=ee=>{if(g&&g(ee),ee.defaultPrevented)return;ee.preventDefault();let fe=ee.nativeEvent.submitter,oe=fe?.getAttribute("formmethod")||d;U(fe||ee.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:w})};return P.createElement("form",{ref:C,method:z,action:K,onSubmit:s?g:se,...A,"data-discover":!G&&i==="render"?"true":void 0})});mR.displayName="Form";function pR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qT(i){let e=P.useContext(wo);return lt(e,pR(i)),e}function gR(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:d}={}){let m=Sp(),g=as(),y=yu(i,{relative:u});return P.useCallback(T=>{if(YA(T,e)){T.preventDefault();let w=n!==void 0?n:iu(g)===iu(y);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:d})}},[g,m,y,n,s,e,i,o,u,d])}var yR=0,_R=()=>`__${String(++yR)}__`;function vR(){let{router:i}=qT("useSubmit"),{basename:e}=P.useContext(ti),n=LA();return P.useCallback(async(s,o={})=>{let{action:u,method:d,encType:m,formData:g,body:y}=WA(s,e);if(o.navigate===!1){let T=o.fetcherKey||_R();await i.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||d,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function ER(i,{relative:e}={}){let{basename:n}=P.useContext(ti),s=P.useContext(ni);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...yu(i||".",{relative:e})},d=as();if(i==null){u.search=d.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(T=>T==="")){m.delete("index"),g.filter(w=>w).forEach(w=>m.append("index",w));let T=m.toString();u.search=T?`?${T}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:ar([n,u.pathname])),iu(u)}function TR(i,{relative:e}={}){let n=P.useContext(MT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=qT("useViewTransitionState"),o=yu(i,{relative:e});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,d=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ih(o.pathname,d)!=null||Ih(o.pathname,u)!=null}const bR=()=>{};var $v={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},SR=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],d=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],d=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},FT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],d=o+1<i.length,m=d?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,T=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,C=y&63;g||(C=64,d||(A=64)),s.push(n[T],n[w],n[A],n[C])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(HT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):SR(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new wR;const A=u<<2|m>>4;if(s.push(A),y!==64){const C=m<<4&240|y>>2;if(s.push(C),w!==64){const U=y<<6&192|w;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class wR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AR=function(i){const e=HT(i);return FT.encodeByteArray(e,!0)},Ch=function(i){return AR(i).replace(/\./g,"")},GT=function(i){try{return FT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=()=>RR().__FIREBASE_DEFAULTS__,CR=()=>{if(typeof process>"u"||typeof $v>"u")return;const i=$v.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},xR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&GT(i[1]);return e&&JSON.parse(e)},Xh=()=>{try{return bR()||IR()||CR()||xR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},QT=i=>Xh()?.emulatorHosts?.[i],KT=i=>{const e=QT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},YT=()=>Xh()?.config,$T=i=>Xh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Cp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(d)),""].join(".")}const Wl={};function DR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Wl))Wl[e]?i.emulator.push(e):i.prod.push(e);return i}function OR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let Xv=!1;function xp(i,e){if(typeof window>"u"||typeof document>"u"||!oa(window.location.host)||Wl[i]===e||Wl[i]||Xv)return;Wl[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=DR().prod.length>0;function d(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,C){A.setAttribute("width","24"),A.setAttribute("id",C),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{Xv=!0,d()},A}function T(A,C){A.setAttribute("id",C),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function w(){const A=OR(s),C=n("text"),U=document.getElementById(C)||document.createElement("span"),K=n("learnmore"),z=document.getElementById(K)||document.createElement("a"),G=n("preprendIcon"),se=document.getElementById(G)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const ee=A.element;m(ee),T(z,K);const fe=y();g(se,G),ee.append(se,U,z,fe),document.body.appendChild(ee)}u?(U.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",C)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function kR(){const i=Xh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function jR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function PR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LR(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function UR(){return!kR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zR(){try{return typeof indexedDB=="object"}catch{return!1}}function BR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="FirebaseError";class xi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=qR,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?HR(u,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new xi(o,m,s)}}function HR(i,e){return i.replace(FR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const FR=/\{\$([^}]+)}/g;function GR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function ea(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],d=e[o];if(Wv(u)&&Wv(d)){if(!ea(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Wv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ql(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function QR(i,e){const n=new KR(i,e);return n.subscribe.bind(n)}class KR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");YR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i){return i&&i._delegate?i._delegate:i}class Jr{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new NR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WR(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&d.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:XR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XR(i){return i===Xs?void 0:i}function WR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $R(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(je||(je={}));const JR={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},e1=je.INFO,t1={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},n1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=t1[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Np{constructor(e){this.name=e,this._logLevel=e1,this._logHandler=n1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const i1=(i,e)=>e.some(n=>i instanceof n);let Zv,Jv;function r1(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function s1(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WT=new WeakMap,Qm=new WeakMap,ZT=new WeakMap,Nm=new WeakMap,Dp=new WeakMap;function a1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",d)},u=()=>{n($r(i.result)),o()},d=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&WT.set(n,i)}).catch(()=>{}),Dp.set(e,i),e}function o1(i){if(Qm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",d),i.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",d),i.addEventListener("abort",d)});Qm.set(i,e)}let Km={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Qm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ZT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function l1(i){Km=i(Km)}function u1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Dm(this),e,...n);return ZT.set(s,e.sort?e.sort():[e]),$r(s)}:s1().includes(i)?function(...e){return i.apply(Dm(this),e),$r(WT.get(this))}:function(...e){return $r(i.apply(Dm(this),e))}}function c1(i){return typeof i=="function"?u1(i):(i instanceof IDBTransaction&&o1(i),i1(i,r1())?new Proxy(i,Km):i)}function $r(i){if(i instanceof IDBRequest)return a1(i);if(Nm.has(i))return Nm.get(i);const e=c1(i);return e!==i&&(Nm.set(i,e),Dp.set(e,i)),e}const Dm=i=>Dp.get(i);function h1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(i,e),m=$r(d);return s&&d.addEventListener("upgradeneeded",g=>{s($r(d.result),g.oldVersion,g.newVersion,$r(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const d1=["get","getKey","getAll","getAllKeys","count"],f1=["put","add","delete","clear"],Om=new Map;function eE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Om.get(e))return Om.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=f1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||d1.includes(n)))return;const u=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Om.set(e,u),u}l1(i=>({...i,get:(e,n,s)=>eE(e,n)||i.get(e,n,s),has:(e,n)=>!!eE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(p1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function p1(i){return i.getComponent()?.type==="VERSION"}const Ym="@firebase/app",tE="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new Np("@firebase/app"),g1="@firebase/app-compat",y1="@firebase/analytics-compat",_1="@firebase/analytics",v1="@firebase/app-check-compat",E1="@firebase/app-check",T1="@firebase/auth",b1="@firebase/auth-compat",S1="@firebase/database",w1="@firebase/data-connect",A1="@firebase/database-compat",R1="@firebase/functions",I1="@firebase/functions-compat",C1="@firebase/installations",x1="@firebase/installations-compat",N1="@firebase/messaging",D1="@firebase/messaging-compat",O1="@firebase/performance",M1="@firebase/performance-compat",k1="@firebase/remote-config",j1="@firebase/remote-config-compat",V1="@firebase/storage",P1="@firebase/storage-compat",L1="@firebase/firestore",U1="@firebase/ai",z1="@firebase/firestore-compat",B1="firebase",q1="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",H1={[Ym]:"fire-core",[g1]:"fire-core-compat",[_1]:"fire-analytics",[y1]:"fire-analytics-compat",[E1]:"fire-app-check",[v1]:"fire-app-check-compat",[T1]:"fire-auth",[b1]:"fire-auth-compat",[S1]:"fire-rtdb",[w1]:"fire-data-connect",[A1]:"fire-rtdb-compat",[R1]:"fire-fn",[I1]:"fire-fn-compat",[C1]:"fire-iid",[x1]:"fire-iid-compat",[N1]:"fire-fcm",[D1]:"fire-fcm-compat",[O1]:"fire-perf",[M1]:"fire-perf-compat",[k1]:"fire-rc",[j1]:"fire-rc-compat",[V1]:"fire-gcs",[P1]:"fire-gcs-compat",[L1]:"fire-fst",[z1]:"fire-fst-compat",[U1]:"fire-vertex","fire-js":"fire-js",[B1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new Map,F1=new Map,Xm=new Map;function nE(i,e){try{i.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ta(i){const e=i.name;if(Xm.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,i);for(const n of xh.values())nE(n,i);for(const n of F1.values())nE(n,i);return!0}function Wh(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function mn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new _u("app","Firebase",G1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=q1;function JT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:$m,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Xr.create("bad-app-name",{appName:String(o)});if(n||(n=YT()),!n)throw Xr.create("no-options");const u=xh.get(o);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw Xr.create("duplicate-app",{appName:o})}const d=new ZR(o);for(const g of Xm.values())d.addComponent(g);const m=new Q1(n,s,d);return xh.set(o,m),m}function Op(i=$m){const e=xh.get(i);if(!e&&i===$m&&YT())return JT();if(!e)throw Xr.create("no-app",{appName:i});return e}function Ti(i,e,n){let s=H1[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(d.join(" "));return}ta(new Jr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="firebase-heartbeat-database",Y1=1,su="firebase-heartbeat-store";let Mm=null;function e0(){return Mm||(Mm=h1(K1,Y1,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(su)}catch(n){console.warn(n)}}}}).catch(i=>{throw Xr.create("idb-open",{originalErrorMessage:i.message})})),Mm}async function $1(i){try{const n=(await e0()).transaction(su),s=await n.objectStore(su).get(t0(i));return await n.done,s}catch(e){if(e instanceof xi)cr.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e?.message});cr.warn(n.message)}}}async function iE(i,e){try{const s=(await e0()).transaction(su,"readwrite");await s.objectStore(su).put(e,t0(i)),await s.done}catch(n){if(n instanceof xi)cr.warn(n.message);else{const s=Xr.create("idb-set",{originalErrorMessage:n?.message});cr.warn(s.message)}}}function t0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=1024,W1=30;class Z1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=rE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>W1){const o=tI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rE(),{heartbeatsToSend:n,unsentEntries:s}=J1(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return cr.warn(e),""}}}function rE(){return new Date().toISOString().substring(0,10)}function J1(i,e=X1){const n=[];let s=i.slice();for(const o of i){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),sE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),sE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class eI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zR()?BR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return iE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sE(i){return Ch(JSON.stringify({version:2,heartbeats:i})).length}function tI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(i){ta(new Jr("platform-logger",e=>new m1(e),"PRIVATE")),ta(new Jr("heartbeat",e=>new Z1(e),"PRIVATE")),Ti(Ym,tE,i),Ti(Ym,tE,"esm2020"),Ti("fire-js","")}nI("");function n0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iI=n0,i0=new _u("auth","Firebase",n0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Np("@firebase/auth");function rI(i,...e){Nh.logLevel<=je.WARN&&Nh.warn(`Auth (${la}): ${i}`,...e)}function yh(i,...e){Nh.logLevel<=je.ERROR&&Nh.error(`Auth (${la}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(i,...e){throw kp(i,...e)}function Jn(i,...e){return kp(i,...e)}function Mp(i,e,n){const s={...iI(),[e]:n};return new _u("auth","Firebase",s).create(e,{appName:i.name})}function or(i){return Mp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sI(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&qn(i,"argument-error"),Mp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return i0.create(i,...e)}function Te(i,e,...n){if(!i)throw kp(e,...n)}function rr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw yh(e),new Error(e)}function hr(i,e){i||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){return typeof self<"u"&&self.location?.href||""}function aI(){return aE()==="http:"||aE()==="https:"}function aE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aI()||VR()||"connection"in navigator)?navigator.onLine:!0}function lI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=MR()||PR()}get(){return oI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(i,e){hr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hI=new Eu(3e4,6e4);function os(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function ls(i,e,n,s,o={}){return s0(i,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const m=vu({key:i.config.apiKey,...d}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return jR()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&oa(i.emulatorConfig.host)&&(y.credentials="include"),r0.fetch()(await a0(i,i.config.apiHost,n,m),y)})}async function s0(i,e,n){i._canInitEmulator=!1;const s={...uI,...e};try{const o=new fI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw sh(i,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw sh(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw sh(i,"user-disabled",d);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Mp(i,T,y);qn(i,T)}}catch(o){if(o instanceof xi)throw o;qn(i,"network-request-failed",{message:String(o)})}}async function Tu(i,e,n,s,o={}){const u=await ls(i,e,n,s,o);return"mfaPendingCredential"in u&&qn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function a0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,d=u.config.emulator?jp(i.config,o):`${i.config.apiScheme}://${o}`;return cI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}function dI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Jn(this.auth,"network-request-failed")),hI.get())})}}function sh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Jn(i,e,s);return o.customData._tokenResponse=n,o}function oE(i){return i!==void 0&&i.enterprise!==void 0}class mI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return dI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pI(i,e){return ls(i,"GET","/v2/recaptchaConfig",os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(i,e){return ls(i,"POST","/v1/accounts:delete",e)}async function Dh(i,e){return ls(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yI(i,e=!1){const n=Et(i),s=await n.getIdToken(e),o=Vp(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u?.sign_in_provider;return{claims:o,token:s,authTime:Zl(km(o.auth_time)),issuedAtTime:Zl(km(o.iat)),expirationTime:Zl(km(o.exp)),signInProvider:d||null,signInSecondFactor:u?.sign_in_second_factor||null}}function km(i){return Number(i)*1e3}function Vp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=GT(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function lE(i){const e=Vp(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof xi&&_I(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function _I({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oh(i){const e=i.auth,n=await i.getIdToken(),s=await au(i,Dh(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?o0(o.providerUserInfo):[],d=TI(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!d?.length,y=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,T)}async function EI(i){const e=Et(i);await Oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function o0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(i,e){const n=await s0(i,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,d=await a0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&oa(i.emulatorConfig.host)&&(g.credentials="include"),r0.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SI(i,e){return ls(i,"POST","/v2/accounts:revokeToken",os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=lE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await bI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,d=new fo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Wn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new vI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await au(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yI(this,e)}reload(){return EI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Oh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mn(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await au(this,gI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:A,isAnonymous:C,providerData:U,stsTokenManager:K}=n;Te(w&&K,e,"internal-error");const z=fo.fromJSON(this.name,K);Te(typeof w=="string",e,"internal-error"),Hr(s,e.name),Hr(o,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof C=="boolean",e,"internal-error"),Hr(u,e.name),Hr(d,e.name),Hr(m,e.name),Hr(g,e.name),Hr(y,e.name),Hr(T,e.name);const G=new Wn({uid:w,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:C,photoURL:d,phoneNumber:u,tenantId:m,stsTokenManager:z,createdAt:y,lastLoginAt:T});return U&&Array.isArray(U)&&(G.providerData=U.map(se=>({...se}))),g&&(G._redirectEventId=g),G}static async _fromIdTokenResponse(e,n,s=!1){const o=new fo;o.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Oh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?o0(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!u?.length,m=new fo;m.updateFromIdToken(s);const g=new Wn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new Map;function sr(i){hr(i instanceof Function,"Expected a class definition");let e=uE.get(i);return e?(hr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,uE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}l0.type="NONE";const cE=l0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(i,e,n){return`firebase:${i}:${e}:${n}`}class mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_h(this.userKey,o.apiKey,u),this.fullPersistenceKey=_h("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Dh(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mo(sr(cE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||sr(cE);const d=_h(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const T=await y._get(d);if(T){let w;if(typeof T=="string"){const A=await Dh(e,{idToken:T}).catch(()=>{});if(!A)break;w=await Wn._fromGetAccountInfoResponse(e,A,T)}else w=Wn._fromJSON(e,T);y!==u&&(m=w),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new mo(u,e,s):(u=g[0],m&&await u._set(d,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new mo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(d0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m0(e))return"Blackberry";if(p0(e))return"Webos";if(c0(e))return"Safari";if((e.includes("chrome/")||h0(e))&&!e.includes("edge/"))return"Chrome";if(f0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function u0(i=rn()){return/firefox\//i.test(i)}function c0(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h0(i=rn()){return/crios\//i.test(i)}function d0(i=rn()){return/iemobile/i.test(i)}function f0(i=rn()){return/android/i.test(i)}function m0(i=rn()){return/blackberry/i.test(i)}function p0(i=rn()){return/webos/i.test(i)}function Pp(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function wI(i=rn()){return Pp(i)&&!!window.navigator?.standalone}function AI(){return LR()&&document.documentMode===10}function g0(i=rn()){return Pp(i)||f0(i)||p0(i)||m0(i)||/windows phone/i.test(i)||d0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(i,e=[]){let n;switch(i){case"Browser":n=hE(rn());break;case"Worker":n=`${hE(rn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${la}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,m)=>{try{const g=e(u);d(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function II(i,e={}){return ls(i,"GET","/v2/passwordPolicy",os(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=6;class xI{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??CI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dE(this),this.idTokenSubscription=new dE(this),this.beforeStateQueue=new RI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=i0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dh(this,{idToken:e}),s=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(mn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,d=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===d)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=lI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mn(this.app))return Promise.reject(or(this));const n=e?Et(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mn(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mn(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await II(this),n=new xI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await SI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&sr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&rI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function us(i){return Et(i)}class dE{constructor(e){this.auth=e,this.observer=null,this.addObserver=QR(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DI(i){Zh=i}function _0(i){return Zh.loadJS(i)}function OI(){return Zh.recaptchaEnterpriseScript}function MI(){return Zh.gapiScript}function kI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class jI{constructor(){this.enterprise=new VI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class VI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const PI="recaptcha-enterprise",v0="NO_RECAPTCHA";class LI{constructor(e){this.type=PI,this.auth=us(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(d,m)=>{pI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new mI(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,d(y.siteKey)}}).catch(g=>{m(g)})})}function o(u,d,m){const g=window.grecaptcha;oE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{d(y)}).catch(()=>{d(v0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new jI().execute("siteKey",{action:"verify"}):new Promise((u,d)=>{s(this.auth).then(m=>{if(!n&&oE(window.grecaptcha))o(m,u,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let g=OI();g.length!==0&&(g+=m),_0(g).then(()=>{o(m,u,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function fE(i,e,n,s=!1,o=!1){const u=new LI(i);let d;if(o)d=v0;else try{d=await u.verify(n)}catch{d=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:d,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:d}):Object.assign(m,{captchaResponse:d}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Jm(i,e,n,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await fE(i,e,n,n==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await fE(i,e,n,n==="getOobCode");return s(i,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(i,e){const n=Wh(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;qn(o,"already-initialized")}return n.initialize({options:e})}function zI(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function BI(i,e,n){const s=us(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=E0(e),{host:d,port:m}=qI(e),g=m===null?"":`:${m}`,y={url:`${u}//${d}${g}/`},T=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ea(y,s.config.emulator)&&ea(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,oa(d)?(Cp(`${u}//${d}${g}`),xp("Auth",!0)):HI()}function E0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function qI(i){const e=E0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:mE(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:mE(d)}}}function mE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function HI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function FI(i,e){return ls(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(i,e){return Tu(i,"POST","/v1/accounts:signInWithPassword",os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",os(i,e))}async function KI(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou extends Lp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new ou(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new ou(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,n,"signInWithPassword",GI);case"emailLink":return QI(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jm(e,s,"signUpPassword",FI);case"emailLink":return KI(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(i,e){return Tu(i,"POST","/v1/accounts:signInWithIdp",os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI="http://localhost";class na extends Lp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const d=new na(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:YI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XI(i){const e=Gl(Ql(i)).link,n=e?Gl(Ql(e)).deep_link_id:null,s=Gl(Ql(i)).deep_link_id;return(s?Gl(Ql(s)).link:null)||s||n||e||i}class Up{constructor(e){const n=Gl(Ql(e)),s=n.apiKey??null,o=n.oobCode??null,u=$I(n.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=XI(e);try{return new Up(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return ou._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Up.parseLink(n);return Te(s,"argument-error"),ou._fromEmailAndCode(e,s.code,s.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends zp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends bu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ir.credential(n,s)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends bu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends bu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Kr.credential(n,s)}catch{return null}}}Kr.TWITTER_SIGN_IN_METHOD="twitter.com";Kr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(i,e){return Tu(i,"POST","/v1/accounts:signUp",os(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Wn._fromIdTokenResponse(e,s,o),d=pE(s);return new ia({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=pE(s);return new ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function pE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends xi{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Mh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Mh(e,n,s,o)}}function T0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Mh._fromErrorAndOperation(i,u,e,s):u})}async function ZI(i,e,n=!1){const s=await au(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ia._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(i,e,n=!1){const{auth:s}=i;if(mn(s.app))return Promise.reject(or(s));const o="reauthenticate";try{const u=await au(i,T0(s,o,e,i),n);Te(u.idToken,s,"internal-error");const d=Vp(u.idToken);Te(d,s,"internal-error");const{sub:m}=d;return Te(i.uid===m,s,"user-mismatch"),ia._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(i,e,n=!1){if(mn(i.app))return Promise.reject(or(i));const s="signIn",o=await T0(i,s,e),u=await ia._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function eC(i,e){return b0(us(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(i){const e=us(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tC(i,e,n){if(mn(i.app))return Promise.reject(or(i));const s=us(i),d=await Jm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WI).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&S0(i),g}),m=await ia._fromIdTokenResponse(s,"signIn",d);return await s._updateCurrentUser(m.user),m}function nC(i,e,n){return mn(i.app)?Promise.reject(or(i)):eC(Et(i),Ro.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&S0(i),s})}function iC(i,e,n,s){return Et(i).onIdTokenChanged(e,n,s)}function rC(i,e,n){return Et(i).beforeAuthStateChanged(e,n)}function sC(i,e,n,s){return Et(i).onAuthStateChanged(e,n,s)}function aC(i){return Et(i).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1e3,lC=10;class A0 extends w0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=g0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);AI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,lC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},oC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}A0.type="LOCAL";const uC=A0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0 extends w0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}R0.type="SESSION";const I0=R0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!d?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(d).map(async y=>y(n.origin,u)),g=await cC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,g)=>{const y=Bp("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function dC(i){bi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function fC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mC(){return navigator?.serviceWorker?.controller||null}function pC(){return C0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="firebaseLocalStorageDb",gC=1,jh="firebaseLocalStorage",N0="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ed(i,e){return i.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function yC(){const i=indexedDB.deleteDatabase(x0);return new Su(i).toPromise()}function ep(){const i=indexedDB.open(x0,gC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(jh,{keyPath:N0})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(jh)?e(s):(s.close(),await yC(),e(await ep()))})})}async function gE(i,e,n){const s=ed(i,!0).put({[N0]:e,value:n});return new Su(s).toPromise()}async function _C(i,e){const n=ed(i,!1).get(e),s=await new Su(n).toPromise();return s===void 0?null:s.value}function yE(i,e){const n=ed(i,!0).delete(e);return new Su(n).toPromise()}const vC=800,EC=3;class D0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>EC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return C0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jh._getInstance(pC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await fC(),!this.activeServiceWorker)return;this.sender=new hC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await gE(e,kh,"1"),await yE(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>gE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>_C(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ed(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),vC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}D0.type="LOCAL";const TC=D0;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(i,e){return e?sr(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends Lp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function bC(i){return b0(i.auth,new qp(i),i.bypassAuthState)}function SC(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),JI(n,new qp(i),i.bypassAuthState)}async function wC(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),ZI(n,new qp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bC;case"linkViaPopup":case"linkViaRedirect":return wC;case"reauthViaPopup":case"reauthViaRedirect":return SC;default:qn(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new Eu(2e3,1e4);async function RC(i,e,n){if(mn(i.app))return Promise.reject(Jn(i,"operation-not-supported-in-this-environment"));const s=us(i);sI(i,e,zp);const o=O0(s,n);return new Ws(s,"signInViaPopup",e,o).executeNotNull()}class Ws extends M0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ws.currentPopupAction&&Ws.currentPopupAction.cancel(),Ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AC.get())};e()}}Ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="pendingRedirect",vh=new Map;class CC extends M0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=vh.get(this.auth._key());if(!e){try{const s=await xC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}vh.set(this.auth._key(),e)}return this.bypassAuthState||vh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xC(i,e){const n=OC(e),s=DC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function NC(i,e){vh.set(i._key(),e)}function DC(i){return sr(i._redirectPersistence)}function OC(i){return _h(IC,i.config.apiKey,i.name)}async function MC(i,e,n=!1){if(mn(i.app))return Promise.reject(or(i));const s=us(i),o=O0(s,e),d=await new CC(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC=600*1e3;class jC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!k0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Jn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kC&&this.cachedEventUids.clear(),this.cachedEventUids.has(_E(e))}saveEventToCache(e){this.cachedEventUids.add(_E(e)),this.lastProcessedEventTime=Date.now()}}function _E(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function k0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function VC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return k0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PC(i,e={}){return ls(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UC=/^https?/;async function zC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await PC(i);for(const n of e)try{if(BC(n))return}catch{}qn(i,"unauthorized-domain")}function BC(i){const e=Wm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!UC.test(n))return!1;if(LC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=new Eu(3e4,6e4);function vE(){const i=bi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function HC(i){return new Promise((e,n)=>{function s(){vE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{vE(),n(Jn(i,"network-request-failed"))},timeout:qC.get()})}if(bi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(bi().gapi?.load)s();else{const o=kI("iframefcb");return bi()[o]=()=>{gapi.load?s():n(Jn(i,"network-request-failed"))},_0(`${MI()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw Eh=null,e})}let Eh=null;function FC(i){return Eh=Eh||HC(i),Eh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new Eu(5e3,15e3),QC="__/auth/iframe",KC="emulator/auth/iframe",YC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XC(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?jp(e,KC):`https://${i.config.authDomain}/${QC}`,s={apiKey:e.apiKey,appName:i.name,v:la},o=$C.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${vu(s).slice(1)}`}async function WC(i){const e=await FC(i),n=bi().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:XC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=Jn(i,"network-request-failed"),m=bi().setTimeout(()=>{u(d)},GC.get());function g(){bi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},JC=500,ex=600,tx="_blank",nx="http://localhost";class EE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ix(i,e,n,s=JC,o=ex){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...ZC,width:s.toString(),height:o.toString(),top:u,left:d},y=rn().toLowerCase();n&&(m=h0(y)?tx:n),u0(y)&&(e=e||nx,g.scrollbars="yes");const T=Object.entries(g).reduce((A,[C,U])=>`${A}${C}=${U},`,"");if(wI(y)&&m!=="_self")return rx(e||"",m),new EE(null);const w=window.open(e||"",m,T);Te(w,i,"popup-blocked");try{w.focus()}catch{}return new EE(w)}function rx(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="__/auth/handler",ax="emulator/auth/handler",ox=encodeURIComponent("fac");async function TE(i,e,n,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:la,eventId:o};if(e instanceof zp){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",GR(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))d[T]=w}if(e instanceof bu){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(d.scopes=T.join(","))}i.tenantId&&(d.tid=i.tenantId);const m=d;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await i._getAppCheckToken(),y=g?`#${ox}=${encodeURIComponent(g)}`:"";return`${lx(i)}?${vu(m).slice(1)}${y}`}function lx({config:i}){return i.emulator?jp(i,ax):`https://${i.authDomain}/${sx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="webStorageSupport";class ux{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I0,this._completeRedirectFn=MC,this._overrideRedirectResult=NC}async _openPopup(e,n,s,o){hr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await TE(e,n,s,Wm(),o);return ix(e,u,Bp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await TE(e,n,s,Wm(),o);return dC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await WC(e),s=new jC(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jm,{type:jm},o=>{const u=o?.[0]?.[jm];u!==void 0&&n(!!u),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return g0()||c0()||Pp()}}const cx=ux;var bE="@firebase/auth",SE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fx(i){ta(new Jr("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;Te(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y0(i)},y=new NI(s,o,u,g);return zI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ta(new Jr("auth-internal",e=>{const n=us(e.getProvider("auth").getImmediate());return(s=>new hx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ti(bE,SE,dx(i)),Ti(bE,SE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=300,px=$T("authIdTokenMaxAge")||mx;let wE=null;const gx=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>px)return;const o=n?.token;wE!==o&&(wE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yx(i=Op()){const e=Wh(i,"auth");if(e.isInitialized())return e.getImmediate();const n=UI(i,{popupRedirectResolver:cx,persistence:[TC,uC,I0]}),s=$T("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=gx(u.toString());rC(n,d,()=>d(n.currentUser)),iC(n,m=>d(m))}}const o=QT("auth");return o&&BI(n,`http://${o}`),n}function _x(){return document.getElementsByTagName("head")?.[0]??document}DI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Jn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",_x().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fx("Browser");var vx="firebase",Ex="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ti(vx,Ex,"app");var AE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wr,j0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,R){function I(){}I.prototype=R.prototype,x.D=R.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(M,O,V){for(var N=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)N[ce-2]=arguments[ce];return R.prototype[O].apply(M,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,R,I){I||(I=0);var M=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)M[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;16>O;++O)M[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=x.g[0],I=x.g[1],O=x.g[2];var V=x.g[3],N=R+(V^I&(O^V))+M[0]+3614090360&4294967295;R=I+(N<<7&4294967295|N>>>25),N=V+(O^R&(I^O))+M[1]+3905402710&4294967295,V=R+(N<<12&4294967295|N>>>20),N=O+(I^V&(R^I))+M[2]+606105819&4294967295,O=V+(N<<17&4294967295|N>>>15),N=I+(R^O&(V^R))+M[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(V^I&(O^V))+M[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=V+(O^R&(I^O))+M[5]+1200080426&4294967295,V=R+(N<<12&4294967295|N>>>20),N=O+(I^V&(R^I))+M[6]+2821735955&4294967295,O=V+(N<<17&4294967295|N>>>15),N=I+(R^O&(V^R))+M[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(V^I&(O^V))+M[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=V+(O^R&(I^O))+M[9]+2336552879&4294967295,V=R+(N<<12&4294967295|N>>>20),N=O+(I^V&(R^I))+M[10]+4294925233&4294967295,O=V+(N<<17&4294967295|N>>>15),N=I+(R^O&(V^R))+M[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(V^I&(O^V))+M[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=V+(O^R&(I^O))+M[13]+4254626195&4294967295,V=R+(N<<12&4294967295|N>>>20),N=O+(I^V&(R^I))+M[14]+2792965006&4294967295,O=V+(N<<17&4294967295|N>>>15),N=I+(R^O&(V^R))+M[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(O^V&(I^O))+M[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=V+(I^O&(R^I))+M[6]+3225465664&4294967295,V=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(V^R))+M[11]+643717713&4294967295,O=V+(N<<14&4294967295|N>>>18),N=I+(V^R&(O^V))+M[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^V&(I^O))+M[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=V+(I^O&(R^I))+M[10]+38016083&4294967295,V=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(V^R))+M[15]+3634488961&4294967295,O=V+(N<<14&4294967295|N>>>18),N=I+(V^R&(O^V))+M[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^V&(I^O))+M[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=V+(I^O&(R^I))+M[14]+3275163606&4294967295,V=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(V^R))+M[3]+4107603335&4294967295,O=V+(N<<14&4294967295|N>>>18),N=I+(V^R&(O^V))+M[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^V&(I^O))+M[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=V+(I^O&(R^I))+M[2]+4243563512&4294967295,V=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(V^R))+M[7]+1735328473&4294967295,O=V+(N<<14&4294967295|N>>>18),N=I+(V^R&(O^V))+M[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(I^O^V)+M[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=V+(R^I^O)+M[8]+2272392833&4294967295,V=R+(N<<11&4294967295|N>>>21),N=O+(V^R^I)+M[11]+1839030562&4294967295,O=V+(N<<16&4294967295|N>>>16),N=I+(O^V^R)+M[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^V)+M[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=V+(R^I^O)+M[4]+1272893353&4294967295,V=R+(N<<11&4294967295|N>>>21),N=O+(V^R^I)+M[7]+4139469664&4294967295,O=V+(N<<16&4294967295|N>>>16),N=I+(O^V^R)+M[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^V)+M[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=V+(R^I^O)+M[0]+3936430074&4294967295,V=R+(N<<11&4294967295|N>>>21),N=O+(V^R^I)+M[3]+3572445317&4294967295,O=V+(N<<16&4294967295|N>>>16),N=I+(O^V^R)+M[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^V)+M[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=V+(R^I^O)+M[12]+3873151461&4294967295,V=R+(N<<11&4294967295|N>>>21),N=O+(V^R^I)+M[15]+530742520&4294967295,O=V+(N<<16&4294967295|N>>>16),N=I+(O^V^R)+M[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(O^(I|~V))+M[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=V+(I^(R|~O))+M[7]+1126891415&4294967295,V=R+(N<<10&4294967295|N>>>22),N=O+(R^(V|~I))+M[14]+2878612391&4294967295,O=V+(N<<15&4294967295|N>>>17),N=I+(V^(O|~R))+M[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~V))+M[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=V+(I^(R|~O))+M[3]+2399980690&4294967295,V=R+(N<<10&4294967295|N>>>22),N=O+(R^(V|~I))+M[10]+4293915773&4294967295,O=V+(N<<15&4294967295|N>>>17),N=I+(V^(O|~R))+M[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~V))+M[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=V+(I^(R|~O))+M[15]+4264355552&4294967295,V=R+(N<<10&4294967295|N>>>22),N=O+(R^(V|~I))+M[6]+2734768916&4294967295,O=V+(N<<15&4294967295|N>>>17),N=I+(V^(O|~R))+M[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~V))+M[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=V+(I^(R|~O))+M[11]+3174756917&4294967295,V=R+(N<<10&4294967295|N>>>22),N=O+(R^(V|~I))+M[2]+718787259&4294967295,O=V+(N<<15&4294967295|N>>>17),N=I+(V^(O|~R))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+R&4294967295,x.g[1]=x.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+V&4294967295}s.prototype.u=function(x,R){R===void 0&&(R=x.length);for(var I=R-this.blockSize,M=this.B,O=this.h,V=0;V<R;){if(O==0)for(;V<=I;)o(this,x,V),V+=this.blockSize;if(typeof x=="string"){for(;V<R;)if(M[O++]=x.charCodeAt(V++),O==this.blockSize){o(this,M),O=0;break}}else for(;V<R;)if(M[O++]=x[V++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=R},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var R=1;R<x.length-8;++R)x[R]=0;var I=8*this.o;for(R=x.length-8;R<x.length;++R)x[R]=I&255,I/=256;for(this.u(x),x=Array(16),R=I=0;4>R;++R)for(var M=0;32>M;M+=8)x[I++]=this.g[R]>>>M&255;return x};function u(x,R){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=R(x)}function d(x,R){this.h=R;for(var I=[],M=!0,O=x.length-1;0<=O;O--){var V=x[O]|0;M&&V==R||(I[O]=V,M=!1)}this.g=I}var m={};function g(x){return-128<=x&&128>x?u(x,function(R){return new d([R|0],0>R?-1:0)}):new d([x|0],0>x?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return z(y(-x));for(var R=[],I=1,M=0;x>=I;M++)R[M]=x/I|0,I*=4294967296;return new d(R,0)}function T(x,R){if(x.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(x.charAt(0)=="-")return z(T(x.substring(1),R));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(R,8)),M=w,O=0;O<x.length;O+=8){var V=Math.min(8,x.length-O),N=parseInt(x.substring(O,O+V),R);8>V?(V=y(Math.pow(R,V)),M=M.j(V).add(y(N))):(M=M.j(I),M=M.add(y(N)))}return M}var w=g(0),A=g(1),C=g(16777216);i=d.prototype,i.m=function(){if(K(this))return-z(this).m();for(var x=0,R=1,I=0;I<this.g.length;I++){var M=this.i(I);x+=(0<=M?M:4294967296+M)*R,R*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(U(this))return"0";if(K(this))return"-"+z(this).toString(x);for(var R=y(Math.pow(x,6)),I=this,M="";;){var O=fe(I,R).g;I=G(I,O.j(R));var V=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=O,U(I))return V+M;for(;6>V.length;)V="0"+V;M=V+M}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function U(x){if(x.h!=0)return!1;for(var R=0;R<x.g.length;R++)if(x.g[R]!=0)return!1;return!0}function K(x){return x.h==-1}i.l=function(x){return x=G(this,x),K(x)?-1:U(x)?0:1};function z(x){for(var R=x.g.length,I=[],M=0;M<R;M++)I[M]=~x.g[M];return new d(I,~x.h).add(A)}i.abs=function(){return K(this)?z(this):this},i.add=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],M=0,O=0;O<=R;O++){var V=M+(this.i(O)&65535)+(x.i(O)&65535),N=(V>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);M=N>>>16,V&=65535,N&=65535,I[O]=N<<16|V}return new d(I,I[I.length-1]&-2147483648?-1:0)};function G(x,R){return x.add(z(R))}i.j=function(x){if(U(this)||U(x))return w;if(K(this))return K(x)?z(this).j(z(x)):z(z(this).j(x));if(K(x))return z(this.j(z(x)));if(0>this.l(C)&&0>x.l(C))return y(this.m()*x.m());for(var R=this.g.length+x.g.length,I=[],M=0;M<2*R;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(var O=0;O<x.g.length;O++){var V=this.i(M)>>>16,N=this.i(M)&65535,ce=x.i(O)>>>16,we=x.i(O)&65535;I[2*M+2*O]+=N*we,se(I,2*M+2*O),I[2*M+2*O+1]+=V*we,se(I,2*M+2*O+1),I[2*M+2*O+1]+=N*ce,se(I,2*M+2*O+1),I[2*M+2*O+2]+=V*ce,se(I,2*M+2*O+2)}for(M=0;M<R;M++)I[M]=I[2*M+1]<<16|I[2*M];for(M=R;M<2*R;M++)I[M]=0;return new d(I,0)};function se(x,R){for(;(x[R]&65535)!=x[R];)x[R+1]+=x[R]>>>16,x[R]&=65535,R++}function ee(x,R){this.g=x,this.h=R}function fe(x,R){if(U(R))throw Error("division by zero");if(U(x))return new ee(w,w);if(K(x))return R=fe(z(x),R),new ee(z(R.g),z(R.h));if(K(R))return R=fe(x,z(R)),new ee(z(R.g),R.h);if(30<x.g.length){if(K(x)||K(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,M=R;0>=M.l(x);)I=oe(I),M=oe(M);var O=te(I,1),V=te(M,1);for(M=te(M,2),I=te(I,2);!U(M);){var N=V.add(M);0>=N.l(x)&&(O=O.add(I),V=N),M=te(M,1),I=te(I,1)}return R=G(x,O.j(R)),new ee(O,R)}for(O=w;0<=x.l(R);){for(I=Math.max(1,Math.floor(x.m()/R.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),V=y(I),N=V.j(R);K(N)||0<N.l(x);)I-=M,V=y(I),N=V.j(R);U(V)&&(V=A),O=O.add(V),x=G(x,N)}return new ee(O,x)}i.A=function(x){return fe(this,x).h},i.and=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)&x.i(M);return new d(I,this.h&x.h)},i.or=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)|x.i(M);return new d(I,this.h|x.h)},i.xor=function(x){for(var R=Math.max(this.g.length,x.g.length),I=[],M=0;M<R;M++)I[M]=this.i(M)^x.i(M);return new d(I,this.h^x.h)};function oe(x){for(var R=x.g.length+1,I=[],M=0;M<R;M++)I[M]=x.i(M)<<1|x.i(M-1)>>>31;return new d(I,x.h)}function te(x,R){var I=R>>5;R%=32;for(var M=x.g.length-I,O=[],V=0;V<M;V++)O[V]=0<R?x.i(V+I)>>>R|x.i(V+I+1)<<32-R:x.i(V+I);return new d(O,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,j0=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=T,Wr=d}).apply(typeof AE<"u"?AE:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var V0,Kl,P0,Th,tp,L0,U0,z0;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,v){return c==Array.prototype||c==Object.prototype||(c[_]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var _=0;_<c.length;++_){var v=c[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],_=_(S),_!=S&&_!=null&&e(v,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var $=v++;return{value:_($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function y(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function T(c,_,v){return c.call.apply(c.bind,arguments)}function w(c,_,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(_,B)}}return function(){return c.apply(_,arguments)}}function A(c,_,v){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:w,A.apply(null,arguments)}function C(c,_){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function U(c,_){function v(){}v.prototype=_.prototype,c.aa=_.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,$){for(var ae=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ae[ze-2]=arguments[ze];return _.prototype[B].apply(S,ae)}}function K(c){const _=c.length;if(0<_){const v=Array(_);for(let S=0;S<_;S++)v[S]=c[S];return v}return[]}function z(c,_){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(g(S)){const B=c.length||0,$=S.length||0;c.length=B+$;for(let ae=0;ae<$;ae++)c[B+ae]=S[ae]}else c.push(S)}}class G{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function se(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var oe=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function te(c,_,v){for(const S in c)_.call(v,c[S],S,c)}function x(c,_){for(const v in c)_.call(void 0,c[v],v,c)}function R(c){const _={};for(const v in c)_[v]=c[v];return _}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,_){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let $=0;$<I.length;$++)v=I[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function O(c){var _=1;c=c.split(":");const v=[];for(;0<_&&c.length;)v.push(c.shift()),_--;return c.length&&v.push(c.join(":")),v}function V(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Le;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class ce{constructor(){this.h=this.g=null}add(_,v){const S=we.get();S.set(_,v),this.h?this.h.next=S:this.g=S,this.h=S}}var we=new G(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ge=!1,Le=new ce,k=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(re)}};var re=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){V(v)}var _=we;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}ge=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var de=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,_),m.removeEventListener("test",v,_)}catch{}return c})();function De(c,_){if(q.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(oe){e:{try{fe(_.nodeName);var B=!0;break e}catch{}B=!1}B||(_=null)}}else v=="mouseover"?_=c.fromElement:v=="mouseout"&&(_=c.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}U(De,q);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function ii(c,_,v,S,B){this.listener=c,this.proxy=null,this.src=_,this.type=v,this.capture=!!S,this.ha=B,this.key=++nt,this.da=this.fa=!1}function mr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Di(c){this.src=c,this.g={},this.h=0}Di.prototype.add=function(c,_,v,S,B){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ae=ms(c,_,S,B);return-1<ae?(_=c[ae],v||(_.fa=!1)):(_=new ii(_,this.src,$,!!S,B),_.fa=v,c.push(_)),_};function fs(c,_){var v=_.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,_,void 0),$;($=0<=B)&&Array.prototype.splice.call(S,B,1),$&&(mr(_),c.g[v].length==0&&(delete c.g[v],c.h--))}}function ms(c,_,v,S){for(var B=0;B<c.length;++B){var $=c[B];if(!$.da&&$.listener==_&&$.capture==!!v&&$.ha==S)return B}return-1}var ps="closure_lm_"+(1e6*Math.random()|0),Oo={};function ku(c,_,v,S,B){if(Array.isArray(_)){for(var $=0;$<_.length;$++)ku(c,_[$],v,S,B);return null}return v=ju(v),c&&c[kt]?c.K(_,v,y(S)?!!S.capture:!1,B):Rn(c,_,v,!1,S,B)}function Rn(c,_,v,S,B,$){if(!_)throw Error("Invalid event type");var ae=y(B)?!!B.capture:!!B,ze=fa(c);if(ze||(c[ps]=ze=new Di(c)),v=ze.add(_,v,S,ae,$),v.proxy)return v;if(S=Ed(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)de||(B=ae),B===void 0&&(B=!1),c.addEventListener(_.toString(),S,B);else if(c.attachEvent)c.attachEvent(gs(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ed(){function c(v){return _.call(c.src,c.listener,v)}const _=Td;return c}function Mo(c,_,v,S,B){if(Array.isArray(_))for(var $=0;$<_.length;$++)Mo(c,_[$],v,S,B);else S=y(S)?!!S.capture:!!S,v=ju(v),c&&c[kt]?(c=c.i,_=String(_).toString(),_ in c.g&&($=c.g[_],v=ms($,v,S,B),-1<v&&(mr($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[_],c.h--)))):c&&(c=fa(c))&&(_=c.g[_.toString()],c=-1,_&&(c=ms(_,v,S,B)),(v=-1<c?_[c]:null)&&da(v))}function da(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[kt])fs(_.i,c);else{var v=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(v,S,c.capture):_.detachEvent?_.detachEvent(gs(v),S):_.addListener&&_.removeListener&&_.removeListener(S),(v=fa(_))?(fs(v,c),v.h==0&&(v.src=null,_[ps]=null)):mr(c)}}}function gs(c){return c in Oo?Oo[c]:Oo[c]="on"+c}function Td(c,_){if(c.da)c=!0;else{_=new De(_,this);var v=c.listener,S=c.ha||c.src;c.fa&&da(c),c=v.call(S,_)}return c}function fa(c){return c=c[ps],c instanceof Di?c:null}var ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function ju(c){return typeof c=="function"?c:(c[ko]||(c[ko]=function(_){return c.handleEvent(_)}),c[ko])}function ht(){ue.call(this),this.i=new Di(this),this.M=this,this.F=null}U(ht,ue),ht.prototype[kt]=!0,ht.prototype.removeEventListener=function(c,_,v,S){Mo(this,c,_,v,S)};function Ye(c,_){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new q(_,c);else if(_ instanceof q)_.target=_.target||c;else{var B=_;_=new q(S,c),M(_,B)}if(B=!0,v)for(var $=v.length-1;0<=$;$--){var ae=_.g=v[$];B=gn(ae,S,!0,_)&&B}if(ae=_.g=c,B=gn(ae,S,!0,_)&&B,B=gn(ae,S,!1,_)&&B,v)for($=0;$<v.length;$++)ae=_.g=v[$],B=gn(ae,S,!1,_)&&B}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var v=c.g[_],S=0;S<v.length;S++)mr(v[S]);delete c.g[_],c.h--}}this.F=null},ht.prototype.K=function(c,_,v,S){return this.i.add(String(c),_,!1,v,S)},ht.prototype.L=function(c,_,v,S){return this.i.add(String(c),_,!0,v,S)};function gn(c,_,v,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,$=0;$<_.length;++$){var ae=_[$];if(ae&&!ae.da&&ae.capture==v){var ze=ae.listener,xt=ae.ha||ae.src;ae.fa&&fs(c.i,ae),B=ze.call(xt,S)!==!1&&B}}return B&&!S.defaultPrevented}function $t(c,_,v){if(typeof c=="function")v&&(c=A(c,v));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Vu(c){c.g=$t(()=>{c.g=null,c.i&&(c.i=!1,Vu(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class bd extends ue{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Vu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(c){ue.call(this),this.h=c,this.g={}}U(ys,ue);var _s=[];function vs(c){te(c.g,function(_,v){this.g.hasOwnProperty(v)&&da(_)},c),c.g={}}ys.prototype.N=function(){ys.aa.N.call(this),vs(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=m.JSON.stringify,ma=m.JSON.parse,Es=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function jo(){}jo.prototype.h=null;function Vo(c){return c.h||(c.h=c.i())}function Po(){}var Oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mi(){q.call(this,"d")}U(Mi,q);function Lo(){q.call(this,"c")}U(Lo,q);var ri={},Uo=null;function pr(){return Uo=Uo||new ht}ri.La="serverreachability";function pa(c){q.call(this,ri.La,c)}U(pa,q);function gr(c){const _=pr();Ye(_,new pa(_))}ri.STAT_EVENT="statevent";function Pu(c,_){q.call(this,ri.STAT_EVENT,c),this.stat=_}U(Pu,q);function at(c){const _=pr();Ye(_,new Pu(_,c))}ri.Ma="timingevent";function Ct(c,_){q.call(this,ri.Ma,c),this.size=_}U(Ct,q);function Tt(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function zo(c,_,v,S,B,$){c.info(function(){if(c.g)if($)for(var ae="",ze=$.split("&"),xt=0;xt<ze.length;xt++){var Be=ze[xt].split("=");if(1<Be.length){var Vt=Be[0];Be=Be[1];var Nt=Vt.split("_");ae=2<=Nt.length&&Nt[1]=="type"?ae+(Vt+"="+Be+"&"):ae+(Vt+"=redacted&")}}else ae=null;else ae=$;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+_+`
`+v+`
`+ae})}function Sd(c,_,v,S,B,$,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+_+`
`+v+`
`+$+" "+ae})}function yr(c,_,v,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ts(c,v)+(S?" "+S:"")})}function Lu(c,_){c.info(function(){return"TIMEOUT: "+_})}In.prototype.info=function(){};function Ts(c,_){if(!c.g)return _;if(!_)return null;try{var v=JSON.parse(_);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var ae=1;ae<B.length;ae++)B[ae]=""}}}}return Fn(v)}catch{return _}}var _r={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},si;function ai(){}U(ai,jo),ai.prototype.g=function(){return new XMLHttpRequest},ai.prototype.i=function(){return{}},si=new ai;function sn(c,_,v,S){this.j=c,this.i=_,this.l=v,this.R=S||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Bo={},ga={};function Gn(c,_,v){c.L=1,c.v=Rs(yn(_)),c.m=v,c.P=!0,ji(c,null)}function ji(c,_){c.F=Date.now(),bs(c),c.A=yn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Ko(v.i,"t",S),c.C=0,v=c.j.J,c.h=new mt,c.g=ec(c.j,v?_:null,!c.m),0<c.O&&(c.M=new bd(A(c.Y,c,c.g),c.O)),_=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(_s[0]=B.toString()),B=_s);for(var $=0;$<B.length;$++){var ae=ku(v,B[$],S||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),gr(),zo(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;const _=this.M;_&&Dn(c)==3?_.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=Dn(this.g);var _=this.g.Ba();const Hi=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Qu(this.g)))){this.J||Nt!=4||_==7||(_==8||0>=Hi?gr(3):gr(2)),vr(this);var v=this.g.Z();this.X=v;t:if(Uu(this)){var S=Qu(this.g);c="";var B=S.length,$=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Bt(this),oi(this);var ae="";break t}this.h.i=new m.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,c+=this.h.i.decode(S[_],{stream:!($&&_==B-1)});S.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,Sd(this.i,this.u,this.A,this.l,this.R,Nt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,xt=this.g;if((ze=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(ze)){var Be=ze;break t}}Be=null}if(v=Be)yr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ss(this,v);else{this.o=!1,this.s=3,at(12),Bt(this),oi(this);break e}}if(this.P){v=!0;let qt;for(;!this.J&&this.C<ae.length;)if(qt=zu(this,ae),qt==ga){Nt==4&&(this.s=4,at(14),v=!1),yr(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==Bo){this.s=4,at(15),yr(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else yr(this.i,this.l,qt,null),Ss(this,qt);if(Uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||ae.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)yr(this.i,this.l,ae,"[Invalid Chunked Response]"),Bt(this),oi(this);else if(0<ae.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),ks(Vt),Vt.M=!0,at(11))}}else yr(this.i,this.l,ae,null),Ss(this,ae);Nt==4&&Bt(this),this.o&&!this.J&&(Nt==4?Wu(this.j,this):(this.o=!1,bs(this)))}else Cd(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Bt(this),oi(this)}}}catch{}finally{}};function Uu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zu(c,_){var v=c.C,S=_.indexOf(`
`,v);return S==-1?ga:(v=Number(_.substring(v,S)),isNaN(v)?Bo:(S+=1,S+v>_.length?ga:(_=_.slice(S,S+v),c.C=S+v,_)))}sn.prototype.cancel=function(){this.J=!0,Bt(this)};function bs(c){c.S=Date.now()+c.I,Bu(c,c.I)}function Bu(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Tt(A(c.ba,c),_)}function vr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Lu(this.i,this.A),this.L!=2&&(gr(),at(17)),Bt(this),this.s=2,oi(this)):Bu(this,this.S-c)};function oi(c){c.j.G==0||c.J||Wu(c.j,c)}function Bt(c){vr(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,vs(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function Ss(c,_){try{var v=c.j;if(v.G!=0&&(v.g==c||qo(v.h,c))){if(!c.K&&qo(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ca(v),Ra(v);else break e;Zo(v),at(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Tt(A(v.Za,v),6e3));if(1>=_a(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qi(v,11)}else if((c.K||v.g==c)&&Ca(v),!se(_))for(B=v.Da.g.parse(_),_=0;_<B.length;_++){let Be=B[_];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const Vt=Be[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Nt=Be[4];Nt!=null&&(v.Aa=Nt,v.j.info("SVER="+v.Aa));const Hi=Be[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(S=1.5*Hi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const qt=c.g;if(qt){const mi=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mi){var $=S.h;$.g||mi.indexOf("spdy")==-1&&mi.indexOf("quic")==-1&&mi.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(va($,$.h),$.h=null))}if(S.D){const el=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(S.ya=el,We(S.I,S.D,el))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ae=c;if(S.qa=Ju(S,S.J?S.ia:null,S.W),ae.K){an(S.h,ae);var ze=ae,xt=S.L;xt&&(ze.I=xt),ze.B&&(vr(ze),bs(ze)),S.g=ae}else $u(S);0<v.i.length&&Ia(v)}else Be[0]!="stop"&&Be[0]!="close"||qi(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?qi(v,7):Xo(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}gr(4)}catch{}}var qu=class{constructor(c,_){this.g=c,this.map=_}};function Vi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _a(c){return c.h?1:c.g?c.g.size:0}function qo(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function va(c,_){c.g?c.g.add(_):c.h=_}function an(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Vi.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ho(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const v of c.g.values())_=_.concat(v.D);return _}return K(c.i)}function wd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var _=[],v=c.length,S=0;S<v;S++)_.push(c[S]);return _}_=[],v=0;for(S in c)_[v++]=c[S];return _}function Ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var _=[];c=c.length;for(var v=0;v<c;v++)_.push(v);return _}_=[],v=0;for(const S in c)_[v++]=S;return _}}}function Fo(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var v=Ea(c),S=wd(c),B=S.length,$=0;$<B;$++)_.call(void 0,S[$],v&&v[$],c)}var ws=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ad(c,_){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var $=c[v].substring(0,S);B=c[v].substring(S+1)}else $=c[v];_($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof bt){this.h=c.h,As(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.s),this.l=c.l;var _=c.i,v=new Li;v.i=_.i,_.g&&(v.g=new Map(_.g),v.h=_.h),Pi(this,v),this.m=c.m}else c&&(_=String(c).match(ws))?(this.h=!1,As(this,_[1]||"",!0),this.o=Cn(_[2]||""),this.g=Cn(_[3]||"",!0),Er(this,_[4]),this.l=Cn(_[5]||"",!0),Pi(this,_[6]||"",!0),this.m=Cn(_[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}bt.prototype.toString=function(){var c=[],_=this.j;_&&c.push(Is(_,Go,!0),":");var v=this.g;return(v||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Is(_,Go,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Is(v,v.charAt(0)=="/"?Rd:Qo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Is(v,Ta)),c.join("")};function yn(c){return new bt(c)}function As(c,_,v){c.j=v?Cn(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function Pi(c,_,v){_ instanceof Li?(c.i=_,Fu(c.i,c.h)):(v||(_=Is(_,Id)),c.i=new Li(_,c.h))}function We(c,_,v){c.i.set(_,v)}function Rs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Cn(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,_,v){return typeof c=="string"?(c=encodeURI(c).replace(_,Hu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Qo=/[#\?:]/g,Rd=/[#\?]/g,Id=/[#\?@]/g,Ta=/#/g;function Li(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function xn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ad(c.i,function(_,v){c.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}i=Li.prototype,i.add=function(c,_){xn(this),this.i=null,c=li(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(_),this.h+=1,this};function Ui(c,_){xn(c),_=li(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function zi(c,_){return xn(c),_=li(c,_),c.g.has(_)}i.forEach=function(c,_){xn(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(_,B,S,this)},this)},this)},i.na=function(){xn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),v=[];for(let S=0;S<_.length;S++){const B=c[S];for(let $=0;$<B.length;$++)v.push(_[S])}return v},i.V=function(c){xn(this);let _=[];if(typeof c=="string")zi(this,c)&&(_=_.concat(this.g.get(li(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)_=_.concat(c[v])}return _},i.set=function(c,_){return xn(this),this.i=null,c=li(this,c),zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},i.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Ko(c,_,v){Ui(c,_),0<v.length&&(c.i=null,c.g.set(li(c,_),K(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var v=0;v<_.length;v++){var S=_[v];const $=encodeURIComponent(String(S)),ae=this.V(S);for(S=0;S<ae.length;S++){var B=$;ae[S]!==""&&(B+="="+encodeURIComponent(String(ae[S]))),c.push(B)}}return this.i=c.join("&")};function li(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Fu(c,_){_&&!c.j&&(xn(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(Ui(this,S),Ko(this,B,v))},c)),c.j=_}function Cs(c,_){const v=new In;if(m.Image){const S=new Image;S.onload=C(Nn,v,"TestLoadImage: loaded",!0,_,S),S.onerror=C(Nn,v,"TestLoadImage: error",!1,_,S),S.onabort=C(Nn,v,"TestLoadImage: abort",!1,_,S),S.ontimeout=C(Nn,v,"TestLoadImage: timeout",!1,_,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function Qn(c,_){const v=new In,S=new AbortController,B=setTimeout(()=>{S.abort(),Nn(v,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(B),$.ok?Nn(v,"TestPingServer: ok",!0,_):Nn(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),Nn(v,"TestPingServer: error",!1,_)})}function Nn(c,_,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function xs(){this.g=new Es}function ui(c,_,v){const S=v||"";try{Fo(c,function(B,$){let ae=B;y(B)&&(ae=Fn(B)),_.push(S+$+"="+encodeURIComponent(ae))})}catch(B){throw _.push(S+"type="+encodeURIComponent("_badmap")),B}}function Tr(c){this.l=c.Ub||null,this.j=c.eb||!1}U(Tr,jo),Tr.prototype.g=function(){return new Bi(this.l,this.j)},Tr.prototype.i=(function(c){return function(){return c}})({});function Bi(c,_){ht.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Bi,ht),i=Bi.prototype,i.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,hi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ci(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?ci(this):hi(this),this.readyState==3&&Yo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ci(this))},i.Qa=function(c){this.g&&(this.response=c,ci(this))},i.ga=function(){this.g&&ci(this)};function ci(c){c.readyState=4,c.l=null,c.j=null,c.v=null,hi(c)}i.setRequestHeader=function(c,_){this.u.append(c,_)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=_.next();return c.join(`\r
`)};function hi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $o(c){let _="";return te(c,function(v,S){_+=S,_+=":",_+=v,_+=`\r
`}),_}function jt(c,_,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=$o(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):We(c,_,v))}function Qe(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(Qe,ht);var ba=/^https?$/i,Ns=["POST","PUT"];i=Qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,_,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():si.g(),this.v=this.o?Vo(this.o):Vo(si),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch($){Gu(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ns,_,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of v)this.g.setRequestHeader($,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Gu(this,$)}};function Gu(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Sa(c),di(c)}function Sa(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),di(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),di(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?wa(this):this.bb())},i.bb=function(){wa(this)};function wa(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)$t(c.Ea,0,c);else if(Ye(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var S;if(S=ae===0){var B=String(c.D).match(ws)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!ba.test(B?B.toLowerCase():"")}v=S}if(v)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var $=2<Dn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Sa(c)}}finally{di(c)}}}}function di(c,_){if(c.g){Ds(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Ye(c,"ready");try{v.onreadystatechange=S}catch{}}}function Ds(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),ma(_)}};function Qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Cd(c){const _={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(se(c[S]))continue;var v=O(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=_[B]||[];_[B]=$,$.push(v)}x(_,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(c,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||_}function Aa(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,c),this.cb=Os("retryDelaySeedMs",1e4,c),this.Wa=Os("forwardChannelMaxRetries",2,c),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(c&&c.concurrentRequestLimit),this.Da=new xs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Aa.prototype,i.la=8,i.G=1,i.connect=function(c,_,v,S){at(0),this.W=c,this.H=_||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Ju(this,null,this.W),Ia(this)};function Xo(c){if(Ku(c),c.G==3){var _=c.U++,v=yn(c.I);if(We(v,"SID",c.K),We(v,"RID",_),We(v,"TYPE","terminate"),Ms(c,v),_=new sn(c,c.j,_),_.L=2,_.v=Rs(yn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=_.v,v=!0),v||(_.g=ec(_.j,null),_.g.ea(_.v)),_.F=Date.now(),bs(_)}Zu(c)}function Ra(c){c.g&&(ks(c),c.g.cancel(),c.g=null)}function Ku(c){Ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ia(c){if(!ya(c.h)&&!c.s){c.s=!0;var _=c.Ga;le||k(),ge||(le(),ge=!0),Le.add(_,c),c.B=0}}function xd(c,_){return _a(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Tt(A(c.Ga,c,_),Jo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new sn(this,this.j,c);let $=this.o;if(this.S&&($?($=R($),M($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=Yu(this,B,_),v=yn(this.I),We(v,"RID",c),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),Ms(this,v),$&&(this.O?_="headers="+encodeURIComponent(String($o($)))+"&"+_:this.m&&jt(v,this.m,$)),va(this.h,B),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",_),We(v,"SID","null"),B.T=!0,Gn(B,v,null)):Gn(B,v,_),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||ya(this.h)||Wo(this))};function Wo(c,_){var v;_?v=_.l:v=c.U++;const S=yn(c.I);We(S,"SID",c.K),We(S,"RID",v),We(S,"AID",c.T),Ms(c,S),c.m&&c.o&&jt(S,c.m,c.o),v=new sn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),_&&(c.i=_.D.concat(c.i)),_=Yu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),va(c.h,v),Gn(v,S,_)}function Ms(c,_){c.H&&te(c.H,function(v,S){We(_,S,v)}),c.l&&Fo({},function(v,S){We(_,S,v)})}function Yu(c,_,v){v=Math.min(c.i.length,v);var S=c.l?A(c.l.Na,c.l,c):null;e:{var B=c.i;let $=-1;for(;;){const ae=["count="+v];$==-1?0<v?($=B[0].g,ae.push("ofs="+$)):$=0:ae.push("ofs="+$);let ze=!0;for(let xt=0;xt<v;xt++){let Be=B[xt].g;const Vt=B[xt].map;if(Be-=$,0>Be)$=Math.max(0,B[xt].g-100),ze=!1;else try{ui(Vt,ae,"req"+Be+"_")}catch{S&&S(Vt)}}if(ze){S=ae.join("&");break e}}}return c=c.i.splice(0,v),_.D=c,S}function $u(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;le||k(),ge||(le(),ge=!0),Le.add(_,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Tt(A(c.Fa,c),Jo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Tt(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Ra(this),Xu(this))};function ks(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Xu(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=yn(c.qa);We(_,"RID","rpc"),We(_,"SID",c.K),We(_,"AID",c.T),We(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(_,"TO",c.ja),We(_,"TYPE","xmlhttp"),Ms(c,_),c.m&&c.o&&jt(_,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Rs(yn(_)),v.m=null,v.P=!0,ji(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ra(this),Zo(this),at(19))};function Ca(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Wu(c,_){var v=null;if(c.g==_){Ca(c),ks(c),c.g=null;var S=2}else if(qo(c.h,_))v=_.D,an(c.h,_),S=1;else return;if(c.G!=0){if(_.o)if(S==1){v=_.m?_.m.length:0,_=Date.now()-_.F;var B=c.B;S=pr(),Ye(S,new Ct(S,v)),Ia(c)}else $u(c);else if(B=_.s,B==3||B==0&&0<_.X||!(S==1&&xd(c,_)||S==2&&Zo(c)))switch(v&&0<v.length&&(_=c.h,_.i=_.i.concat(v)),B){case 1:qi(c,5);break;case 4:qi(c,10);break;case 3:qi(c,6);break;default:qi(c,2)}}}function Jo(c,_){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*_}function qi(c,_){if(c.j.info("Error code "+_),_==2){var v=A(c.fb,c),S=c.Xa;const B=!S;S=new bt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||As(S,"https"),Rs(S),B?Cs(S.toString(),v):Qn(S.toString(),v)}else at(2);c.G=0,c.l&&c.l.sa(_),Zu(c),Ku(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Zu(c){if(c.G=0,c.ka=[],c.l){const _=Ho(c.h);(_.length!=0||c.i.length!=0)&&(z(c.ka,_),z(c.ka,c.i),c.h.i.length=0,K(c.i),c.i.length=0),c.l.ra()}}function Ju(c,_,v){var S=v instanceof bt?yn(v):new bt(v);if(S.g!="")_&&(S.g=_+"."+S.g),Er(S,S.s);else{var B=m.location;S=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var $=new bt(null);S&&As($,S),_&&($.g=_),B&&Er($,B),v&&($.l=v),S=$}return v=c.D,_=c.ya,v&&_&&We(S,v,_),We(S,"VER",c.la),Ms(c,S),S}function ec(c,_,v){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new Qe(new Tr({eb:v})):new Qe(c.pa),_.Ha(c.J),_}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function tc(){}i=tc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function xa(){}xa.prototype.g=function(c,_){return new on(c,_)};function on(c,_){ht.call(this),this.g=new Aa(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!se(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!se(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new fi(this)}U(on,ht),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Xo(this.g)},on.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Fn(c),c=v);_.i.push(new qu(_.Ya++,c)),_.G==3&&Ia(_)},on.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,on.aa.N.call(this)};function nc(c){Mi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const v in _){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}U(nc,Mi);function ic(){Lo.call(this),this.status=1}U(ic,Lo);function fi(c){this.g=c}U(fi,tc),fi.prototype.ua=function(){Ye(this.g,"a")},fi.prototype.ta=function(c){Ye(this.g,new nc(c))},fi.prototype.sa=function(c){Ye(this.g,new ic)},fi.prototype.ra=function(){Ye(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,z0=function(){return new xa},U0=function(){return pr()},L0=ri,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,Th=_r,ki.COMPLETE="complete",P0=ki,Po.EventType=Oi,Oi.OPEN="a",Oi.CLOSE="b",Oi.ERROR="c",Oi.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Kl=Po,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,V0=Qe}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const RE="@firebase/firestore",IE="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Np("@firebase/firestore");function so(){return ra.logLevel}function me(i,...e){if(ra.logLevel<=je.DEBUG){const n=e.map(Hp);ra.debug(`Firestore (${Io}): ${i}`,...n)}}function dr(i,...e){if(ra.logLevel<=je.ERROR){const n=e.map(Hp);ra.error(`Firestore (${Io}): ${i}`,...n)}}function _o(i,...e){if(ra.logLevel<=je.WARN){const n=e.map(Hp);ra.warn(`Firestore (${Io}): ${i}`,...n)}}function Hp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,B0(i,s,n)}function B0(i,e,n){let s=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function Ke(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||B0(e,o,s)}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class bx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class Sx{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,e.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}}),0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new q0(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class wx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ax{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new wx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class CE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,me("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new CE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new CE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ix(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function np(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return Vm(o)===Vm(u)?Ve(o,u):Vm(o)?1:-1}return Ve(i.length,e.length)}const Cx=55296,xx=57343;function Vm(i){const e=i.charCodeAt(0);return e>=Cx&&e<=xx}function vo(i,e,n){return i.length===e.length&&i.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__name__";class Ei{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ei.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ei.isNumericId(e),o=Ei.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(n)):np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Wr.fromString(e.substring(4,e.length-2))}}class rt extends Ei{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const Nx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ei{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return Nx.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===xE}static keyField(){return new Kt([xE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(u(),o++)}if(u(),d)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(rt.fromString(e))}static fromName(e){return new _e(rt.fromString(e).popFirst(5))}static empty(){return new _e(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(i,e,n){if(!n)throw new he(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Dx(i,e,n,s){if(e===!0&&s===!0)throw new he(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function NE(i){if(!_e.isDocumentKey(i))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function DE(i){if(_e.isDocumentKey(i))throw new he(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function F0(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function td(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be(12329,{type:typeof i})}function Hn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=td(i);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(i,e){const n={typeString:i};return e&&(n.value=e),n}function wu(i,e){if(!F0(i))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const d=i[s];if(o&&typeof d!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new he(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE=-62135596800,ME=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*ME);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<OE)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ME}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-OE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:It("string",st._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new st(0,0))}static max(){return new Re(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function Ox(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new es(o,_e.empty(),e)}function Mx(i){return new es(i.readTime,i.key,lu)}class es{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new es(Re.min(),_e.empty(),lu)}static max(){return new es(Re.max(),_e.empty(),lu)}}function kx(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Vx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==jx)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,s)=>{n(e)}))}static reject(e){return new ie(((n,s)=>{s(e)}))}static waitFor(e){return new ie(((n,s)=>{let o=0,u=0,d=!1;e.forEach((m=>{++o,m.next((()=>{++u,d&&u===o&&n()}),(g=>s(g)))})),d=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next((o=>o?ie.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ie(((s,o)=>{const u=e.length,d=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((T=>{d[y]=T,++m,m===u&&s(d)}),(T=>o(T)))}}))}static doWhile(e,n){return new ie(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function Px(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}nd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp=-1;function id(i){return i==null}function Vh(i){return i===0&&1/i==-1/0}function Lx(i){return typeof i=="number"&&Number.isInteger(i)&&!Vh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="";function Ux(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=kE(e)),e=zx(i.get(n),e);return kE(e)}function zx(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case G0:n+="";break;default:n+=u}}return n}function kE(i){return i+G0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function cs(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Q0(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VE(this.data.getIterator())}getIteratorFrom(e){return new VE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class VE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new An([])}unionWith(e){let n=new Mt(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new K0("Invalid base64 string: "+u):u}})(e);return new Yt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u})(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const Bx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ts(i){if(Ke(!!i,39018),typeof i=="string"){let e=0;const n=Bx.exec(i);if(Ke(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ns(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="server_timestamp",$0="__type__",X0="__previous_value__",W0="__local_write_time__";function Qp(i){return(i?.mapValue?.fields||{})[$0]?.stringValue===Y0}function rd(i){const e=i.mapValue.fields[X0];return Qp(e)?rd(e):e}function uu(i){const e=ts(i.mapValue.fields[W0].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n,s,o,u,d,m,g,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const Ph="(default)";class cu{constructor(e,n){this.projectId=e,this.database=n||Ph}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0="__type__",Hx="__max__",lh={mapValue:{}},J0="__vector__",Lh="value";function is(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Qp(i)?4:Gx(i)?9007199254740991:Fx(i)?10:11:be(28295,{value:i})}function Ii(i,e){if(i===e)return!0;const n=is(i);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return uu(i).isEqual(uu(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=ts(o.timestampValue),m=ts(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return ns(o.bytesValue).isEqual(ns(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=_t(o.doubleValue),m=_t(u.doubleValue);return d===m?Vh(d)===Vh(m):isNaN(d)&&isNaN(m)}return!1})(i,e);case 9:return vo(i.arrayValue.values||[],e.arrayValue.values||[],Ii);case 10:case 11:return(function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(jE(d)!==jE(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!Ii(d[g],m[g])))return!1;return!0})(i,e);default:return be(52216,{left:i})}}function hu(i,e){return(i.values||[]).find((n=>Ii(n,e)))!==void 0}function Eo(i,e){if(i===e)return 0;const n=is(i),s=is(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return(function(u,d){const m=_t(u.integerValue||u.doubleValue),g=_t(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return PE(i.timestampValue,e.timestampValue);case 4:return PE(uu(i),uu(e));case 5:return np(i.stringValue,e.stringValue);case 6:return(function(u,d){const m=ns(u),g=ns(d);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(u,d){const m=u.split("/"),g=d.split("/");for(let y=0;y<m.length&&y<g.length;y++){const T=Ve(m[y],g[y]);if(T!==0)return T}return Ve(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,d){const m=Ve(_t(u.latitude),_t(d.latitude));return m!==0?m:Ve(_t(u.longitude),_t(d.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return LE(i.arrayValue,e.arrayValue);case 10:return(function(u,d){const m=u.fields||{},g=d.fields||{},y=m[Lh]?.arrayValue,T=g[Lh]?.arrayValue,w=Ve(y?.values?.length||0,T?.values?.length||0);return w!==0?w:LE(y,T)})(i.mapValue,e.mapValue);case 11:return(function(u,d){if(u===lh.mapValue&&d===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(d===lh.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=d.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let w=0;w<g.length&&w<T.length;++w){const A=np(g[w],T[w]);if(A!==0)return A;const C=Eo(m[g[w]],y[T[w]]);if(C!==0)return C}return Ve(g.length,T.length)})(i.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function PE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=ts(i),s=ts(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function LE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function To(i){return ip(i)}function ip(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const s=ts(n);return`time(${s.seconds},${s.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return ns(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return _e.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"})(i.arrayValue):"mapValue"in i?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${ip(n.fields[d])}`;return o+"}"})(i.mapValue):be(61005,{value:i})}function bh(i){switch(is(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=rd(i);return e?16+bh(e):16;case 5:return 2*i.stringValue.length;case 6:return ns(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+bh(u)),0)})(i.arrayValue);case 10:case 11:return(function(s){let o=0;return cs(s.fields,((u,d)=>{o+=u.length+bh(d)})),o})(i.mapValue);default:throw be(13486,{value:i})}}function UE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function rp(i){return!!i&&"integerValue"in i}function Kp(i){return!!i&&"arrayValue"in i}function zE(i){return!!i&&"nullValue"in i}function BE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Sh(i){return!!i&&"mapValue"in i}function Fx(i){return(i?.mapValue?.fields||{})[Z0]?.stringValue===J0}function Jl(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return cs(i.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Jl(s))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(i.arrayValue.values[n]);return e}return{...i}}function Gx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Hx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach(((d,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}d?s[m.lastSegment()]=Jl(d):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ii(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){cs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new pn(Jl(this.value))}}function eb(i){const e=[];return cs(i.fields,((n,s)=>{const o=new Kt([n]);if(Sh(s)){const u=eb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)})),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n,s,o,u,d,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new nn(e,0,Re.min(),Re.min(),Re.min(),pn.empty(),0)}static newFoundDocument(e,n,s,o){return new nn(e,1,n,Re.min(),s,o,0)}static newNoDocument(e,n){return new nn(e,2,n,Re.min(),Re.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new nn(e,3,n,Re.min(),Re.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.position=e,this.inclusive=n}}function qE(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],d=i.position[o];if(u.field.isKeyField()?s=_e.comparator(_e.fromName(d.referenceValue),n.key):s=Eo(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function HE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ii(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n="asc"){this.field=e,this.dir=n}}function Qx(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{}class Rt extends tb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Yx(e,n,s):n==="array-contains"?new Wx(e,s):n==="in"?new Zx(e,s):n==="not-in"?new Jx(e,s):n==="array-contains-any"?new eN(e,s):new Rt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new $x(e,s):new Xx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends tb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ei(e,n)}matches(e){return nb(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function nb(i){return i.op==="and"}function ib(i){return Kx(i)&&nb(i)}function Kx(i){for(const e of i.filters)if(e instanceof ei)return!1;return!0}function sp(i){if(i instanceof Rt)return i.field.canonicalString()+i.op.toString()+To(i.value);if(ib(i))return i.filters.map((e=>sp(e))).join(",");{const e=i.filters.map((n=>sp(n))).join(",");return`${i.op}(${e})`}}function rb(i,e){return i instanceof Rt?(function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&Ii(s.value,o.value)})(i,e):i instanceof ei?(function(s,o){return o instanceof ei&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,d,m)=>u&&rb(d,o.filters[m])),!0):!1})(i,e):void be(19439)}function sb(i){return i instanceof Rt?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(i):i instanceof ei?(function(n){return n.op.toString()+" {"+n.getFilters().map(sb).join(" ,")+"}"})(i):"Filter"}class Yx extends Rt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class $x extends Rt{constructor(e,n){super(e,"in",n),this.keys=ab("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class Xx extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=ab("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ab(i,e){return(e.arrayValue?.values||[]).map((n=>_e.fromName(n.referenceValue)))}class Wx extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kp(n)&&hu(n.arrayValue,this.value)}}class Zx extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hu(this.value.arrayValue,n)}}class Jx extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!hu(this.value.arrayValue,n)}}class eN extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>hu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(e,n=null,s=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.Te=null}}function FE(i,e=null,n=[],s=[],o=null,u=null,d=null){return new tN(i,e,n,s,o,u,d)}function Yp(i){const e=Ie(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>sp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),id(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>To(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>To(s))).join(",")),e.Te=n}return e.Te}function $p(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Qx(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!rb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!HE(i.startAt,e.startAt)&&HE(i.endAt,e.endAt)}function ap(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,n=null,s=[],o=[],u=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function nN(i,e,n,s,o,u,d,m){return new No(i,e,n,s,o,u,d,m)}function Xp(i){return new No(i)}function GE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ob(i){return i.collectionGroup!==null}function eu(i){const e=Ie(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Mt(Kt.comparator);return d.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new du(u,s))})),n.has(Kt.keyField().canonicalString())||e.Ie.push(new du(Kt.keyField(),s))}return e.Ie}function Si(i){const e=Ie(i);return e.Ee||(e.Ee=iN(e,eu(i))),e.Ee}function iN(i,e){if(i.limitType==="F")return FE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new du(o.field,u)}));const n=i.endAt?new Uh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Uh(i.startAt.position,i.startAt.inclusive):null;return FE(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function op(i,e){const n=i.filters.concat([e]);return new No(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function lp(i,e,n){return new No(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function sd(i,e){return $p(Si(i),Si(e))&&i.limitType===e.limitType}function lb(i){return`${Yp(Si(i))}|lt:${i.limitType}`}function ao(i){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>sb(o))).join(", ")}]`),id(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(Si(i))}; limitType=${i.limitType})`}function ad(i,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):_e.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(i,e)&&(function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(s,o){return!(s.startAt&&!(function(d,m,g){const y=qE(d,m,g);return d.inclusive?y<=0:y<0})(s.startAt,eu(s),o)||s.endAt&&!(function(d,m,g){const y=qE(d,m,g);return d.inclusive?y>=0:y>0})(s.endAt,eu(s),o))})(i,e)}function rN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ub(i){return(e,n)=>{let s=!1;for(const o of eu(i)){const u=sN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function sN(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):(function(u,d,m){const g=d.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Eo(g,y):be(42886)})(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){cs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Q0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new ct(_e.comparator);function fr(){return aN}const cb=new ct(_e.comparator);function Yl(...i){let e=cb;for(const n of i)e=e.insert(n.key,n);return e}function hb(i){let e=cb;return i.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Zs(){return tu()}function db(){return tu()}function tu(){return new ua((i=>i.toString()),((i,e)=>i.isEqual(e)))}const oN=new ct(_e.comparator),lN=new Mt(_e.comparator);function Pe(...i){let e=lN;for(const n of i)e=e.add(n);return e}const uN=new Mt(Ve);function cN(){return uN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function fb(i){return{integerValue:""+i}}function hN(i,e){return Lx(e)?fb(e):Wp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(){this._=void 0}}function dN(i,e,n){return i instanceof fu?(function(o,u){const d={fields:{[$0]:{stringValue:Y0},[W0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Qp(u)&&(u=rd(u)),u&&(d.fields[X0]=u),{mapValue:d}})(n,e):i instanceof mu?pb(i,e):i instanceof pu?gb(i,e):(function(o,u){const d=mb(o,u),m=QE(d)+QE(o.Ae);return rp(d)&&rp(o.Ae)?fb(m):Wp(o.serializer,m)})(i,e)}function fN(i,e,n){return i instanceof mu?pb(i,e):i instanceof pu?gb(i,e):n}function mb(i,e){return i instanceof zh?(function(s){return rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class fu extends od{}class mu extends od{constructor(e){super(),this.elements=e}}function pb(i,e){const n=yb(e);for(const s of i.elements)n.some((o=>Ii(o,s)))||n.push(s);return{arrayValue:{values:n}}}class pu extends od{constructor(e){super(),this.elements=e}}function gb(i,e){let n=yb(e);for(const s of i.elements)n=n.filter((o=>!Ii(o,s)));return{arrayValue:{values:n}}}class zh extends od{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function QE(i){return _t(i.integerValue||i.doubleValue)}function yb(i){return Kp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(e,n){this.field=e,this.transform=n}}function pN(i,e){return i.field.isEqual(e.field)&&(function(s,o){return s instanceof mu&&o instanceof mu||s instanceof pu&&o instanceof pu?vo(s.elements,o.elements,Ii):s instanceof zh&&o instanceof zh?Ii(s.Ae,o.Ae):s instanceof fu&&o instanceof fu})(i.transform,e.transform)}class gN{constructor(e,n){this.version=e,this.transformResults=n}}class un{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ld{}function _b(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ud(i.key,un.none()):new Au(i.key,i.data,un.none());{const n=i.data,s=pn.empty();let o=new Mt(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new hs(i.key,s,new An(o.toArray()),un.none())}}function yN(i,e,n){i instanceof Au?(function(o,u,d){const m=o.value.clone(),g=YE(o.fieldTransforms,u,d.transformResults);m.setAll(g),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()})(i,e,n):i instanceof hs?(function(o,u,d){if(!wh(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=YE(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(vb(o)),g.setAll(m),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(i,e,n):(function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,n)}function nu(i,e,n,s){return i instanceof Au?(function(u,d,m,g){if(!wh(u.precondition,d))return m;const y=u.value.clone(),T=$E(u.fieldTransforms,g,d);return y.setAll(T),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(i,e,n,s):i instanceof hs?(function(u,d,m,g){if(!wh(u.precondition,d))return m;const y=$E(u.fieldTransforms,g,d),T=d.data;return T.setAll(vb(u)),T.setAll(y),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(i,e,n,s):(function(u,d,m){return wh(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m})(i,e,n)}function _N(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=mb(s.transform,o||null);u!=null&&(n===null&&(n=pn.empty()),n.set(s.field,u))}return n||null}function KE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,d)=>pN(u,d)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Au extends ld{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hs extends ld{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function vb(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}})),e}function YE(i,e,n){const s=new Map;Ke(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],d=u.transform,m=e.data.field(u.field);s.set(u.field,fN(d,m,n[o]))}return s}function $E(i,e,n){const s=new Map;for(const o of i){const u=o.transform,d=n.data.field(o.field);s.set(o.field,dN(u,d,e))}return s}class ud extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vN extends ld{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&yN(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=nu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=db();return this.mutations.forEach((o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=n.has(o.key)?null:m;const g=_b(d,m);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Pe())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((n,s)=>KE(n,s)))&&vo(this.baseMutations,e.baseMutations,((n,s)=>KE(n,s)))}}class Zp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return oN})();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new Zp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,He;function SN(i){switch(i){case Z.OK:return be(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return be(15467,{code:i})}}function Eb(i){if(i===void 0)return dr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case At.OK:return Z.OK;case At.CANCELLED:return Z.CANCELLED;case At.UNKNOWN:return Z.UNKNOWN;case At.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case At.INTERNAL:return Z.INTERNAL;case At.UNAVAILABLE:return Z.UNAVAILABLE;case At.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case At.NOT_FOUND:return Z.NOT_FOUND;case At.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case At.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case At.ABORTED:return Z.ABORTED;case At.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case At.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case At.DATA_LOSS:return Z.DATA_LOSS;default:return be(39323,{code:i})}}(He=At||(At={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=new Wr([4294967295,4294967295],0);function XE(i){const e=wN().encode(i),n=new j0;return n.update(e),new Uint8Array(n.digest())}function WE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Wr([n,s],0),new Wr([o,u],0)]}class Jp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Wr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Wr.fromNumber(s)));return o.compare(AN)===1&&(o=new Wr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=XE(e),[s,o]=WE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);if(!this.we(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new Jp(u,o,n);return s.forEach((m=>d.insert(m))),d}insert(e){if(this.ge===0)return;const n=XE(e),[s,o]=WE(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new cd(Re.min(),o,new ct(Ve),fr(),Pe())}}class Ru{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ru(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class Tb{constructor(e,n){this.targetId=e,this.Ce=n}}class bb{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class ZE{constructor(){this.ve=0,this.Fe=JE(),this.Me=Yt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new Ru(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=JE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ke(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class RN{constructor(e){this.Ge=e,this.ze=new Map,this.je=fr(),this.Je=uh(),this.He=uh(),this.Ye=new ct(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ap(u))if(s===0){const d=new _e(u.path);this.et(n,d,nn.newNoDocument(d,Re.min()))}else Ke(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const m=this.ut(e),g=m?this.ct(m,e,d):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let d,m;try{d=ns(s).toUint8Array()}catch(g){if(g instanceof K0)return _o("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Jp(d,o,u)}catch(g){return _o(g instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const d=this.Ge.ht(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,d)=>{const m=this.ot(d);if(m){if(u.current&&ap(m.target)){const g=new _e(m.target.path);this.It(g).has(d)||this.Et(d,g)||this.et(d,g,nn.newNoDocument(g,e))}u.Be&&(n.set(d,u.ke()),u.qe())}}));let s=Pe();this.He.forEach(((u,d)=>{let m=!0;d.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(e)));const o=new cd(e,n,this.Ye,this.je,s);return this.je=fr(),this.Je=uh(),this.He=uh(),this.Ye=new ct(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new ZE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Mt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Mt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new ZE),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new ct(_e.comparator)}function JE(){return new ct(_e.comparator)}const IN={asc:"ASCENDING",desc:"DESCENDING"},CN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xN={and:"AND",or:"OR"};class NN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(i,e){return i.useProto3Json||id(e)?e:{value:e}}function Bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Sb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function DN(i,e){return Bh(i,e.toTimestamp())}function wi(i){return Ke(!!i,49232),Re.fromTimestamp((function(n){const s=ts(n);return new st(s.seconds,s.nanos)})(i))}function eg(i,e){return cp(i,e).canonicalString()}function cp(i,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function wb(i){const e=rt.fromString(i);return Ke(xb(e),10190,{key:e.toString()}),e}function hp(i,e){return eg(i.databaseId,e.path)}function Pm(i,e){const n=wb(e);if(n.get(1)!==i.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(Rb(n))}function Ab(i,e){return eg(i.databaseId,e)}function ON(i){const e=wb(i);return e.length===4?rt.emptyPath():Rb(e)}function dp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Rb(i){return Ke(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function eT(i,e,n){return{name:hp(i,e),fields:n.value.mapValue.fields}}function MN(i,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?(Ke(T===void 0||typeof T=="string",58123),Yt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Yt.fromUint8Array(T||new Uint8Array))})(i,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&(function(y){const T=y.code===void 0?Z.UNKNOWN:Eb(y.code);return new he(T,y.message||"")})(d);n=new bb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Pm(i,s.document.name),u=wi(s.document.updateTime),d=s.document.createTime?wi(s.document.createTime):Re.min(),m=new pn({mapValue:{fields:s.document.fields}}),g=nn.newFoundDocument(o,u,d,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Ah(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Pm(i,s.document),u=s.readTime?wi(s.readTime):Re.min(),d=nn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Ah([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Pm(i,s.document),u=s.removedTargetIds||[];n=new Ah([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new bN(o,u),m=s.targetId;n=new Tb(m,d)}}return n}function kN(i,e){let n;if(e instanceof Au)n={update:eT(i,e.key,e.value)};else if(e instanceof ud)n={delete:hp(i,e.key)};else if(e instanceof hs)n={update:eT(i,e.key,e.data),updateMask:HN(e.fieldMask)};else{if(!(e instanceof vN))return be(16599,{Vt:e.type});n={verify:hp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,d){const m=d.transform;if(m instanceof fu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof mu)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof pu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof zh)return{fieldPath:d.field.canonicalString(),increment:m.Ae};throw be(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:DN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(i,e.precondition)),n}function jN(i,e){return i&&i.length>0?(Ke(e!==void 0,14353),i.map((n=>(function(o,u){let d=o.updateTime?wi(o.updateTime):wi(u);return d.isEqual(Re.min())&&(d=wi(u)),new gN(d,o.transformResults||[])})(n,e)))):[]}function VN(i,e){return{documents:[Ab(i,e.path)]}}function PN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Ab(i,o);const u=(function(y){if(y.length!==0)return Cb(ei.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((T=>(function(A){return{field:oo(A.field),direction:zN(A.dir)}})(T)))})(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=up(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function LN(i){let e=ON(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(w){const A=Ib(w);return A instanceof ei&&ib(A)?A.getFilters():[A]})(n.where));let d=[];n.orderBy&&(d=(function(w){return w.map((A=>(function(U){return new du(lo(U.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(A)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let A;return A=typeof w=="object"?w.value:w,id(A)?null:A})(n.limit));let g=null;n.startAt&&(g=(function(w){const A=!!w.before,C=w.values||[];return new Uh(C,A)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const A=!w.before,C=w.values||[];return new Uh(C,A)})(n.endAt)),nN(e,o,d,u,m,"F",g,y)}function UN(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ib(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=lo(n.unaryFilter.field);return Rt.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(i):i.fieldFilter!==void 0?(function(n){return Rt.create(lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return ei.create(n.compositeFilter.filters.map((s=>Ib(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(i):be(30097,{filter:i})}function zN(i){return IN[i]}function BN(i){return CN[i]}function qN(i){return xN[i]}function oo(i){return{fieldPath:i.canonicalString()}}function lo(i){return Kt.fromServerFormat(i.fieldPath)}function Cb(i){return i instanceof Rt?(function(n){if(n.op==="=="){if(BE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(zE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(BE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(zE(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:BN(n.op),value:n.value}}})(i):i instanceof ei?(function(n){const s=n.getFilters().map((o=>Cb(o)));return s.length===1?s[0]:{compositeFilter:{op:qN(n.op),filters:s}}})(i):be(54877,{filter:i})}function HN(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function xb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,n,s,o,u=Re.min(),d=Re.min(),m=Yt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e){this.yt=e}}function GN(i){const e=LN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(){this.Cn=new KN}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(es.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(es.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class KN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nb=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(Nb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="LruGarbageCollector",YN=1048576;function iT([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class $N{constructor(e){this.Ir=e,this.buffer=new Mt(iT),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();iT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class XN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){me(nT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?me(nT,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class WN{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(nd.ce);const s=new $N(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(tT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tT):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,d,m,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(s=w,m=Date.now(),this.removeTargets(e,s,n)))).next((w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(y=Date.now(),so()<=je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-T}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w}))))}}function ZN(i,e){return new WN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.changes=new ua((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&nu(s.mutation,o,An.empty(),st.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Pe()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Pe()){const o=Zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let d=Yl();return u.forEach(((m,g)=>{d=d.insert(m,g.overlayedDocument)})),d}))))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Pe())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((d,m)=>{n.set(d,m)}))}))}computeViews(e,n,s,o){let u=fr();const d=tu(),m=(function(){return tu()})();return n.forEach(((g,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof hs)?u=u.insert(y.key,y):T!==void 0?(d.set(y.key,T.mutation.getFieldMask()),nu(T.mutation,y,T.mutation.getFieldMask(),st.now())):d.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,T)=>d.set(y,T))),n.forEach(((y,T)=>m.set(y,new eD(T,d.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=tu();let o=new ct(((d,m)=>d-m)),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((d=>{for(const m of d)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=s.get(g)||An.empty();T=m.applyToLocalView(y,T),s.set(g,T);const w=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,w)}))})).next((()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,T=g.value,w=db();T.forEach((A=>{if(!u.has(A)){const C=_b(n.get(A),s.get(A));C!==null&&w.set(A,C),u=u.add(A)}})),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return ie.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(d){return _e.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ob(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Zs());let m=lu,g=u;return d.next((y=>ie.forEach(y,((T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(T)?ie.resolve():this.remoteDocumentCache.getEntry(e,T).next((A=>{g=g.insert(T,A)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,Pe()))).next((T=>({batchId:m,changes:hb(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(g=>{const y=(function(w,A){return new No(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((T=>{T.forEach(((w,A)=>{d=d.insert(w,A)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((d=>{u.forEach(((g,y)=>{const T=y.getKey();d.get(T)===null&&(d=d.insert(T,nn.newInvalidDocument(T)))}));let m=Yl();return d.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&nu(T.mutation,y,An.empty(),st.now()),ad(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:GN(o.bundledQuery),readTime:wi(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(){this.overlays=new ct(_e.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,d=new _e(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct(((y,T)=>y-T));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Zs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Zs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>m.set(y,T))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new TN(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.Qr=new Mt(zt.$r),this.Ur=new Mt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new _e(new rt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(d=>{this.Gr(d),u.push(d.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new rt([])),s=new zt(n,e),o=new zt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],(d=>{u=u.add(d.key)})),u}containsKey(e){const n=new zt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Mt(zt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new EN(u,n,s,o);this.mutationQueue.push(d);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(d)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Gp:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(d=>{const m=this.Xr(d.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Ve);return n.forEach((o=>{const u=new zt(o,0),d=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,d],(m=>{s=s.add(m.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;_e.isDocumentKey(u)||(u=u.child(""));const d=new zt(new _e(u),0);let m=new Mt(Ve);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)}),d),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ke(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new zt(n,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e){this.ri=e,this.docs=(function(){return new ct(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,d=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():nn.newInvalidDocument(n))}getEntries(e,n){let s=fr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():nn.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=fr();const d=n.path,m=new _e(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||kx(Mx(T),s)<=0||(o.has(T.key)||ad(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return ie.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new oD(this)}getSize(e){return ie.resolve(this.size)}}class oD extends JN{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.persistence=e,this.si=new ua((n=>Yp(n)),$p),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new tg,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((d=>{u.push(o.markPotentiallyOrphaned(e,d))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n){this.ui={},this.overlays={},this.ci=new nd(0),this.li=!1,this.li=!0,this.hi=new rD,this.referenceDelegate=e(this),this.Pi=new lD(this),this.indexManager=new QN,this.remoteDocumentCache=(function(o){return new aD(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new FN(n),this.Ii=new nD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new sD(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){me("MemoryPersistence","Starting transaction:",e);const o=new uD(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class uD extends Vx{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Ri=new tg,this.Vi=null}static mi(e){return new ng(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=_e.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class qh{constructor(e,n){this.persistence=e,this.pi=new ua((s=>Ux(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=ZN(this,n)}static mi(e,n){return new qh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(d=>this.br(e,d,n).next((m=>{m||(s++,u.removeEntry(d,Re.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bh(e.data.value)),n}br(e,n,s){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ig(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return UR()?8:Px(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new cD;return this.Ss(e,n,d).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,d,m.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(so()<=je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(so()<=je.DEBUG&&me("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(so()<=je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(n))):ie.resolve())}ys(e,n){if(GE(n))return ie.resolve(null);let s=Si(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),s=Si(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const d=Pe(...u);return this.ps.getDocuments(e,d).next((m=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,m);return this.Cs(n,y,d,g.readTime)?this.ys(e,lp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return GE(n)||o.isEqual(Re.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const d=this.Ds(n,u);return this.Cs(n,d,s,o)?ie.resolve(null):(so()<=je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.vs(e,d,n,Ox(o,lu)).next((m=>m)))}))}Ds(e,n){let s=new Mt(ub(e));return n.forEach(((o,u)=>{ad(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return so()<=je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ps.getDocumentsMatchingQuery(e,n,es.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg="LocalStore",dD=3e8;class fD{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ct(Ve),this.xs=new ua((u=>Yp(u)),$p),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function mD(i,e,n,s){return new fD(i,e,n,s)}async function Ob(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],m=[];let g=Pe();for(const y of o){d.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:m})))}))}))}function pD(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,T){const w=y.batch,A=w.keys();let C=ie.resolve();return A.forEach((U=>{C=C.next((()=>T.getEntry(g,U))).next((K=>{const z=y.docVersions.get(U);Ke(z!==null,48541),K.version.compareTo(z)<0&&(w.applyToRemoteDocument(K,y),K.isValidDocument()&&(K.setReadTime(y.commitVersion),T.addEntry(K)))}))})),C.next((()=>m.mutationQueue.removeMutationBatch(g,w)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let g=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function Mb(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function gD(i,e){const n=Ie(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((T,w)=>{const A=o.get(w);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,w).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,w))));let C=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?C=C.withResumeToken(Yt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):T.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(T.resumeToken,s)),o=o.insert(w,C),(function(K,z,G){return K.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-K.snapshotVersion.toMicroseconds()>=dD?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0})(A,C,T)&&m.push(n.Pi.updateTargetData(u,C))}));let g=fr(),y=Pe();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(yD(u,d,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!s.isEqual(Re.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((w=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ie.waitFor(m).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function yD(i,e,n){let s=Pe(),o=Pe();return n.forEach((u=>s=s.add(u))),e.getEntries(i,s).next((u=>{let d=fr();return n.forEach(((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Re.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):me(rg,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{ks:d,qs:o}}))}function _D(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Gp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function vD(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(s).next((d=>(o=new Yr(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function fp(i,e,n){const s=Ie(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xo(d))throw d;me(rg,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function rT(i,e,n){const s=Ie(i);let o=Re.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(g,y,T){const w=Ie(g),A=w.xs.get(T);return A!==void 0?ie.resolve(w.Ms.get(A)):w.Pi.getTargetData(y,T)})(s,d,Si(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,m.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,e,n?o:Re.min(),n?u:Pe()))).next((m=>(ED(s,rN(e),m),{documents:m,Qs:u})))))}function ED(i,e,n){let s=i.Os.get(e)||Re.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),i.Os.set(e,s)}class sT{constructor(){this.activeTargetIds=cN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TD{constructor(){this.Mo=new sT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="ConnectivityMonitor";class oT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){me(aT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){me(aT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function mp(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",SD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const d=mp(),m=this.zo(e,n.toUriEncodedString());me(Lm,`Sending RPC '${e}' ${d}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),T=oa(y);return this.Jo(e,m,g,s,T).then((w=>(me(Lm,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw _o(Lm,`RPC '${e}' ${d} failed with error: `,w,"url: ",m,"request:",s),w}))}Ho(e,n,s,o,u,d){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Io})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=SD[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class RD extends wD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const d=mp();return new Promise(((m,g)=>{const y=new V0;y.setWithCredentials(!0),y.listenOnce(P0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Th.NO_ERROR:const w=y.getResponseJson();me(Zt,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),m(w);break;case Th.TIMEOUT:me(Zt,`RPC '${e}' ${d} timed out`),g(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Th.HTTP_ERROR:const A=y.getStatus();if(me(Zt,`RPC '${e}' ${d} failed with status:`,A,"response text:",y.getResponseText()),A>0){let C=y.getResponseJson();Array.isArray(C)&&(C=C[0]);const U=C?.error;if(U&&U.status&&U.message){const K=(function(G){const se=G.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(se)>=0?se:Z.UNKNOWN})(U.status);g(new he(K,U.message))}else g(new he(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(Z.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{me(Zt,`RPC '${e}' ${d} completed.`)}}));const T=JSON.stringify(o);me(Zt,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=mp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=z0(),m=U0(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");me(Zt,`Creating RPC '${e}' stream ${o}: ${T}`,g);const w=d.createWebChannel(T,g);this.I_(w);let A=!1,C=!1;const U=new AD({Yo:z=>{C?me(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(A||(me(Zt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),me(Zt,`RPC '${e}' stream ${o} sending:`,z),w.send(z))},Zo:()=>w.close()}),K=(z,G,se)=>{z.listen(G,(ee=>{try{se(ee)}catch(fe){setTimeout((()=>{throw fe}),0)}}))};return K(w,Kl.EventType.OPEN,(()=>{C||(me(Zt,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),K(w,Kl.EventType.CLOSE,(()=>{C||(C=!0,me(Zt,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(w))})),K(w,Kl.EventType.ERROR,(z=>{C||(C=!0,_o(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,z.name,"Message:",z.message),U.a_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),K(w,Kl.EventType.MESSAGE,(z=>{if(!C){const G=z.data[0];Ke(!!G,16349);const se=G,ee=se?.error||se[0]?.error;if(ee){me(Zt,`RPC '${e}' stream ${o} received error:`,ee);const fe=ee.status;let oe=(function(R){const I=At[R];if(I!==void 0)return Eb(I)})(fe),te=ee.message;oe===void 0&&(oe=Z.INTERNAL,te="Unknown error status: "+fe+" with message "+ee.message),C=!0,U.a_(new he(oe,te)),w.close()}else me(Zt,`RPC '${e}' stream ${o} received:`,G),U.u_(G)}})),K(m,L0.STAT_EVENT,(z=>{z.stat===tp.PROXY?me(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===tp.NOPROXY&&me(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Um(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(i){return new NN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&me("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="PersistentStream";class jb{constructor(e,n,s,o,u,d,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new he(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return me(lT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(me(lT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ID extends jb{constructor(e,n,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=MN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Re.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Re.min():d.readTime?wi(d.readTime):Re.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=dp(this.serializer),n.addTarget=(function(u,d){let m;const g=d.target;if(m=ap(g)?{documents:VN(u,g)}:{query:PN(u,g).ft},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=Sb(u,d.resumeToken);const y=up(u,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Re.min())>0){m.readTime=Bh(u,d.snapshotVersion.toTimestamp());const y=up(u,d.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const s=UN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=dp(this.serializer),n.removeTarget=e,this.q_(n)}}class CD extends jb{constructor(e,n,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=jN(e.writeResults,e.commitTime),s=wi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=dp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>kN(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{}class ND extends xD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Go(e,cp(n,s),o,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,m])=>this.connection.Ho(e,cp(n,s),o,d,m,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):me("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class OD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{ca(this)&&(me(sa,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await Iu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await dd(y)})(this))}))})),this.Ra=new DD(s,o)}}async function dd(i){if(ca(i))for(const e of i.da)await e(!0)}async function Iu(i){for(const e of i.da)await e(!1)}function Vb(i,e){const n=Ie(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),lg(n)?og(n):Do(n).O_()&&ag(n,e))}function sg(i,e){const n=Ie(i),s=Do(n);n.Ia.delete(e),s.O_()&&Pb(n,e),n.Ia.size===0&&(s.O_()?s.L_():ca(n)&&n.Ra.set("Unknown"))}function ag(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(i).Y_(e)}function Pb(i,e){i.Va.Ue(e),Do(i).Z_(e)}function og(i){i.Va=new RN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.Ra.ua()}function lg(i){return ca(i)&&!Do(i).x_()&&i.Ia.size>0}function ca(i){return Ie(i).Ea.size===0}function Lb(i){i.Va=void 0}async function MD(i){i.Ra.set("Online")}async function kD(i){i.Ia.forEach(((e,n)=>{ag(i,e)}))}async function jD(i,e){Lb(i),lg(i)?(i.Ra.ha(e),og(i)):i.Ra.set("Unknown")}async function VD(i,e,n){if(i.Ra.set("Online"),e instanceof bb&&e.state===2&&e.cause)try{await(async function(o,u){const d=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(s){me(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Hh(i,s)}else if(e instanceof Ah?i.Va.Ze(e):e instanceof Tb?i.Va.st(e):i.Va.tt(e),!n.isEqual(Re.min()))try{const s=await Mb(i.localStore);n.compareTo(s)>=0&&await(function(u,d){const m=u.Va.Tt(d);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,d))}})),m.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Yt.EMPTY_BYTE_STRING,T.snapshotVersion)),Pb(u,g);const w=new Yr(T.target,g,y,T.sequenceNumber);ag(u,w)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(s){me(sa,"Failed to raise snapshot:",s),await Hh(i,s)}}async function Hh(i,e,n){if(!xo(e))throw e;i.Ea.add(1),await Iu(i),i.Ra.set("Offline"),n||(n=()=>Mb(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{me(sa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await dd(i)}))}function Ub(i,e){return e().catch((n=>Hh(i,n,e)))}async function fd(i){const e=Ie(i),n=rs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Gp;for(;PD(e);)try{const o=await _D(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,LD(e,o)}catch(o){await Hh(e,o)}zb(e)&&Bb(e)}function PD(i){return ca(i)&&i.Ta.length<10}function LD(i,e){i.Ta.push(e);const n=rs(i);n.O_()&&n.X_&&n.ea(e.mutations)}function zb(i){return ca(i)&&!rs(i).x_()&&i.Ta.length>0}function Bb(i){rs(i).start()}async function UD(i){rs(i).ra()}async function zD(i){const e=rs(i);for(const n of i.Ta)e.ea(n.mutations)}async function BD(i,e,n){const s=i.Ta.shift(),o=Zp.from(s,e,n);await Ub(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await fd(i)}async function qD(i,e){e&&rs(i).X_&&await(async function(s,o){if((function(d){return SN(d)&&d!==Z.ABORTED})(o.code)){const u=s.Ta.shift();rs(s).B_(),await Ub(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await fd(s)}})(i,e),zb(i)&&Bb(i)}async function uT(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),me(sa,"RemoteStore received new credentials");const s=ca(n);n.Ea.add(3),await Iu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await dd(n)}async function HD(i,e){const n=Ie(i);e?(n.Ea.delete(2),await dd(n)):e||(n.Ea.add(2),await Iu(n),n.Ra.set("Unknown"))}function Do(i){return i.ma||(i.ma=(function(n,s,o){const u=Ie(n);return u.sa(),new ID(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:MD.bind(null,i),t_:kD.bind(null,i),r_:jD.bind(null,i),H_:VD.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),lg(i)?og(i):i.Ra.set("Unknown")):(await i.ma.stop(),Lb(i))}))),i.ma}function rs(i){return i.fa||(i.fa=(function(n,s,o){const u=Ie(n);return u.sa(),new CD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:UD.bind(null,i),r_:qD.bind(null,i),ta:zD.bind(null,i),na:BD.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await fd(i)):(await i.fa.stop(),i.Ta.length>0&&(me(sa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const d=Date.now()+s,m=new ug(e,n,d,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cg(i,e){if(dr("AsyncQueue",`${e}: ${i}`),xo(i))return new he(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Yl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.ga=new ct(_e.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class So{constructor(e,n,s,o,u,d,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const d=[];return n.forEach((m=>{d.push({type:0,doc:m})})),new So(e,n,go.emptySet(n),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class GD{constructor(){this.queries=hT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ie(n),u=o.queries;o.queries=hT(),u.forEach(((d,m)=>{for(const g of m.Sa)g.onError(s)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function hT(){return new ua((i=>lb(i)),sd)}async function qb(i,e){const n=Ie(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new FD,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=cg(d,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&hg(n)}async function Hb(i,e){const n=Ie(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function QD(i,e){const n=Ie(i);let s=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const m of d.Sa)m.Fa(o)&&(s=!0);d.wa=o}}s&&hg(n)}function KD(i,e,n){const s=Ie(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function hg(i){i.Ca.forEach((e=>{e.next()}))}var pp,dT;(dT=pp||(pp={})).Ma="default",dT.Cache="cache";class Fb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new So(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=So.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.key=e}}class Qb{constructor(e){this.key=e}}class YD{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=ub(e),this.tu=new go(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new cT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,w)=>{const A=o.get(T),C=ad(this.query,w)?w:null,U=!!A&&this.mutatedKeys.has(A.key),K=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let z=!1;A&&C?A.data.isEqual(C.data)?U!==K&&(s.track({type:3,doc:C}),z=!0):this.su(A,C)||(s.track({type:2,doc:C}),z=!0,(g&&this.eu(C,g)>0||y&&this.eu(C,y)<0)&&(m=!0)):!A&&C?(s.track({type:0,doc:C}),z=!0):A&&!C&&(s.track({type:1,doc:A}),z=!0,(g||y)&&(m=!0)),z&&(C?(d=d.add(C),u=K?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const T=this.query.limitType==="F"?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:d,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((T,w)=>(function(C,U){const K=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:z})}};return K(C)-K(U)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,d.length!==0||y?{snapshot:new So(this.query,e.tu,u,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Qb(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new Gb(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return So.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const dg="SyncEngine";class $D{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class XD{constructor(e){this.key=e,this.hu=!1}}class WD{constructor(e,n,s,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ua((m=>lb(m)),sd),this.Iu=new Map,this.Eu=new Set,this.du=new ct(_e.comparator),this.Au=new Map,this.Ru=new tg,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ZD(i,e,n=!0){const s=Zb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await Kb(s,e,n,!0),o}async function JD(i,e){const n=Zb(i);await Kb(n,e,!0,!1)}async function Kb(i,e,n,s){const o=await vD(i.localStore,Si(e)),u=o.targetId,d=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await e2(i,e,u,d==="current",o.resumeToken)),i.isPrimaryClient&&n&&Vb(i.remoteStore,o),m}async function e2(i,e,n,s,o){i.pu=(w,A,C)=>(async function(K,z,G,se){let ee=z.view.ru(G);ee.Cs&&(ee=await rT(K.localStore,z.query,!1).then((({documents:x})=>z.view.ru(x,ee))));const fe=se&&se.targetChanges.get(z.targetId),oe=se&&se.targetMismatches.get(z.targetId)!=null,te=z.view.applyChanges(ee,K.isPrimaryClient,fe,oe);return mT(K,z.targetId,te.au),te.snapshot})(i,w,A,C);const u=await rT(i.localStore,e,!0),d=new YD(e,u.Qs),m=d.ru(u.documents),g=Ru.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=d.applyChanges(m,i.isPrimaryClient,g);mT(i,n,y.au);const T=new $D(e,n,d);return i.Tu.set(e,T),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function t2(i,e,n){const s=Ie(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((d=>!sd(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&sg(s.remoteStore,o.targetId),gp(s,o.targetId)})).catch(Co)):(gp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function n2(i,e){const n=Ie(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),sg(n.remoteStore,s.targetId))}async function i2(i,e,n){const s=c2(i);try{const o=await(function(d,m){const g=Ie(d),y=st.now(),T=m.reduce(((C,U)=>C.add(U.key)),Pe());let w,A;return g.persistence.runTransaction("Locally write mutations","readwrite",(C=>{let U=fr(),K=Pe();return g.Ns.getEntries(C,T).next((z=>{U=z,U.forEach(((G,se)=>{se.isValidDocument()||(K=K.add(G))}))})).next((()=>g.localDocuments.getOverlayedDocuments(C,U))).next((z=>{w=z;const G=[];for(const se of m){const ee=_N(se,w.get(se.key).overlayedDocument);ee!=null&&G.push(new hs(se.key,ee,eb(ee.value.mapValue),un.exists(!0)))}return g.mutationQueue.addMutationBatch(C,y,G,m)})).next((z=>{A=z;const G=z.applyToLocalDocumentSet(w,K);return g.documentOverlayCache.saveOverlays(C,z.batchId,G)}))})).then((()=>({batchId:A.batchId,changes:hb(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(d,m,g){let y=d.Vu[d.currentUser.toKey()];y||(y=new ct(Ve)),y=y.insert(m,g),d.Vu[d.currentUser.toKey()]=y})(s,o.batchId,n),await Cu(s,o.changes),await fd(s.remoteStore)}catch(o){const u=cg(o,"Failed to persist write");n.reject(u)}}async function Yb(i,e){const n=Ie(i);try{const s=await gD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const d=n.Au.get(u);d&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ke(d.hu,14607):o.removedDocuments.size>0&&(Ke(d.hu,42227),d.hu=!1))})),await Cu(n,s,e)}catch(s){await Co(s)}}function fT(i,e,n){const s=Ie(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,d)=>{const m=d.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(d,m){const g=Ie(d);g.onlineState=m;let y=!1;g.queries.forEach(((T,w)=>{for(const A of w.Sa)A.va(m)&&(y=!0)})),y&&hg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function r2(i,e,n){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let d=new ct(_e.comparator);d=d.insert(u,nn.newNoDocument(u,Re.min()));const m=Pe().add(u),g=new cd(Re.min(),new Map,new ct(Ve),d,m);await Yb(s,g),s.du=s.du.remove(u),s.Au.delete(e),fg(s)}else await fp(s.localStore,e,!1).then((()=>gp(s,e,n))).catch(Co)}async function s2(i,e){const n=Ie(i),s=e.batch.batchId;try{const o=await pD(n.localStore,e);Xb(n,s,null),$b(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Cu(n,o)}catch(o){await Co(o)}}async function a2(i,e,n){const s=Ie(i);try{const o=await(function(d,m){const g=Ie(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,m).next((w=>(Ke(w!==null,37113),T=w.keys(),g.mutationQueue.removeMutationBatch(y,w)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(s.localStore,e);Xb(s,e,n),$b(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Cu(s,o)}catch(o){await Co(o)}}function $b(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Xb(i,e,n){const s=Ie(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function gp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((s=>{i.Ru.containsKey(s)||Wb(i,s)}))}function Wb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(sg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),fg(i))}function mT(i,e,n){for(const s of n)s instanceof Gb?(i.Ru.addReference(s.key,e),o2(i,s)):s instanceof Qb?(me(dg,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Wb(i,s.key)):be(19791,{wu:s})}function o2(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(me(dg,"New document in limbo: "+n),i.Eu.add(s),fg(i))}function fg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new _e(rt.fromString(e)),s=i.fu.next();i.Au.set(s,new XD(n)),i.du=i.du.insert(n,s),Vb(i.remoteStore,new Yr(Si(Xp(n.path)),s,"TargetPurposeLimboResolution",nd.ce))}}async function Cu(i,e,n){const s=Ie(i),o=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,g)=>{d.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=ig.As(g.targetId,y);u.push(T)}})))})),await Promise.all(d),s.Pu.H_(o),await(async function(g,y){const T=Ie(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>ie.forEach(y,(A=>ie.forEach(A.Es,(C=>T.persistence.referenceDelegate.addReference(w,A.targetId,C))).next((()=>ie.forEach(A.ds,(C=>T.persistence.referenceDelegate.removeReference(w,A.targetId,C)))))))))}catch(w){if(!xo(w))throw w;me(rg,"Failed to update sequence numbers: "+w)}for(const w of y){const A=w.targetId;if(!w.fromCache){const C=T.Ms.get(A),U=C.snapshotVersion,K=C.withLastLimboFreeSnapshotVersion(U);T.Ms=T.Ms.insert(A,K)}}})(s.localStore,u))}async function l2(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){me(dg,"User change. New user:",e.toKey());const s=await Ob(n.localStore,e);n.currentUser=e,(function(u,d){u.mu.forEach((m=>{m.forEach((g=>{g.reject(new he(Z.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Cu(n,s.Ls)}}function u2(i,e){const n=Ie(i),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const d of u){const m=n.Tu.get(d);o=o.unionWith(m.view.nu)}return o}}function Zb(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Yb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r2.bind(null,e),e.Pu.H_=QD.bind(null,e.eventManager),e.Pu.yu=KD.bind(null,e.eventManager),e}function c2(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a2.bind(null,e),e}class Fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=hd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return mD(this.persistence,new hD,e.initialUser,this.serializer)}Cu(e){return new Db(ng.mi,this.serializer)}Du(e){return new TD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Fh.provider={build:()=>new Fh};class h2 extends Fh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ke(this.persistence.referenceDelegate instanceof qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new XN(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Db((s=>qh.mi(s,n)),this.serializer)}}class yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,this.syncEngine),await HD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new GD})()}createDatastore(e){const n=hd(e.databaseInfo.databaseId),s=(function(u){return new RD(u)})(e.databaseInfo);return(function(u,d,m,g){return new ND(u,d,m,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,d,m){return new OD(s,o,u,d,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>fT(this.syncEngine,n,0)),(function(){return oT.v()?new oT:new bD})())}createSyncEngine(e,n){return(function(o,u,d,m,g,y,T){const w=new WD(o,u,d,m,g,y);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Ie(n);me(sa,"RemoteStore shutting down."),s.Ea.add(5),await Iu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="FirestoreClient";class d2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=tn.UNAUTHENTICATED,this.clientId=Fp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{me(ss,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(me(ss,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=cg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function zm(i,e){i.asyncQueue.verifyOperationInProgress(),me(ss,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Ob(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function pT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await f2(i);me(ss,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((s=>uT(e.remoteStore,s))),i.setAppCheckTokenChangeListener(((s,o)=>uT(e.remoteStore,o))),i._onlineComponents=e}async function f2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(ss,"Using user provided OfflineComponentProvider");try{await zm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await zm(i,new Fh)}}else me(ss,"Using default OfflineComponentProvider"),await zm(i,new h2(void 0));return i._offlineComponents}async function eS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(ss,"Using user provided OnlineComponentProvider"),await pT(i,i._uninitializedComponentsProvider._online)):(me(ss,"Using default OnlineComponentProvider"),await pT(i,new yp))),i._onlineComponents}function m2(i){return eS(i).then((e=>e.syncEngine))}async function tS(i){const e=await eS(i),n=e.eventManager;return n.onListen=ZD.bind(null,e.syncEngine),n.onUnlisten=t2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=n2.bind(null,e.syncEngine),n}function p2(i,e,n={}){const s=new lr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,d,m,g,y){const T=new Jb({next:A=>{T.Nu(),d.enqueueAndForget((()=>Hb(u,w)));const C=A.docs.has(m);!C&&A.fromCache?y.reject(new he(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&A.fromCache&&g&&g.source==="server"?y.reject(new he(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new Fb(Xp(m.path),T,{includeMetadataChanges:!0,qa:!0});return qb(u,w)})(await tS(i),i.asyncQueue,e,n,s))),s.promise}function g2(i,e,n={}){const s=new lr;return i.asyncQueue.enqueueAndForget((async()=>(function(u,d,m,g,y){const T=new Jb({next:A=>{T.Nu(),d.enqueueAndForget((()=>Hb(u,w))),A.fromCache&&g.source==="server"?y.reject(new he(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),w=new Fb(m,T,{includeMetadataChanges:!0,qa:!0});return qb(u,w)})(await tS(i),i.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firestore.googleapis.com",yT=!0;class _T{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iS,this.ssl=yT}else this.host=e.host,this.ssl=e.ssl??yT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Nb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YN)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Dx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class md{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _T(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new Tx;switch(s.type){case"firstParty":return new Ax(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=gT.get(n);s&&(me("ComponentProvider","Removing Datastore"),gT.delete(n),s.terminate())})(this),Promise.resolve()}}function y2(i,e,n,s={}){i=Hn(i,md);const o=oa(e),u=i._getSettings(),d={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(Cp(`https://${m}`),xp("Firestore",!0)),u.host!==iS&&u.host!==m&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!ea(g,d)&&(i._setSettings(g),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=tn.MOCK_USER;else{y=XT(s.mockUserToken,i._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new tn(w)}i._authCredentials=new bx(new q0(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ha(this.firestore,e,this._query)}}class vt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vt(this.firestore,e,this._key)}toJSON(){return{type:vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wu(n,vt._jsonSchema))return new vt(e,s||null,new _e(rt.fromString(n.referencePath)))}}vt._jsonSchemaVersion="firestore/documentReference/1.0",vt._jsonSchema={type:It("string",vt._jsonSchemaVersion),referencePath:It("string")};class Zr extends ha{constructor(e,n,s){super(e,n,Xp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vt(this.firestore,null,new _e(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function yt(i,e,...n){if(i=Et(i),H0("collection","path",e),i instanceof md){const s=rt.fromString(e,...n);return DE(s),new Zr(i,null,s)}{if(!(i instanceof vt||i instanceof Zr))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return DE(s),new Zr(i.firestore,null,s)}}function en(i,e,...n){if(i=Et(i),arguments.length===1&&(e=Fp.newId()),H0("doc","path",e),i instanceof md){const s=rt.fromString(e,...n);return NE(s),new vt(i,null,new _e(s))}{if(!(i instanceof vt||i instanceof Zr))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return NE(s),new vt(i.firestore,i instanceof Zr?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="AsyncQueue";class ET{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kb(this,"async_queue_retry"),this._c=()=>{const s=Um();s&&me(vT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!xo(e))throw e;me(vT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",TT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ug.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:TT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class ds extends md{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new ET,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ET(e),this._firestoreClient=void 0,await e}}}function _2(i,e){const n=typeof i=="object"?i:Op(),s=typeof i=="string"?i:Ph,o=Wh(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=KT("firestore");u&&y2(o,...u)}return o}function pd(i){if(i._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||v2(i),i._firestoreClient}function v2(i){const e=i._freezeSettings(),n=(function(o,u,d,m){return new qx(o,u,d,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,nS(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new d2(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(Yt.fromBase64String(e))}catch(n){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zn(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:It("string",zn._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ai._jsonSchemaVersion}}static fromJSON(e){if(wu(e,Ai._jsonSchema))return new Ai(e.latitude,e.longitude)}}Ai._jsonSchemaVersion="firestore/geoPoint/1.0",Ai._jsonSchema={type:It("string",Ai._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,Ri._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Ri(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:It("string",Ri._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^__.*__$/;class T2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Au(e,this.data,n,this.fieldTransforms)}}class rS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new hs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function sS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:i})}}class mg{constructor(e,n,s,o,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(sS(this.Ac)&&E2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class b2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||hd(e)}Cc(e,n,s,o=!1){return new mg({Ac:e,methodName:n,Dc:s,path:Kt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nu(i){const e=i._freezeSettings(),n=hd(i._databaseId);return new b2(i._databaseId,!!e.ignoreUndefinedProperties,n)}function pg(i,e,n,s,o,u={}){const d=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);yg("Data must be an object, but it was:",d,s);const m=lS(s,d);let g,y;if(u.merge)g=new An(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const w of u.mergeFields){const A=_p(e,w,n);if(!d.contains(A))throw new he(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);cS(T,A)||T.push(A)}g=new An(T),y=d.fieldTransforms.filter((w=>g.covers(w.field)))}else g=null,y=d.fieldTransforms;return new T2(new pn(m),g,y)}class yd extends gd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yd}}class gg extends gd{_toFieldTransform(e){return new mN(e.path,new fu)}isEqual(e){return e instanceof gg}}function aS(i,e,n,s){const o=i.Cc(1,e,n);yg("Data must be an object, but it was:",o,s);const u=[],d=pn.empty();cs(s,((g,y)=>{const T=_g(e,g,n);y=Et(y);const w=o.yc(T);if(y instanceof yd)u.push(T);else{const A=Du(y,w);A!=null&&(u.push(T),d.set(T,A))}}));const m=new An(u);return new rS(d,m,o.fieldTransforms)}function oS(i,e,n,s,o,u){const d=i.Cc(1,e,n),m=[_p(e,s,n)],g=[o];if(u.length%2!=0)throw new he(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(_p(e,u[A])),g.push(u[A+1]);const y=[],T=pn.empty();for(let A=m.length-1;A>=0;--A)if(!cS(y,m[A])){const C=m[A];let U=g[A];U=Et(U);const K=d.yc(C);if(U instanceof yd)y.push(C);else{const z=Du(U,K);z!=null&&(y.push(C),T.set(C,z))}}const w=new An(y);return new rS(T,w,d.fieldTransforms)}function S2(i,e,n,s=!1){return Du(n,i.Cc(s?4:3,e))}function Du(i,e){if(uS(i=Et(i)))return yg("Unsupported field value:",e,i),lS(i,e);if(i instanceof gd)return(function(s,o){if(!sS(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let d=0;for(const m of s){let g=Du(m,o.wc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}})(i,e)}return(function(s,o){if((s=Et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return hN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:Bh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Bh(o.serializer,u)}}if(s instanceof Ai)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:Sb(o.serializer,s._byteString)};if(s instanceof vt){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:eg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Ri)return(function(d,m){return{mapValue:{fields:{[Z0]:{stringValue:J0},[Lh]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return Wp(m.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${td(s)}`)})(i,e)}function lS(i,e){const n={};return Q0(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cs(i,((s,o)=>{const u=Du(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function uS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof Ai||i instanceof zn||i instanceof vt||i instanceof gd||i instanceof Ri)}function yg(i,e,n){if(!uS(n)||!F0(n)){const s=td(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function _p(i,e,n){if((e=Et(e))instanceof xu)return e._internalPath;if(typeof e=="string")return _g(i,e);throw Gh("Field path arguments must be of type string or ",i,!1,void 0,n)}const w2=new RegExp("[~\\*/\\[\\]]");function _g(i,e,n){if(e.search(w2)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new xu(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Gh(i,e,n,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new he(Z.INVALID_ARGUMENT,m+i+g)}function cS(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new A2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_d("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class A2 extends hS{data(){return super.data()}}function _d(i,e){return typeof e=="string"?_g(i,e):e instanceof xu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vg{}class dS extends vg{}function Un(i,e,...n){let s=[];e instanceof vg&&s.push(e),s=s.concat(n),(function(u){const d=u.filter((g=>g instanceof Eg)).length,m=u.filter((g=>g instanceof vd)).length;if(d>1||d>0&&m>0)throw new he(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)i=o._apply(i);return i}class vd extends dS{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new vd(e,n,s)}_apply(e){const n=this._parse(e);return fS(e._query,n),new ha(e.firestore,e.converter,op(e._query,n))}_parse(e){const n=Nu(e.firestore);return(function(u,d,m,g,y,T,w){let A;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new he(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){ST(w,T);const U=[];for(const K of w)U.push(bT(g,u,K));A={arrayValue:{values:U}}}else A=bT(g,u,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||ST(w,T),A=S2(m,d,w,T==="in"||T==="not-in");return Rt.create(y,T,A)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Xn(i,e,n){const s=e,o=_d("where",i);return vd._create(o,s,n)}class Eg extends vg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Eg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ei.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let d=o;const m=u.getFlattenedFilters();for(const g of m)fS(d,g),d=op(d,g)})(e._query,n),new ha(e.firestore,e.converter,op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Tg extends dS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Tg(e,n)}_apply(e){const n=(function(o,u,d){if(o.startAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new du(u,d)})(e._query,this._field,this._direction);return new ha(e.firestore,e.converter,(function(o,u){const d=o.explicitOrderBy.concat([u]);return new No(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function ro(i,e="asc"){const n=e,s=_d("orderBy",i);return Tg._create(s,n)}function bT(i,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new he(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ob(e)&&n.indexOf("/")!==-1)throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!_e.isDocumentKey(s))throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return UE(i,new _e(s))}if(n instanceof vt)return UE(i,n._key);throw new he(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(n)}.`)}function ST(i,e){if(!Array.isArray(i)||i.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fS(i,e){const n=(function(o,u){for(const d of o)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class I2{convertValue(e,n="none"){switch(is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return cs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Lh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new Ri(n)}convertGeoPoint(e){return new Ai(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=rd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const n=ts(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ke(xb(s),9688,{name:e});const o=new cu(s.get(1),s.get(3)),u=new _e(s.popFirst(5));return o.isEqual(n)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(i,e,n){let s;return s=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,s}class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Js extends hS{constructor(e,n,s,o,u,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(_d("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Js._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Js._jsonSchemaVersion="firestore/documentSnapshot/1.0",Js._jsonSchema={type:It("string",Js._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class Rh extends Js{data(e={}){return super.data(e)}}class yo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Rh(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((m=>{const g=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const g=new Rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),T=d.indexOf(m.doc.key)),{type:C2(m.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Fp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function C2(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(i){i=Hn(i,vt);const e=Hn(i.firestore,ds);return p2(pd(e),i._key).then((n=>N2(e,i,n)))}yo._jsonSchemaVersion="firestore/querySnapshot/1.0",yo._jsonSchema={type:It("string",yo._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class pS extends I2{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vt(this.firestore,null,n)}}function Jt(i){i=Hn(i,ha);const e=Hn(i.firestore,ds),n=pd(e),s=new pS(e);return R2(i._query),g2(n,i._query).then((o=>new yo(e,s,i,o)))}function x2(i,e,n){i=Hn(i,vt);const s=Hn(i.firestore,ds),o=bg(i.converter,e,n);return Ou(s,[pg(Nu(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,un.none())])}function hh(i,e,n,...s){i=Hn(i,vt);const o=Hn(i.firestore,ds),u=Nu(o);let d;return d=typeof(e=Et(e))=="string"||e instanceof xu?oS(u,"updateDoc",i._key,e,n,s):aS(u,"updateDoc",i._key,e),Ou(o,[d.toMutation(i._key,un.exists(!0))])}function Hl(i){return Ou(Hn(i.firestore,ds),[new ud(i._key,un.none())])}function Fl(i,e){const n=Hn(i.firestore,ds),s=en(i),o=bg(i.converter,e);return Ou(n,[pg(Nu(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,un.exists(!1))]).then((()=>s))}function Ou(i,e){return(function(s,o){const u=new lr;return s.asyncQueue.enqueueAndForget((async()=>i2(await m2(s),o,u))),u.promise})(pd(i),e)}function N2(i,e,n){const s=n.docs.get(e._key),o=new pS(i);return new Js(i,o,e._key,s,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Nu(e)}set(e,n,s){this._verifyNotCommitted();const o=Bm(e,this._firestore),u=bg(o.converter,n,s),d=pg(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(d.toMutation(o._key,un.none())),this}update(e,n,s,...o){this._verifyNotCommitted();const u=Bm(e,this._firestore);let d;return d=typeof(n=Et(n))=="string"||n instanceof xu?oS(this._dataReader,"WriteBatch.update",u._key,n,s,o):aS(this._dataReader,"WriteBatch.update",u._key,n),this._mutations.push(d.toMutation(u._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Bm(e,this._firestore);return this._mutations=this._mutations.concat(new ud(n._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new he(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Bm(i,e){if((i=Et(i)).firestore!==e)throw new he(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function ho(){return new gg("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(i){return pd(i=Hn(i,ds)),new D2(i,(e=>Ou(i,e)))}(function(e,n=!0){(function(o){Io=o})(la),ta(new Jr("firestore",((s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),m=new ds(new Sx(s.getProvider("auth-internal")),new Rx(d,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(y.options.projectId,T)})(d,o),d);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Ti(RE,IE,e),Ti(RE,IE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebasestorage.googleapis.com",O2="storageBucket",M2=120*1e3,k2=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends xi{constructor(e,n,s=0){super(Hm(e),`Firebase Storage: ${n} (${Hm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ni.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ci;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ci||(Ci={}));function Hm(i){return"storage/"+i}function j2(){const i="An unknown error occurred, please check the error payload for server response.";return new Ni(Ci.UNKNOWN,i)}function V2(){return new Ni(Ci.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function P2(){return new Ni(Ci.CANCELED,"User canceled the upload/download.")}function L2(i){return new Ni(Ci.INVALID_URL,"Invalid URL '"+i+"'.")}function U2(i){return new Ni(Ci.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function wT(i){return new Ni(Ci.INVALID_ARGUMENT,i)}function yS(){return new Ni(Ci.APP_DELETED,"The Firebase app was deleted.")}function z2(i){return new Ni(Ci.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=Zn.makeFromUrl(e,n)}catch{return new Zn(e,"")}if(s.path==="")return s;throw U2(e)}static makeFromUrl(e,n){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(fe){fe.path.charAt(fe.path.length-1)==="/"&&(fe.path_=fe.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+o+d,"i"),g={bucket:1,path:3};function y(fe){fe.path_=decodeURIComponent(fe.path)}const T="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),A="(/([^?#]*).*)?$",C=new RegExp(`^https?://${w}/${T}/b/${o}/o${A}`,"i"),U={bucket:1,path:3},K=n===gS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,z="([^?#]*)",G=new RegExp(`^https?://${K}/${o}/${z}`,"i"),ee=[{regex:m,indices:g,postModify:u},{regex:C,indices:U,postModify:y},{regex:G,indices:{bucket:1,path:2},postModify:y}];for(let fe=0;fe<ee.length;fe++){const oe=ee[fe],te=oe.regex.exec(e);if(te){const x=te[oe.indices.bucket];let R=te[oe.indices.path];R||(R=""),s=new Zn(x,R),oe.postModify(s);break}}if(s==null)throw L2(e);return s}}class B2{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(i,e,n){let s=1,o=null,u=null,d=!1,m=0;function g(){return m===2}let y=!1;function T(...z){y||(y=!0,e.apply(null,z))}function w(z){o=setTimeout(()=>{o=null,i(C,g())},z)}function A(){u&&clearTimeout(u)}function C(z,...G){if(y){A();return}if(z){A(),T.call(null,z,...G);return}if(g()||d){A(),T.call(null,z,...G);return}s<64&&(s*=2);let ee;m===1?(m=2,ee=0):ee=(s+Math.random())*1e3,w(ee)}let U=!1;function K(z){U||(U=!0,A(),!y&&(o!==null?(z||(m=2),clearTimeout(o),w(0)):z||(m=1)))}return w(0),u=setTimeout(()=>{d=!0,K(!0)},n),K}function H2(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(i){return i!==void 0}function AT(i,e,n,s){if(s<e)throw wT(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>n)throw wT(`Invalid value for '${i}'. Expected ${n} or less.`)}function G2(i){const e=encodeURIComponent;let n="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);n=n+o+"&"}return n=n.slice(0,-1),n}var Qh;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Qh||(Qh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,s,o,u,d,m,g,y,T,w,A=!0,C=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=w,this.retry=A,this.isUsingEmulator=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,K)=>{this.resolve_=U,this.reject_=K,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new dh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const m=u.getErrorCode()===Qh.NO_ERROR,g=u.getStatus();if(!m||Q2(g,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Qh.ABORT;s(!1,new dh(!1,null,T));return}const y=this.successCodes_.indexOf(g)!==-1;s(!0,new dh(y,u))})},n=(s,o)=>{const u=this.resolve_,d=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());F2(g)?u(g):u()}catch(g){d(g)}else if(m!==null){const g=j2();g.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,g)):d(g)}else if(o.canceled){const g=this.appDelete_?yS():P2();d(g)}else{const g=V2();d(g)}};this.canceled_?n(!1,new dh(!1,null,!0)):this.backoffId_=q2(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&H2(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dh{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function Y2(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function $2(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function X2(i,e){e&&(i["X-Firebase-GMPID"]=e)}function W2(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function Z2(i,e,n,s,o,u,d=!0,m=!1){const g=G2(i.urlParams),y=i.url+g,T=Object.assign({},i.headers);return X2(T,e),Y2(T,n),$2(T,u),W2(T,s),new K2(y,i.method,T,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,d,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function eO(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e,n){this._service=e,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Kh(e,n)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eO(this._location.path)}get storage(){return this._service}get parent(){const e=J2(this._location.path);if(e===null)return null;const n=new Zn(this._location.bucket,e);return new Kh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw z2(e)}}function RT(i,e){const n=e?.[O2];return n==null?null:Zn.makeFromBucketSpec(n,i)}function tO(i,e,n,s={}){i.host=`${e}:${n}`;const o=oa(e);o&&(Cp(`https://${i.host}/b`),xp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:XT(u,i.app.options.projectId))}class nO{constructor(e,n,s,o,u,d=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=gS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=M2,this._maxUploadRetryTime=k2,this._requests=new Set,o!=null?this._bucket=Zn.makeFromBucketSpec(o,this._host):this._bucket=RT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=RT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Kh(this,e)}_makeRequest(e,n,s,o,u=!0){if(this._deleted)return new B2(yS());{const d=Z2(e,this._appId,s,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,n){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,o).getPromise()}}const IT="@firebase/storage",CT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="storage";function iO(i=Op(),e){i=Et(i);const s=Wh(i,_S).getImmediate({identifier:e}),o=KT("storage");return o&&rO(s,...o),s}function rO(i,e,n,s={}){tO(i,e,n,s)}function sO(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new nO(n,s,o,e,la)}function aO(){ta(new Jr(_S,sO,"PUBLIC").setMultipleInstances(!0)),Ti(IT,CT,""),Ti(IT,CT,"esm2020")}aO();const oO={apiKey:"AIzaSyBRaHhg2CmvUBtg_UC3OHB6G2Bm4fDUifQ",authDomain:"kelazgraphicdesigner.firebaseapp.com",projectId:"kelazgraphicdesigner",storageBucket:"kelazgraphicdesigner.firebasestorage.app",messagingSenderId:"568241737996",appId:"1:568241737996:web:efa6fef6c268aa29b03929"},Sg=JT(oO),uo=yx(Sg),lO=new ir,Ne=_2(Sg);iO(Sg);const co={getUserRole(i){return i==="josefhimanuel123@gmail.com"?"teacher":"student"},async registerWithEmail(i,e,n,s){try{const u=(await tC(uo,i,e)).user,d=s||this.getUserRole(i);return await this.saveUserToFirestore(u.uid,{name:n,email:u.email||i,role:d,createdAt:ho()}),u}catch(o){throw console.error("Registration error:",o),o}},async loginWithEmail(i,e){try{const s=(await nC(uo,i,e)).user,o=await this.getUserFromFirestore(s.uid);return o&&i==="josefhimanuel123@gmail.com"&&o.role!=="teacher"&&(console.log("Updating existing user role to teacher"),await this.updateUserRole(s.uid,"teacher")),s}catch(n){throw console.error("Login error:",n),n}},async loginWithGoogle(){try{const e=(await RC(uo,lO)).user,n=await this.getUserFromFirestore(e.uid);if(n)e.email==="josefhimanuel123@gmail.com"&&n.role!=="teacher"&&(console.log("Updating existing Google user role to teacher"),await this.updateUserRole(e.uid,"teacher"));else{const s=this.getUserRole(e.email||"");await this.saveUserToFirestore(e.uid,{name:e.displayName||"Unknown",email:e.email||"",role:s,createdAt:ho()})}return e}catch(i){throw console.error("Google login error:",i),i}},async logout(){try{await aC(uo)}catch(i){throw console.error("Logout error:",i),i}},async saveUserToFirestore(i,e){try{await x2(en(Ne,"users",i),e)}catch(n){throw console.error("Error saving user to Firestore:",n),n}},async getUserFromFirestore(i){try{const e=await mS(en(Ne,"users",i));if(e.exists()){const n=e.data();if(n.email==="josefhimanuel123@gmail.com"&&n.role!=="teacher"){console.log("Updating role to teacher for:",n.email);const s={...n,role:"teacher"};return await this.saveUserToFirestore(i,s),s}return n}return null}catch(e){throw console.error("Error getting user from Firestore:",e),e}},async updateUserRole(i,e){try{const n=await this.getUserFromFirestore(i);if(n){const s={...n,role:e};await this.saveUserToFirestore(i,s)}}catch(n){throw console.error("Error updating user role:",n),n}},getCurrentUser(){return uo.currentUser}},Mu=()=>{const[i,e]=P.useState({user:null,userDoc:null,loading:!0,error:null});return P.useEffect(()=>{const d=sC(uo,async m=>{e(g=>({...g,loading:!0,error:null}));try{if(m){const g=await co.getUserFromFirestore(m.uid);e({user:m,userDoc:g,loading:!1,error:null})}else e({user:null,userDoc:null,loading:!1,error:null})}catch(g){e(y=>({...y,loading:!1,error:g instanceof Error?g.message:"Unknown error occurred"}))}});return()=>d()},[]),{...i,login:async(d,m)=>{e(g=>({...g,loading:!0,error:null}));try{await co.loginWithEmail(d,m)}catch(g){throw e(y=>({...y,loading:!1,error:g instanceof Error?g.message:"Login failed"})),g}},loginWithGoogle:async()=>{e(d=>({...d,loading:!0,error:null}));try{await co.loginWithGoogle()}catch(d){throw e(m=>({...m,loading:!1,error:d instanceof Error?d.message:"Google login failed"})),d}},register:async(d,m,g)=>{e(y=>({...y,loading:!0,error:null}));try{await co.registerWithEmail(d,m,g)}catch(y){throw e(T=>({...T,loading:!1,error:y instanceof Error?y.message:"Registration failed"})),y}},logout:async()=>{e(d=>({...d,loading:!0,error:null}));try{await co.logout()}catch(d){throw e(m=>({...m,loading:!1,error:d instanceof Error?d.message:"Logout failed"})),d}},isAuthenticated:!!i.user,isTeacher:i.userDoc?.role==="teacher",isStudent:i.userDoc?.role==="student"}},uO=({onLoginClick:i})=>{const[e,n]=P.useState("home");return p.jsxs("div",{className:"home-page",children:[p.jsx("header",{className:"header",children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"logo",children:[p.jsx("h2",{children:"Kelaz"}),p.jsx("span",{children:"Graphic Design Online Class"})]}),p.jsx("nav",{className:"nav",children:p.jsxs("ul",{children:[p.jsx("li",{children:p.jsx("a",{href:"#home",className:e==="home"?"active":"",onClick:()=>n("home"),children:"Home"})}),p.jsx("li",{children:p.jsx("a",{href:"#courses",className:e==="courses"?"active":"",onClick:()=>n("courses"),children:"Courses"})}),p.jsx("li",{children:p.jsx("a",{href:"#about",className:e==="about"?"active":"",onClick:()=>n("about"),children:"About"})}),p.jsx("li",{children:p.jsx("a",{href:"#contact",className:e==="contact"?"active":"",onClick:()=>n("contact"),children:"Contact"})}),p.jsx("li",{children:p.jsx("button",{className:"btn-login",onClick:i,children:"Login"})})]})})]})}),p.jsx("section",{className:"hero",children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"hero-content",children:[p.jsx("h1",{children:"Learn Graphic Design Online"}),p.jsx("p",{children:"Join our free online graphic design class. Master the fundamentals of design with interactive lessons, quizzes, and hands-on projects."}),p.jsxs("div",{className:"hero-stats",children:[p.jsxs("div",{className:"stat",children:[p.jsx("h3",{children:"3"}),p.jsx("p",{children:"Active Students"})]}),p.jsxs("div",{className:"stat",children:[p.jsx("h3",{children:"Free"}),p.jsx("p",{children:"100% Free Course"})]}),p.jsxs("div",{className:"stat",children:[p.jsx("h3",{children:"Online"}),p.jsx("p",{children:"Learn Anywhere"})]})]}),p.jsxs("div",{className:"hero-buttons",children:[p.jsx("button",{className:"btn-primary",onClick:i,children:"Start Learning"}),p.jsx("button",{className:"btn-secondary",children:"View Curriculum"})]})]}),p.jsx("div",{className:"hero-image",children:p.jsxs("div",{className:"design-placeholder",children:[p.jsx("div",{className:"design-element element-1",children:""}),p.jsx("div",{className:"design-element element-2",children:""}),p.jsx("div",{className:"design-element element-3",children:""}),p.jsx("div",{className:"design-element element-4",children:""})]})})]})}),p.jsx("section",{className:"features",children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{children:"Why Choose Our Online Class?"}),p.jsxs("div",{className:"features-grid",children:[p.jsxs("div",{className:"feature-card",children:[p.jsx("div",{className:"feature-icon",children:""}),p.jsx("h3",{children:"Interactive Lessons"}),p.jsx("p",{children:"Learn through engaging content with text, images, and video materials."})]}),p.jsxs("div",{className:"feature-card",children:[p.jsx("div",{className:"feature-icon",children:""}),p.jsx("h3",{children:"Quiz & Assessment"}),p.jsx("p",{children:"Test your knowledge with multiple-choice quizzes and track your progress."})]}),p.jsxs("div",{className:"feature-card",children:[p.jsx("div",{className:"feature-icon",children:""}),p.jsx("h3",{children:"Small Group Learning"}),p.jsx("p",{children:"Personal attention with only 3 students per class for better guidance."})]}),p.jsxs("div",{className:"feature-card",children:[p.jsx("div",{className:"feature-icon",children:""}),p.jsx("h3",{children:"Progress Tracking"}),p.jsx("p",{children:"Monitor your learning journey and see your improvement over time."})]})]})]})}),p.jsx("section",{className:"modules",children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{children:"Course Modules"}),p.jsxs("div",{className:"modules-list",children:[p.jsxs("div",{className:"module-card",children:[p.jsx("div",{className:"module-number",children:"01"}),p.jsxs("div",{className:"module-content",children:[p.jsx("h3",{children:"Design Fundamentals"}),p.jsx("p",{children:"Learn the basic principles of design including color theory, typography, and composition."}),p.jsxs("div",{className:"module-meta",children:[p.jsx("span",{children:"5 Lessons"}),p.jsx("span",{children:"2 Quizzes"})]})]})]}),p.jsxs("div",{className:"module-card",children:[p.jsx("div",{className:"module-number",children:"02"}),p.jsxs("div",{className:"module-content",children:[p.jsx("h3",{children:"Logo Design"}),p.jsx("p",{children:"Create memorable logos and understand brand identity development."}),p.jsxs("div",{className:"module-meta",children:[p.jsx("span",{children:"6 Lessons"}),p.jsx("span",{children:"3 Quizzes"})]})]})]}),p.jsxs("div",{className:"module-card",children:[p.jsx("div",{className:"module-number",children:"03"}),p.jsxs("div",{className:"module-content",children:[p.jsx("h3",{children:"Digital Design Tools"}),p.jsx("p",{children:"Master popular design software and digital design techniques."}),p.jsxs("div",{className:"module-meta",children:[p.jsx("span",{children:"8 Lessons"}),p.jsx("span",{children:"4 Quizzes"})]})]})]})]})]})}),p.jsx("section",{className:"cta",children:p.jsxs("div",{className:"container",children:[p.jsx("h2",{children:"Ready to Start Your Design Journey?"}),p.jsx("p",{children:"Join our free online graphic design class today and unlock your creative potential."}),p.jsx("button",{className:"btn-primary btn-large",onClick:i,children:"Get Started Now"})]})}),p.jsx("footer",{className:"footer",children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"footer-content",children:[p.jsxs("div",{className:"footer-section",children:[p.jsx("h3",{children:"Kelaz Graphic Design"}),p.jsx("p",{children:"Free online graphic design education for everyone."})]}),p.jsxs("div",{className:"footer-section",children:[p.jsx("h4",{children:"Quick Links"}),p.jsxs("ul",{children:[p.jsx("li",{children:p.jsx("a",{href:"#courses",children:"Courses"})}),p.jsx("li",{children:p.jsx("a",{href:"#about",children:"About"})}),p.jsx("li",{children:p.jsx("a",{href:"#contact",children:"Contact"})}),p.jsx("li",{children:p.jsx("button",{onClick:i,className:"footer-link",children:"Login"})})]})]}),p.jsxs("div",{className:"footer-section",children:[p.jsx("h4",{children:"Platform Info"}),p.jsx("p",{children:"Built with React + TypeScript"}),p.jsx("p",{children:"Powered by Firebase"}),p.jsx("p",{children:"Hosted on GitHub Pages"})]})]}),p.jsx("div",{className:"footer-bottom",children:p.jsx("p",{children:" 2025 Kelaz Graphic Design Online Class. Free for everyone."})})]})})]})},cO=()=>{const[i,e]=P.useState(!0),[n,s]=P.useState({email:"",password:"",name:"",confirmPassword:""}),[o,u]=P.useState(""),{login:d,register:m,loginWithGoogle:g,loading:y}=Mu(),T=K=>{const{name:z,value:G}=K.target;s(se=>({...se,[z]:G})),o&&u("")},w=()=>{if(!n.email||!n.password)return u("Email and password are required"),!1;if(!i){if(!n.name)return u("Name is required"),!1;if(n.password.length<6)return u("Password must be at least 6 characters"),!1;if(n.password!==n.confirmPassword)return u("Passwords do not match"),!1}return!0},A=async K=>{if(K.preventDefault(),u(""),!!w())try{i?await d(n.email,n.password):await m(n.email,n.password,n.name)}catch(z){u(z instanceof Error?z.message:"An error occurred")}},C=async()=>{u("");try{await g()}catch(K){u(K instanceof Error?K.message:"Google login failed")}},U=()=>{e(!i),s({email:"",password:"",name:"",confirmPassword:""}),u("")};return p.jsx("div",{className:"auth-page",children:p.jsxs("div",{className:"auth-container",children:[p.jsxs("div",{className:"auth-header",children:[p.jsx("h1",{children:"Kelaz Graphic Design"}),p.jsx("p",{children:"Online Learning Platform"})]}),p.jsxs("div",{className:"auth-card",children:[p.jsxs("div",{className:"auth-tabs",children:[p.jsx("button",{className:`tab ${i?"active":""}`,onClick:()=>e(!0),type:"button",children:"Login"}),p.jsx("button",{className:`tab ${i?"":"active"}`,onClick:()=>e(!1),type:"button",children:"Register"})]}),p.jsxs("form",{onSubmit:A,className:"auth-form",children:[!i&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"name",children:"Full Name"}),p.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:T,placeholder:"Enter your full name",required:!i})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"email",children:"Email Address"}),p.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:T,placeholder:"Enter your email",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"password",children:"Password"}),p.jsx("input",{type:"password",id:"password",name:"password",value:n.password,onChange:T,placeholder:"Enter your password",required:!0})]}),!i&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),p.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:T,placeholder:"Confirm your password",required:!i})]}),o&&p.jsx("div",{className:"error-message",children:o}),p.jsx("button",{type:"submit",className:"btn-primary btn-full",disabled:y,children:y?"Please wait...":i?"Login":"Create Account"})]}),p.jsx("div",{className:"auth-divider",children:p.jsx("span",{children:"or"})}),p.jsxs("button",{type:"button",onClick:C,className:"btn-google",disabled:y,children:[p.jsx("span",{className:"google-icon",children:""}),"Continue with Google"]}),p.jsxs("div",{className:"auth-footer",children:[p.jsxs("p",{children:[i?"Don't have an account? ":"Already have an account? ",p.jsx("button",{type:"button",onClick:U,className:"link-button",children:i?"Sign up":"Sign in"})]}),p.jsxs("div",{className:"role-info",children:[p.jsx("p",{children:" Join our free graphic design online class"}),p.jsx("p",{children:" Start learning with interactive lessons and quizzes"})]})]})]})]})})},Ue={async getModules(){try{const i=yt(Ne,"modules"),e=Un(i,ro("createdAt","desc"));let s=(await Jt(e)).docs.map(o=>({id:o.id,...o.data()}));return s.sort((o,u)=>(o.order||999)-(u.order||999)),s}catch(i){throw console.error("Error getting modules:",i),i}},async createModule(i){try{return(await Fl(yt(Ne,"modules"),{...i,createdAt:ho()})).id}catch(e){throw console.error("Error creating module:",e),e}},async updateModule(i,e){try{await hh(en(Ne,"modules",i),e)}catch(n){throw console.error("Error updating module:",n),n}},async deleteModule(i){try{const e=await Jt(yt(Ne,"modules",i,"lessons"));if(!e.empty){const n=qm(Ne);e.forEach(s=>{n.delete(en(Ne,"modules",i,"lessons",s.id))}),await n.commit()}await Hl(en(Ne,"modules",i))}catch(e){throw console.error("Error deleting module:",e),e}},async getModuleWithLessons(i){try{const e=await mS(en(Ne,"modules",i));if(!e.exists())return null;const n={id:e.id,...e.data()},s=await this.getLessons(i);return{...n,lessons:s}}catch(e){throw console.error("Error getting module with lessons:",e),e}},async getLessons(i){try{const e=yt(Ne,"modules",i,"lessons"),n=Un(e,ro("createdAt","desc"));let o=(await Jt(n)).docs.map(u=>({id:u.id,...u.data()}));return o.sort((u,d)=>(u.order||999)-(d.order||999)),o}catch(e){throw console.error("Error getting lessons:",e),e}},async getAllLessons(){try{const i=await this.getModules(),e=[];for(const n of i){const s=await this.getLessons(n.id);e.push(...s)}return e}catch(i){return console.error("Error getting all lessons:",i),[]}},async getAllLessonsCount(){try{const i=await this.getModules();let e=0;for(const n of i){const s=await this.getLessons(n.id);e+=s.length}return e}catch(i){return console.error("Error getting lessons count:",i),0}},async createLesson(i,e){try{const n=yt(Ne,"modules",i,"lessons");return(await Fl(n,{...e,createdAt:ho()})).id}catch(n){throw console.error("Error creating lesson:",n),n}},async updateLesson(i,e,n){try{await hh(en(Ne,"modules",i,"lessons",e),n)}catch(s){throw console.error("Error updating lesson:",s),s}},async deleteLesson(i,e){try{await Hl(en(Ne,"modules",i,"lessons",e))}catch(n){throw console.error("Error deleting lesson:",n),n}},async getQuizzes(i){try{const e=yt(Ne,"quizzes");let n;return i?n=Un(e,Xn("moduleId","==",i),ro("createdAt","desc")):n=Un(e,ro("createdAt","desc")),(await Jt(n)).docs.map(o=>({id:o.id,...o.data()}))}catch(e){return console.error("Error getting quizzes:",e),[]}},async createQuiz(i){try{return(await Fl(yt(Ne,"quizzes"),{...i,createdAt:ho()})).id}catch(e){throw console.error("Error creating quiz:",e),e}},async addQuestionToQuiz(i,e){try{const n=yt(Ne,"quizzes",i,"questions");return(await Fl(n,{...e,order:1})).id}catch(n){throw console.error("Error adding question to quiz:",n),n}},async updateQuiz(i,e){try{await hh(en(Ne,"quizzes",i),e)}catch(n){throw console.error("Error updating quiz:",n),n}},async deleteQuiz(i){try{const e=await Jt(yt(Ne,"quizzes",i,"questions"));if(!e.empty){const o=qm(Ne);e.forEach(u=>{o.delete(en(Ne,"quizzes",i,"questions",u.id))}),await o.commit()}const n=yt(Ne,"answers"),s=await Jt(Un(n,Xn("quizId","==",i)));if(!s.empty){const o=qm(Ne);s.forEach(u=>o.delete(en(Ne,"answers",u.id))),await o.commit()}await Hl(en(Ne,"quizzes",i))}catch(e){throw console.error("Error deleting quiz:",e),e}},async getQuestions(i){try{const e=yt(Ne,"quizzes",i,"questions"),s=(await Jt(e)).docs.map(o=>({id:o.id,...o.data()}));return s.sort((o,u)=>(o.order??999)-(u.order??999)),s}catch(e){return console.error("Error getting questions:",e),[]}},async getAnswersByUser(i,e){try{const n=yt(Ne,"answers");let s;return e?s=Un(n,Xn("userId","==",i),Xn("quizId","==",e),ro("answeredAt","desc")):s=Un(n,Xn("userId","==",i),ro("answeredAt","desc")),(await Jt(s)).docs.map(u=>({id:u.id,...u.data()}))}catch(n){return console.error("Error getting answers:",n),[]}},async getUserProgress(i,e){try{const n=yt(Ne,"progress");let s;return e?s=Un(n,Xn("userId","==",i),Xn("moduleId","==",e)):s=Un(n,Xn("userId","==",i)),(await Jt(s)).docs.map(u=>({id:u.id,...u.data()}))}catch(n){return console.error("Error getting user progress:",n),[]}},async getEnrollmentsByUser(i){try{const e=yt(Ne,"enrollments");return(await Jt(Un(e,Xn("userId","==",i)))).docs.map(s=>({id:s.id,...s.data()}))}catch(e){return console.error("Error getting enrollments:",e),[]}},async enrollUserToModule(i,e){try{return(await Fl(yt(Ne,"enrollments"),{userId:i,moduleId:e,enrolledAt:ho()})).id}catch(n){throw console.error("Error creating enrollment:",n),n}},async unenrollUser(i){try{await Hl(en(Ne,"enrollments",i))}catch(e){throw console.error("Error deleting enrollment:",e),e}},async getStudentCount(){try{const i=yt(Ne,"users"),e=Un(i,Xn("role","==","student"));return(await Jt(e)).size}catch(i){return console.error("Error getting student count:",i),0}},async updateUser(i,e){try{await hh(en(Ne,"users",i),e)}catch(n){throw console.error("Error updating user:",n),n}},async deleteUser(i){try{await Hl(en(Ne,"users",i))}catch(e){throw console.error("Error deleting user:",e),e}},async getStudents(){try{const i=yt(Ne,"users"),e=Un(i,Xn("role","==","student"));return(await Jt(e)).docs.map(s=>({id:s.id,...s.data()}))}catch(i){return console.error("Error getting students:",i),[]}},async getAnalytics(){try{const[i,e,n,s]=await Promise.all([this.getStudentCount(),this.getTotalQuizzes(),this.getCompletedQuizzes(),this.getAverageQuizScore()]),o=await this.getTotalSubmissions(),u=i>0?n/i*100:0;return{totalStudents:i,totalQuizzes:e,totalSubmissions:o,completedQuizzes:n,avgScore:s,completionRate:u}}catch(i){return console.error("Error getting analytics:",i),{totalStudents:0,totalQuizzes:0,totalSubmissions:0,completedQuizzes:0,avgScore:0,completionRate:0}}},async getTotalQuizzes(){try{const i=yt(Ne,"quizzes");return(await Jt(i)).size}catch(i){return console.error("Error getting total quizzes:",i),0}},async getTotalSubmissions(){try{const i=yt(Ne,"answers");return(await Jt(i)).size}catch(i){return console.error("Error getting total submissions:",i),0}},async getCompletedQuizzes(){try{const i=yt(Ne,"answers"),e=await Jt(i),n=new Set;return e.forEach(s=>{const o=s.data();n.add(`${o.userId}-${o.quizId}`)}),n.size}catch(i){return console.error("Error getting completed quizzes count:",i),0}},async getAverageQuizScore(){try{const i=yt(Ne,"answers"),e=await Jt(i);if(e.empty)return 0;const n={};e.forEach(o=>{const u=o.data(),d=`${u.userId}-${u.quizId}`;n[d]||(n[d]={correct:0,total:0}),n[d].total++,u.isCorrect&&n[d].correct++});const s=Object.values(n).map(o=>o.total>0?o.correct/o.total*100:0);return s.length>0?s.reduce((o,u)=>o+u,0)/s.length:0}catch(i){return console.error("Error getting average quiz score:",i),0}},async createSampleData(i){try{console.log("Creating sample data...");const e=await this.createModule({title:"Dasar-dasar Desain",description:"Pelajari prinsip-prinsip dasar desain grafis termasuk teori warna, tipografi, dan komposisi.",createdBy:i,order:1}),n=await this.createModule({title:"Tipografi & Tata Letak",description:"Kuasai seni tipografi dan buat tata letak menakjub untuk berbagai media.",createdBy:i,order:2}),s=await this.createModule({title:"Tools Desain Digital",description:"Kuasai software desain populer dan teknik desain digital.",createdBy:i,order:3});await this.createLesson(e,{title:"Pengenalan Prinsip Desain",content:"Selamat datang di dunia desain grafis! Dalam materi ini, kita akan menjelajahi prinsip-prinsip dasar yang memandu semua desain yang baik.",order:1}),await this.createLesson(e,{title:"Dasar-dasar Teori Warna",content:"Memahami hubungan warna, roda warna, dan cara membuat palet warna yang efektif untuk desain Anda.",order:2}),await this.createLesson(n,{title:"Dasar Tipografi",content:"Pelajari tentang berbagai jenis font, spasi, hierarki, dan bagaimana tipografi mempengaruhi keterbacaan dan suasana.",order:1}),await this.createLesson(n,{title:"Tata Letak dan Komposisi",content:"Kuasai sistem grid, ruang kosong, dan keseimbangan visual untuk menciptakan tata letak yang menarik.",order:2}),await this.createLesson(s,{title:"Tinjauan Tools Desain Digital",content:"Pelajari tentang software desain paling populer dan cara memilih tools yang tepat untuk proyek Anda.",order:1});const o=await this.createQuiz({moduleId:e,title:"Kuis Prinsip Desain",createdBy:i,timeLimitSec:600}),u=await this.createQuiz({moduleId:e,title:"Kuis Teori Warna",createdBy:i,timeLimitSec:480});console.log("Sample data created successfully!"),console.log("Created modules:",e,n,s),console.log("Created quizzes:",o,u)}catch(e){throw console.error("Error creating sample data:",e),e}}},hO=()=>{const[i,e]=P.useState({students:[],modules:[],totalLessons:0,analytics:{totalStudents:0,totalQuizzes:0,totalSubmissions:0,completionRate:0,avgScore:0},loading:!0,error:null}),n=async()=>{e(o=>({...o,loading:!0,error:null}));try{const[o,u,d,m]=await Promise.all([Ue.getStudents(),Ue.getModules(),Ue.getAllLessonsCount(),Ue.getAnalytics()]);e({students:o,modules:u,totalLessons:d,analytics:m,loading:!1,error:null})}catch(o){e(u=>({...u,loading:!1,error:o instanceof Error?o.message:"Failed to load dashboard data"}))}},s=async o=>{try{await Ue.createSampleData(o),await n()}catch(u){throw console.error("Error creating sample data:",u),u}};return P.useEffect(()=>{n()},[]),{...i,refreshData:n,createSampleData:s}},dO=i=>{const[e,n]=P.useState(!0),[s,o]=P.useState(null),[u,d]=P.useState([]),[m,g]=P.useState([]),[y,T]=P.useState([]);P.useEffect(()=>{(async()=>{if(i){n(!0),o(null);try{const[G,se,ee]=await Promise.all([Ue.getQuizzes(),Ue.getAnswersByUser(i),Ue.getModules()]);d(G),g(se),T(ee)}catch(G){o(G?.message||"Gagal memuat data siswa")}finally{n(!1)}}})()},[i]);const{totalQuizzes:w,completedQuizzes:A,averageScore:C,progressPercent:U,moduleProgress:K}=P.useMemo(()=>{const z=y.filter(O=>O.visible??!0),G=new Set(z.map(O=>O.id)),se=u.filter(O=>!O.moduleId||G.has(O.moduleId)),ee=se.length,fe=new Map;m.forEach(O=>{const V=fe.get(O.quizId)||{correct:0,total:0};V.total+=1,O.isCorrect&&(V.correct+=1),fe.set(O.quizId,V)});const oe=fe.size;let te=0;const x=Array.from(fe.values()).map(O=>O.total>0?O.correct/O.total*100:0);x.length>0&&(te=x.reduce((O,V)=>O+V,0)/x.length);const R=ee>0?Math.round(oe/ee*100):0,I=new Map;se.forEach(O=>{if(!O.moduleId)return;const V=I.get(O.moduleId)||{total:0,done:0};V.total+=1,fe.has(O.id)&&(V.done+=1),I.set(O.moduleId,V)});const M=z.map(O=>{const V=I.get(O.id)||{total:0,done:0},N=V.total>0?Math.round(V.done/V.total*100):0;return{moduleId:O.id,title:O.title,percent:N}});return{totalQuizzes:ee,completedQuizzes:oe,averageScore:Math.round(te),progressPercent:R,moduleProgress:M}},[u,m,y]);return{loading:e,error:s,totalQuizzes:w,completedQuizzes:A,averageScore:C,progressPercent:U,moduleProgress:K}},fO=({onClose:i})=>{const[e,n]=P.useState([]),[s,o]=P.useState([]),[u,d]=P.useState("modules"),[m,g]=P.useState(!0),[y,T]=P.useState(!1),[w,A]=P.useState(!1),[C,U]=P.useState(""),[K,z]=P.useState(""),[G,se]=P.useState(""),[ee,fe]=P.useState(null),[oe,te]=P.useState({title:"",description:"",order:1,visible:!0}),[x,R]=P.useState({title:"",content:"",order:1}),[I,M]=P.useState({title:"",description:"",order:1,visible:!0}),[O,V]=P.useState({title:"",content:"",order:1});P.useEffect(()=>{N()},[]);const N=async()=>{try{g(!0);const q=await Ue.getModules();if(n(q),C){const de=await Ue.getLessons(C);o(de)}else o([])}catch(q){console.error("Error loading data:",q)}finally{g(!1)}};P.useEffect(()=>{m||(async()=>{if(C){const q=await Ue.getLessons(C);o(q)}else o([])})()},[C]);const ce=async q=>{q.preventDefault();try{await Ue.createModule({title:oe.title,description:oe.description,createdBy:"current-user",order:oe.order,visible:oe.visible}),te({title:"",description:"",order:1,visible:!0}),T(!1),N()}catch(de){console.error("Error creating module:",de)}},we=async q=>{if(q.preventDefault(),!C){alert("Pilih bab terlebih dahulu");return}try{await Ue.createLesson(C,{title:x.title,content:x.content,order:x.order}),R({title:"",content:"",order:1}),A(!1),N()}catch(de){console.error("Error creating lesson:",de)}},X=q=>{z(q.id),M({title:q.title,description:q.description??"",order:q.order||1,visible:q.visible??!0})},le=async()=>{try{await Ue.updateModule(K,{title:I.title,description:I.description,order:I.order,visible:I.visible}),z(""),await N()}catch(q){console.error("Error updating module:",q)}},ge=q=>fe({type:"module",id:q}),Le=q=>fe({type:"lesson",id:q}),k=async()=>{if(ee)try{ee.type==="module"?(await Ue.deleteModule(ee.id),C===ee.id&&U("")):ee.type==="lesson"&&C&&await Ue.deleteLesson(C,ee.id),fe(null),await N()}catch(q){console.error("Error deleting:",q)}},re=q=>{se(q.id),V({title:q.title,content:q.content??"",order:q.order||1})},ue=async()=>{if(C)try{await Ue.updateLesson(C,G,{title:O.title,content:O.content,order:O.order}),se(""),await N()}catch(q){console.error("Error updating lesson:",q)}};return m?p.jsx("div",{className:"modal-overlay",children:p.jsx("div",{className:"modal-container",children:p.jsxs("div",{className:"loading-spinner",children:[p.jsx("div",{className:"spinner"}),p.jsx("p",{children:"Loading content..."})]})})}):p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-container large",children:[p.jsxs("div",{className:"modal-header",children:[p.jsxs("h2",{children:[p.jsx("i",{className:"fas fa-cogs"}),"Manage Content"]}),p.jsx("button",{className:"close-btn",onClick:i,title:"Tutup","aria-label":"Tutup",children:p.jsx("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:p.jsx("path",{d:"M6 6l12 12M18 6l-12 12"})})})]}),p.jsx("div",{className:"tabs-container",children:p.jsxs("div",{className:"tabs",children:[p.jsxs("button",{className:`tab ${u==="modules"?"active":""}`,onClick:()=>d("modules"),children:[p.jsx("i",{className:"fas fa-th-large"}),"Bab (",e.length,")"]}),p.jsxs("button",{className:`tab ${u==="lessons"?"active":""}`,onClick:()=>d("lessons"),children:[p.jsx("i",{className:"fas fa-book-open"}),"Materi ",C?"(Bab terpilih)":""]})]})}),p.jsxs("div",{className:"modal-content",children:[u==="modules"&&p.jsxs("div",{className:"tab-content",children:[p.jsxs("div",{className:"content-header",children:[p.jsx("h3",{children:"Bab Pembelajaran"}),p.jsxs("button",{className:"btn-primary",onClick:()=>T(!0),children:[p.jsx("i",{className:"fas fa-plus"}),"Tambah Bab"]})]}),y&&p.jsx("div",{className:"form-card",children:p.jsxs("form",{onSubmit:ce,children:[p.jsxs("h4",{children:[p.jsx("i",{className:"fas fa-plus-circle"}),"Buat Bab Baru"]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Judul Bab *"}),p.jsx("input",{type:"text",value:oe.title,onChange:q=>te({...oe,title:q.target.value}),placeholder:"Contoh: Design Fundamental",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Urutan"}),p.jsx("input",{type:"number",value:oe.order,onChange:q=>te({...oe,order:parseInt(q.target.value)}),min:"1",required:!0})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Deskripsi Bab *"}),p.jsx("textarea",{value:oe.description,onChange:q=>te({...oe,description:q.target.value}),placeholder:"Jelaskan apa yang akan dipelajari siswa dalam bab ini",rows:3,required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Tampilkan ke siswa"}),p.jsxs("select",{value:oe.visible?"1":"0",onChange:q=>te({...oe,visible:q.target.value==="1"}),children:[p.jsx("option",{value:"1",children:"Ya"}),p.jsx("option",{value:"0",children:"Tidak"})]})]}),p.jsxs("div",{className:"form-actions",children:[p.jsxs("button",{type:"submit",className:"btn-primary",children:[p.jsx("i",{className:"fas fa-save"}),"Buat Bab"]}),p.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>T(!1),children:"Batal"})]})]})}),p.jsx("div",{className:"content-grid",children:e.length===0?p.jsxs("div",{className:"empty-state",children:[p.jsx("i",{className:"fas fa-th-large"}),p.jsx("h4",{children:"Belum ada bab yang dibuat"}),p.jsx("p",{children:"Buat bab pertama untuk mulai mengorganisir konten pembelajaran."})]}):e.map(q=>p.jsxs("div",{className:"content-card",children:[p.jsxs("div",{className:"card-header",children:[p.jsxs("div",{className:"module-order",children:["Bab #",q.order]}),p.jsxs("div",{className:"card-actions",children:[p.jsxs("button",{className:`btn-action ${C===q.id?"secondary":"primary"}`,title:C===q.id?"Bab terpilih":"Pilih bab untuk dikelola",onClick:()=>U(q.id),children:[p.jsx("i",{className:"fas fa-check"}),p.jsx("span",{children:C===q.id?"Dipilih":"Pilih Bab"})]}),p.jsxs("button",{className:"btn-action edit",onClick:()=>X(q),title:"Edit bab",children:[p.jsx("i",{className:"fas fa-edit"}),p.jsx("span",{children:"Edit"})]}),p.jsxs("button",{className:"btn-action delete",onClick:()=>ge(q.id),title:"Hapus bab",children:[p.jsx("i",{className:"fas fa-trash"}),p.jsx("span",{children:"Hapus"})]})]})]}),p.jsxs("div",{className:"card-content",children:[K===q.id?p.jsxs("div",{className:"form-inline",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Judul"}),p.jsx("input",{value:I.title,onChange:de=>M({...I,title:de.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Deskripsi"}),p.jsx("textarea",{rows:2,value:I.description,onChange:de=>M({...I,description:de.target.value})})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Urutan"}),p.jsx("input",{type:"number",min:1,value:I.order,onChange:de=>M({...I,order:parseInt(de.target.value)})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Tampilkan ke siswa"}),p.jsxs("select",{value:I.visible?"1":"0",onChange:de=>M({...I,visible:de.target.value==="1"}),children:[p.jsx("option",{value:"1",children:"Ya"}),p.jsx("option",{value:"0",children:"Tidak"})]})]}),p.jsxs("div",{className:"form-actions small",children:[p.jsx("button",{className:"btn-primary",onClick:le,children:"Simpan"}),p.jsx("button",{className:"btn-secondary",onClick:()=>z(""),children:"Batal"})]})]})]}):p.jsxs(p.Fragment,{children:[p.jsx("h4",{children:q.title}),p.jsx("p",{children:q.description}),C===q.id&&p.jsx("div",{className:"selected-badge",children:"Dipilih untuk dikelola"})]}),p.jsx("div",{className:"card-meta",children:p.jsxs("span",{children:[p.jsx("i",{className:"fas fa-calendar"})," Dibuat: ",new Date().toLocaleDateString("id-ID")]})})]})]},q.id))})]}),u==="lessons"&&p.jsxs("div",{className:"tab-content",children:[p.jsxs("div",{className:"content-header",children:[p.jsx("h3",{children:"Materi Pembelajaran"}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Pilih Bab untuk dikelola"}),p.jsxs("select",{value:C,onChange:q=>U(q.target.value),children:[p.jsx("option",{value:"",children:"-- Pilih Bab --"}),e.map(q=>p.jsxs("option",{value:q.id,children:["Bab ",q.order,": ",q.title]},q.id))]})]}),p.jsxs("button",{className:"btn-primary",onClick:()=>A(!0),disabled:!C,title:C?"Tambah materi":"Pilih bab dahulu",children:[p.jsx("i",{className:"fas fa-plus"}),"Tambah Materi"]})]})]}),!C&&p.jsxs("div",{className:"empty-state",children:[p.jsx("i",{className:"fas fa-layer-group"}),p.jsx("h4",{children:"Pilih Bab"}),p.jsx("p",{children:"Silakan pilih bab terlebih dahulu untuk melihat dan mengelola materi."})]}),w&&p.jsx("div",{className:"form-card",children:p.jsxs("form",{onSubmit:we,children:[p.jsxs("h4",{children:[p.jsx("i",{className:"fas fa-plus-circle"}),"Buat Materi Baru"]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Bab *"}),p.jsx("input",{value:e.find(q=>q.id===C)?.title||"",disabled:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Urutan"}),p.jsx("input",{type:"number",value:x.order,onChange:q=>R({...x,order:parseInt(q.target.value)}),min:"1",required:!0})]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Judul Materi *"}),p.jsx("input",{type:"text",value:x.title,onChange:q=>R({...x,title:q.target.value}),placeholder:"Contoh: Pengertian Desain Grafis",required:!0})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Konten Materi *"}),p.jsx("textarea",{value:x.content,onChange:q=>R({...x,content:q.target.value}),placeholder:"Tulis konten pembelajaran untuk materi ini",rows:4,required:!0})]}),p.jsxs("div",{className:"form-actions",children:[p.jsxs("button",{type:"submit",className:"btn-primary",children:[p.jsx("i",{className:"fas fa-save"}),"Buat Materi"]}),p.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>A(!1),children:"Batal"})]})]})}),p.jsx("div",{className:"content-grid",children:C&&s.length===0?p.jsxs("div",{className:"empty-state",children:[p.jsx("i",{className:"fas fa-book-open"}),p.jsx("h4",{children:"Belum ada materi yang dibuat"}),p.jsx("p",{children:"Buat materi pertama untuk mulai menambahkan konten pembelajaran."})]}):s.map(q=>p.jsxs("div",{className:"content-card",children:[p.jsxs("div",{className:"card-header",children:[p.jsxs("div",{className:"lesson-order",children:["Materi #",q.order]}),p.jsxs("div",{className:"card-actions",children:[p.jsxs("button",{className:"btn-action edit",onClick:()=>re(q),title:"Edit materi",children:[p.jsx("i",{className:"fas fa-edit"}),p.jsx("span",{children:"Edit"})]}),p.jsxs("button",{className:"btn-action delete",onClick:()=>Le(q.id),title:"Hapus materi",children:[p.jsx("i",{className:"fas fa-trash"}),p.jsx("span",{children:"Hapus"})]})]})]}),p.jsxs("div",{className:"card-content",children:[G===q.id?p.jsxs("div",{className:"form-inline",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Judul Materi"}),p.jsx("input",{value:O.title,onChange:de=>V({...O,title:de.target.value})})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Konten"}),p.jsx("textarea",{rows:3,value:O.content,onChange:de=>V({...O,content:de.target.value})})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Urutan"}),p.jsx("input",{type:"number",min:1,value:O.order,onChange:de=>V({...O,order:parseInt(de.target.value)})})]}),p.jsxs("div",{className:"form-actions small",children:[p.jsx("button",{className:"btn-primary",onClick:ue,children:"Simpan"}),p.jsx("button",{className:"btn-secondary",onClick:()=>se(""),children:"Batal"})]})]})]}):p.jsxs(p.Fragment,{children:[p.jsx("h4",{children:q.title}),p.jsx("p",{children:q.content?q.content.substring(0,100)+"...":"Belum ada konten"})]}),p.jsx("div",{className:"card-meta",children:p.jsxs("span",{children:[p.jsx("i",{className:"fas fa-clock"})," Durasi: 30 menit"]})})]})]},q.id))})]})]}),ee&&p.jsx("div",{className:"modal-overlay confirm",children:p.jsxs("div",{className:"modal-container small",children:[p.jsxs("div",{className:"modal-header",children:[p.jsxs("h2",{children:[p.jsx("i",{className:"fas fa-exclamation-triangle"}),"Konfirmasi Hapus"]}),p.jsx("button",{className:"close-btn",onClick:()=>fe(null),children:p.jsx("i",{className:"fas fa-times"})})]}),p.jsxs("div",{className:"modal-content",children:[p.jsx("p",{children:ee.type==="module"?"Menghapus bab juga akan menghapus semua materi di dalamnya. Lanjutkan?":"Anda yakin ingin menghapus materi ini?"}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{className:"btn-secondary",onClick:()=>fe(null),children:"Batal"}),p.jsx("button",{className:"btn-danger",onClick:k,children:"Hapus"})]})]})]})})]})})},mO=({onClose:i})=>{const[e,n]=P.useState([]),[s,o]=P.useState([]),[u,d]=P.useState(!0),[m,g]=P.useState("quiz-info"),[y,T]=P.useState({moduleId:"",lessonId:"",title:"",timeLimitSec:600}),[w,A]=P.useState([]),[C,U]=P.useState({type:"multiple_choice",text:"",options:["","",""],correctIndex:0,correctIndexes:[]});P.useEffect(()=>{(async()=>{try{d(!0);const x=await Ue.getModules();n(x)}catch(x){console.error("Error loading modules:",x)}finally{d(!1)}})()},[]),P.useEffect(()=>{(async()=>{if(!y.moduleId){o([]),T(x=>({...x,lessonId:""}));return}try{d(!0);const x=await Ue.getLessons(y.moduleId);o(x),x.find(R=>R.id===y.lessonId)||T(R=>({...R,lessonId:""}))}catch(x){console.error("Error loading lessons:",x)}finally{d(!1)}})()},[y.moduleId]);const K=te=>{if(te.preventDefault(),!y.moduleId||!y.lessonId||!y.title){alert("Mohon lengkapi semua kolom yang diperlukan");return}g("questions")},z=(te,x)=>{const R=C.options?[...C.options]:[];R[te]=x,U({...C,options:R})},G=()=>{const te=C.options?[...C.options]:[];te.push(""),U({...C,options:te})},se=te=>{const x=(C.options||[]).filter((I,M)=>M!==te),R={...C,options:x};C.type!=="checkboxes"?(C.correctIndex??0)>=x.length&&(R.correctIndex=0):R.correctIndexes=(C.correctIndexes||[]).filter(I=>I!==te).map(I=>I>te?I-1:I),U(R)},ee=()=>{if(!C.text.trim()){alert("Mohon isi teks pertanyaan");return}if(["multiple_choice","checkboxes","dropdown"].includes(C.type)){const te=C.options||[];if(te.length<2||te.some(x=>!x.trim())){alert("Minimal 2 pilihan dan tidak boleh kosong");return}if(C.type!=="checkboxes"&&(C.correctIndex??-1)<0){alert("Pilih jawaban benar");return}if(C.type==="checkboxes"&&(!C.correctIndexes||C.correctIndexes.length===0)){alert("Pilih minimal satu jawaban benar");return}}A([...w,{...C}]),U({type:"multiple_choice",text:"",options:["","",""],correctIndex:0,correctIndexes:[]})},fe=te=>{A(w.filter((x,R)=>R!==te))},oe=async()=>{if(w.length===0){alert("Mohon tambahkan minimal satu pertanyaan");return}try{d(!0);const te=await Ue.createQuiz({moduleId:y.moduleId,lessonId:y.lessonId,title:y.title,createdBy:"current-user",timeLimitSec:y.timeLimitSec});for(const x of w)await Ue.addQuestionToQuiz(te,x);alert("Kuis berhasil dibuat!"),i()}catch(te){console.error("Error creating quiz:",te),alert("Gagal membuat kuis. Silakan coba lagi.")}finally{d(!1)}};return u?p.jsx("div",{className:"modal-overlay",children:p.jsx("div",{className:"modal",children:p.jsx("div",{className:"modal-content",children:"Memuat..."})})}):p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-container large",children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:"Buat Kuis"}),p.jsx("button",{className:"close-btn",onClick:i,"aria-label":"Tutup",children:""})]}),p.jsxs("div",{className:"modal-content",children:[p.jsxs("div",{className:"tabs",children:[p.jsx("button",{className:`tab ${m==="quiz-info"?"active":""}`,onClick:()=>g("quiz-info"),children:"Info Kuis"}),p.jsx("button",{className:`tab ${m==="questions"?"active":""}`,onClick:()=>g("questions"),disabled:!y.moduleId||!y.lessonId||!y.title,children:"Pertanyaan"})]}),m==="quiz-info"&&p.jsxs("form",{onSubmit:K,children:[p.jsxs("div",{className:"form-card",children:[p.jsx("h4",{children:"Informasi Kuis"}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Pilih Bab *"}),p.jsxs("select",{value:y.moduleId,onChange:te=>T({...y,moduleId:te.target.value}),children:[p.jsx("option",{value:"",children:"-- Pilih Bab --"}),e.map(te=>p.jsx("option",{value:te.id,children:te.title},te.id))]})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Pilih Materi *"}),p.jsxs("select",{value:y.lessonId,onChange:te=>T({...y,lessonId:te.target.value}),disabled:!y.moduleId,children:[p.jsx("option",{value:"",children:"-- Pilih Materi --"}),s.map(te=>p.jsx("option",{value:te.id,children:te.title},te.id))]})]})]}),p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",style:{flex:2},children:[p.jsx("label",{children:"Judul Kuis *"}),p.jsx("input",{type:"text",value:y.title,onChange:te=>T({...y,title:te.target.value}),placeholder:"Contoh: Kuis Bab 1 - Desain Dasar"})]}),p.jsxs("div",{className:"form-group",style:{maxWidth:"220px"},children:[p.jsx("label",{children:"Batas Waktu (menit)"}),p.jsx("input",{type:"number",min:1,value:Math.max(1,Math.round(y.timeLimitSec/60)),onChange:te=>{const x=Math.max(1,parseInt(te.target.value||"1",10));T({...y,timeLimitSec:x*60})}})]})]})]}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"button",className:"btn-secondary",onClick:i,children:"Batal"}),p.jsx("button",{type:"submit",className:"btn-primary",children:"Lanjut ke Pertanyaan"})]})]}),m==="questions"&&p.jsxs("div",{children:[p.jsxs("div",{className:"form-card",children:[p.jsx("h4",{children:"Ringkasan"}),p.jsxs("div",{className:"card-meta",style:{gap:"24px"},children:[p.jsxs("span",{children:["Bab: ",e.find(te=>te.id===y.moduleId)?.title]}),p.jsxs("span",{children:["Materi: ",s.find(te=>te.id===y.lessonId)?.title||"-"]}),p.jsxs("span",{children:["Batas Waktu: ",Math.floor(y.timeLimitSec/60)," menit"]})]})]}),p.jsxs("div",{className:"form-card",children:[p.jsx("h4",{children:"Tambah Pertanyaan Baru"}),p.jsx("div",{className:"form-row",children:p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Tipe Pertanyaan"}),p.jsxs("select",{value:C.type,onChange:te=>U({...C,type:te.target.value}),children:[p.jsx("option",{value:"multiple_choice",children:"Multiple Choice"}),p.jsx("option",{value:"checkboxes",children:"Checkboxes"}),p.jsx("option",{value:"dropdown",children:"Dropdown"}),p.jsx("option",{value:"short_answer",children:"Short Answer"}),p.jsx("option",{value:"paragraph",children:"Paragraph"})]})]})}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Pertanyaan *"}),p.jsx("textarea",{value:C.text,onChange:te=>U({...C,text:te.target.value}),rows:3,placeholder:"Masukkan pertanyaan Anda"})]}),["multiple_choice","checkboxes","dropdown"].includes(C.type)&&p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Pilihan"}),(C.options||[]).map((te,x)=>p.jsxs("div",{className:"option-row",children:[C.type==="checkboxes"?p.jsx("input",{type:"checkbox",checked:(C.correctIndexes||[]).includes(x),onChange:R=>{const I=new Set(C.correctIndexes||[]);R.target.checked?I.add(x):I.delete(x),U({...C,correctIndexes:Array.from(I).sort((M,O)=>M-O)})}}):p.jsx("input",{type:"radio",name:"correct",checked:(C.correctIndex??0)===x,onChange:()=>U({...C,correctIndex:x})}),p.jsx("input",{type:"text",value:te,onChange:R=>z(x,R.target.value),placeholder:`Pilihan ${x+1}`,className:"option-input"}),p.jsx("button",{type:"button",className:"btn-delete",onClick:()=>se(x),title:"Hapus pilihan",children:p.jsx("span",{children:"Hapus"})})]},x)),p.jsx("div",{className:"form-actions",style:{marginTop:"8px"},children:p.jsx("button",{type:"button",className:"btn-secondary",onClick:G,children:"+ Tambah Pilihan"})})]}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>g("quiz-info"),children:"Kembali"}),p.jsx("button",{type:"button",className:"btn-primary",onClick:ee,children:"Tambahkan ke Daftar"})]})]}),p.jsxs("div",{className:"form-card",children:[p.jsxs("h4",{children:["Pertanyaan (",w.length,")"]}),w.length===0?p.jsx("div",{className:"empty-state",style:{padding:"20px"},children:"Belum ada pertanyaan ditambahkan"}):p.jsx("div",{className:"content-grid",style:{gridTemplateColumns:"1fr"},children:w.map((te,x)=>p.jsxs("div",{className:"content-card",children:[p.jsxs("div",{className:"card-header",children:[p.jsxs("div",{className:"lesson-order",children:["P",x+1]}),p.jsx("div",{className:"card-actions",children:p.jsx("button",{className:"btn-action delete",onClick:()=>fe(x),children:p.jsx("span",{children:"Hapus"})})})]}),p.jsxs("div",{className:"card-content",children:[p.jsx("h4",{children:te.type==="multiple_choice"?"Multiple Choice":te.type==="checkboxes"?"Checkboxes":te.type==="dropdown"?"Dropdown":te.type==="short_answer"?"Short Answer":"Paragraph"}),p.jsx("p",{children:te.text}),["multiple_choice","checkboxes","dropdown"].includes(te.type)&&p.jsx("div",{className:"card-meta",style:{display:"block",color:"#475569"},children:(te.options||[]).map((R,I)=>{const M=te.type==="checkboxes"?(te.correctIndexes||[]).includes(I):(te.correctIndex??-1)===I;return p.jsxs("div",{style:{marginBottom:"4px"},children:[M?"":""," ",R]},I)})})]})]},x))}),p.jsx("div",{className:"form-actions",children:p.jsx("button",{className:"btn-primary",onClick:oe,disabled:w.length===0,children:"Buat Kuis"})})]})]})]})]})})},pO=({onClose:i})=>{const[e,n]=P.useState([]),[s,o]=P.useState(!0),[u,d]=P.useState(null),[m,g]=P.useState(null),[y,T]=P.useState({title:"",timeLimitMin:10}),[w,A]=P.useState(null),[C,U]=P.useState([]),[K,z]=P.useState([]),[G,se]=P.useState(null),[ee,fe]=P.useState({}),[oe,te]=P.useState(null),x=async()=>{try{o(!0);const[ce,we,X]=await Promise.all([Ue.getQuizzes(),Ue.getModules(),Ue.getAllLessons()]);n(ce),U(we),z(X),d(null)}catch{d("Gagal memuat daftar kuis")}finally{o(!1)}};P.useEffect(()=>{x()},[]);const R=ce=>{g(ce.id),T({title:ce.title,timeLimitMin:Math.max(1,Math.round((ce.timeLimitSec??600)/60))})},I=async()=>{if(m)try{await Ue.updateQuiz(m,{title:y.title.trim(),timeLimitSec:Math.max(60,y.timeLimitMin*60)}),g(null),await x()}catch{alert("Gagal menyimpan perubahan kuis")}},M=async()=>{if(w)try{await Ue.deleteQuiz(w.id),A(null),await x()}catch{alert("Gagal menghapus kuis")}},O=ce=>C.find(we=>we.id===ce)?.title||"-",V=ce=>K.find(we=>we.id===ce)?.title||"-",N=async ce=>{if(se(we=>we===ce?null:ce),!ee[ce])try{te(ce);const we=await Ue.getQuestions(ce);fe(X=>({...X,[ce]:we}))}finally{te(null)}};return p.jsxs("div",{className:"modal-overlay",children:[p.jsxs("div",{className:"modal-container large",children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:"Kelola Kuis"}),p.jsx("button",{className:"close-btn",onClick:i,"aria-label":"Tutup",children:""})]}),p.jsxs("div",{className:"modal-content",children:[u&&p.jsx("div",{className:"error-message",children:u}),s?p.jsxs("div",{className:"loading-state",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Memuat kuis..."})]}):p.jsxs("div",{className:"content-grid",style:{gridTemplateColumns:"1fr"},children:[e.length===0&&p.jsx("div",{className:"empty-state",children:"Belum ada kuis dibuat"}),e.map(ce=>p.jsxs("div",{className:"content-card",children:[p.jsxs("div",{className:"card-header",children:[p.jsx("div",{className:"lesson-order",children:"KZ"}),p.jsx("div",{className:"card-actions",children:m===ce.id?p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"btn-action secondary",onClick:()=>g(null),children:"Batal"}),p.jsx("button",{className:"btn-action primary",onClick:I,children:"Simpan"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"btn-action",onClick:()=>N(ce.id),children:G===ce.id?"Tutup":"Lihat"}),p.jsx("button",{className:"btn-action edit",onClick:()=>R(ce),children:"Edit"}),p.jsx("button",{className:"btn-action delete",onClick:()=>A({id:ce.id,title:ce.title}),children:"Hapus"})]})})]}),p.jsx("div",{className:"card-content",children:m===ce.id?p.jsxs("div",{className:"form-row",children:[p.jsxs("div",{className:"form-group",style:{flex:2},children:[p.jsx("label",{children:"Judul Kuis"}),p.jsx("input",{value:y.title,onChange:we=>T(X=>({...X,title:we.target.value}))})]}),p.jsxs("div",{className:"form-group",style:{maxWidth:220},children:[p.jsx("label",{children:"Batas Waktu (menit)"}),p.jsx("input",{type:"number",min:1,value:y.timeLimitMin,onChange:we=>T(X=>({...X,timeLimitMin:Math.max(1,parseInt(we.target.value||"1",10))}))})]})]}):p.jsxs(p.Fragment,{children:[p.jsx("h4",{children:ce.title}),p.jsxs("p",{children:["Bab: ",O(ce.moduleId)]}),ce.lessonId&&p.jsxs("p",{children:["Materi: ",V(ce.lessonId)]}),p.jsx("div",{className:"card-meta",children:p.jsxs("span",{children:["Waktu: ",Math.floor((ce.timeLimitSec??600)/60)," menit"]})}),G===ce.id&&p.jsxs("div",{style:{marginTop:12},children:[p.jsx("h5",{style:{margin:"8px 0"},children:"Pertanyaan"}),oe===ce.id&&p.jsx("div",{style:{color:"#64748b"},children:"Memuat pertanyaan..."}),ee[ce.id]&&ee[ce.id].length===0&&p.jsx("div",{className:"empty-state",children:"Belum ada pertanyaan"}),ee[ce.id]&&ee[ce.id].length>0&&p.jsx("ul",{style:{paddingLeft:16,margin:0},children:ee[ce.id].map((we,X)=>p.jsxs("li",{style:{marginBottom:8},children:[p.jsxs("div",{style:{fontWeight:600},children:[X+1,". ",we.text]}),["multiple_choice","checkboxes","dropdown"].includes(we.type)&&p.jsx("div",{style:{marginTop:4,color:"#475569"},children:(we.options||[]).map((le,ge)=>{const Le=we.type==="checkboxes"?(we.correctIndexes||[]).includes(ge):(we.correctIndex??-1)===ge;return p.jsxs("div",{children:[Le?"":""," ",le]},ge)})})]},we.id))})]})]})})]},ce.id))]})]})]}),w&&p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-container",style:{maxWidth:520},children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:"Konfirmasi Hapus"}),p.jsx("button",{className:"close-btn",onClick:()=>A(null),"aria-label":"Tutup",children:""})]}),p.jsxs("div",{className:"modal-content",children:[p.jsxs("p",{children:['Hapus kuis "',w.title,'"? Tindakan ini juga akan menghapus pertanyaan dan jawaban terkait.']}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{className:"btn-secondary",onClick:()=>A(null),children:"Batal"}),p.jsx("button",{className:"btn-primary",onClick:M,children:"Hapus"})]})]})]})})]})},gO=({onClose:i})=>{const[e,n]=P.useState([]),[s,o]=P.useState(!0),[u,d]=P.useState(null),[m,g]=P.useState(null),[y,T]=P.useState({name:"",role:"student"}),[w,A]=P.useState(null),C=async()=>{try{o(!0);const G=await Ue.getStudents();n(G),d(null)}catch{d("Gagal memuat daftar siswa")}finally{o(!1)}};P.useEffect(()=>{C()},[]);const U=G=>{g(G.id),T({name:G.name,role:G.role})},K=async()=>{if(m)try{const G={name:y.name.trim(),role:y.role};await Ue.updateUser(m,G),g(null),await C()}catch{alert("Gagal menyimpan perubahan siswa")}},z=async()=>{if(w)try{await Ue.deleteUser(w.id),A(null),await C()}catch{alert("Gagal menghapus siswa")}};return p.jsxs("div",{className:"modal-overlay",children:[p.jsxs("div",{className:"modal-container large",children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:"Kelola Siswa"}),p.jsx("button",{className:"close-btn",onClick:i,"aria-label":"Tutup",children:""})]}),p.jsxs("div",{className:"modal-content",children:[u&&p.jsx("div",{className:"error-message",children:u}),s?p.jsxs("div",{className:"loading-state",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Memuat siswa..."})]}):p.jsxs("div",{className:"content-grid",style:{gridTemplateColumns:"1fr"},children:[e.length===0&&p.jsx("div",{className:"empty-state",children:"Belum ada siswa terdaftar"}),e.map(G=>p.jsxs("div",{className:"content-card",children:[p.jsxs("div",{className:"card-header",children:[p.jsx("div",{className:"module-order",children:"S"}),p.jsx("div",{className:"card-actions",children:m===G.id?p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"btn-action secondary",onClick:()=>g(null),children:"Batal"}),p.jsx("button",{className:"btn-action primary",onClick:K,children:"Simpan"})]}):p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"btn-action edit",onClick:()=>U(G),children:"Edit"}),p.jsx("button",{className:"btn-action delete",onClick:()=>A({id:G.id,name:G.name}),children:"Hapus"})]})})]}),p.jsx("div",{className:"card-content",children:m===G.id?p.jsxs("div",{className:"form-row",style:{gridTemplateColumns:"2fr 1fr"},children:[p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Nama"}),p.jsx("input",{value:y.name,onChange:se=>T(ee=>({...ee,name:se.target.value}))})]}),p.jsxs("div",{className:"form-group",children:[p.jsx("label",{children:"Role"}),p.jsxs("select",{value:y.role,onChange:se=>T(ee=>({...ee,role:se.target.value})),children:[p.jsx("option",{value:"student",children:"Siswa"}),p.jsx("option",{value:"teacher",children:"Guru"})]})]})]}):p.jsxs(p.Fragment,{children:[p.jsx("h4",{children:G.name}),p.jsxs("p",{children:["Email: ",G.email||"-"]}),p.jsxs("div",{className:"card-meta",children:[p.jsxs("span",{children:["Role: ",G.role==="teacher"?"Guru":"Siswa"]}),p.jsx("span",{children:"Dibuat: "})]})]})})]},G.id))]})]})]}),w&&p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-container",style:{maxWidth:520},children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:"Konfirmasi Hapus"}),p.jsx("button",{className:"close-btn",onClick:()=>A(null),"aria-label":"Tutup",children:""})]}),p.jsxs("div",{className:"modal-content",children:[p.jsxs("p",{children:['Hapus siswa "',w.name,'"? Ini hanya menghapus data di aplikasi, bukan akun login.']}),p.jsxs("div",{className:"form-actions",children:[p.jsx("button",{className:"btn-secondary",onClick:()=>A(null),children:"Batal"}),p.jsx("button",{className:"btn-primary",onClick:z,children:"Hapus"})]})]})]})})]})},yO=()=>{const{userDoc:i,logout:e,isTeacher:n,isStudent:s,user:o}=Mu(),{students:u,modules:d,totalLessons:m,analytics:g,loading:y,error:T,refreshData:w,createSampleData:A}=hO(),C=dO(o?.uid),[U,K]=P.useState(!1),[z,G]=P.useState(!1),[se,ee]=P.useState(!1),[fe,oe]=P.useState(!1),te=async()=>{try{await e()}catch(ce){console.error("Logout error:",ce)}},x=async()=>{if(o&&i?.email==="josefhimanuel123@gmail.com")try{await co.updateUserRole(o.uid,"teacher"),window.location.reload()}catch(ce){console.error("Error updating role:",ce)}},R=async()=>{if(o&&n)try{await A(o.uid),alert("Data contoh berhasil dibuat!")}catch(ce){console.error("Error creating sample data:",ce),alert("Gagal membuat data contoh. Silakan coba lagi.")}},I=()=>{K(!0)},M=()=>{G(!0)},O=()=>{ee(!0)},V=()=>{alert(`Dashboard Analitik:

 Progres Siswa: ${g.completionRate}% rata-rata penyelesaian
 Performa Kuis: ${g.avgScore}% rata-rata nilai
 Siswa Aktif: ${u.length}
 Total Konten: ${d.length} bab, ${m} materi`)},N=()=>{oe(!0)};return i?p.jsxs("div",{className:"dashboard",children:[p.jsx("header",{className:"dashboard-header",children:p.jsxs("div",{className:"container",children:[p.jsxs("div",{className:"logo",children:[p.jsx("h2",{children:"Kelaz"}),p.jsx("span",{children:"Kelas Online Desain Grafis"})]}),p.jsxs("div",{className:"user-menu",children:[p.jsxs("span",{className:"user-name",children:["Selamat datang, ",i.name]}),p.jsx("span",{className:`user-role ${i.role}`,children:i.role==="teacher"?" Guru":" Siswa"}),i.email==="josefhimanuel123@gmail.com"&&i.role!=="teacher"&&p.jsx("button",{onClick:x,className:"btn-update-role",children:" Perbaiki Role Guru"}),p.jsx("button",{onClick:te,className:"btn-logout",children:"Keluar"})]})]})}),p.jsx("main",{className:"dashboard-main",children:p.jsxs("div",{className:"container",children:[s&&p.jsxs("div",{className:"student-dashboard",children:[p.jsx("h1",{children:"Dashboard Siswa"}),p.jsxs("div",{className:"dashboard-grid",children:[p.jsxs("div",{className:"card",children:[p.jsx("h3",{children:" Kelas Saya"}),p.jsx("p",{children:"Akses kelas yang Anda ikuti dan pantau progres pembelajaran"}),p.jsxs("div",{className:"course-progress",children:[p.jsx("div",{className:"progress-bar",children:p.jsx("div",{className:"progress-fill",style:{width:`${C.progressPercent}%`}})}),p.jsxs("span",{children:[C.progressPercent,"% Selesai"]})]}),p.jsx("button",{className:"btn-primary",onClick:()=>{window.location.hash="#/belajar"},children:"Lanjutkan Belajar"})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{children:" Kuis"}),p.jsx("p",{children:"Uji pengetahuan Anda dengan kuis interaktif"}),p.jsxs("div",{className:"quiz-stats",children:[p.jsxs("div",{className:"stat",children:[p.jsx("strong",{children:C.completedQuizzes}),p.jsx("span",{children:"Selesai"})]}),p.jsxs("div",{className:"stat",children:[p.jsxs("strong",{children:[C.averageScore,"%"]}),p.jsx("span",{children:"Rata-rata Nilai"})]})]}),p.jsx("button",{className:"btn-secondary",onClick:()=>{window.location.hash="#/kuis"},children:"Ikuti Kuis"})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{children:" Progres"}),p.jsx("p",{children:"Pantau perjalanan belajar Anda"}),p.jsxs("div",{className:"progress-stats",children:[C.moduleProgress.slice(0,3).map(ce=>p.jsxs("div",{className:"progress-item",children:[p.jsx("span",{children:ce.title}),p.jsx("div",{className:"progress-bar small",children:p.jsx("div",{className:"progress-fill",style:{width:`${ce.percent}%`}})})]},ce.moduleId)),C.moduleProgress.length===0&&p.jsx("div",{className:"empty-state",children:"Belum ada progres untuk ditampilkan"})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{children:" Pencapaian"}),p.jsx("p",{children:"Milestone pembelajaran Anda"}),p.jsxs("div",{className:"achievements",children:[p.jsx("div",{className:`achievement ${C.completedQuizzes>=1?"earned":""}`,children:" Kuis Pertama Selesai"}),p.jsx("div",{className:`achievement ${C.averageScore>=90?"earned":""}`,children:" Rata-rata Nilai  90%"})]})]})]})]}),n&&p.jsxs("div",{className:"teacher-dashboard",children:[p.jsxs("div",{className:"dashboard-header-controls",children:[p.jsx("h1",{children:"Dashboard Guru"}),p.jsx("button",{onClick:w,className:"btn-refresh",disabled:y,children:" Refresh Data"}),d.length===0&&p.jsx("button",{onClick:R,className:"btn-sample-data",children:" Buat Data Contoh"})]}),T&&p.jsxs("div",{className:"error-message",children:["Error memuat dashboard: ",T]}),y?p.jsxs("div",{className:"loading-state",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Memuat data dashboard..."})]}):p.jsxs("div",{className:"dashboard-grid",children:[p.jsxs("div",{className:"card",children:[p.jsx("h3",{children:" Siswa"}),p.jsx("p",{children:"Kelola dan pantau progres siswa"}),p.jsxs("div",{className:"student-count",children:[p.jsx("strong",{children:g.totalStudents})," Siswa Aktif"]}),p.jsxs("div",{className:"student-list",children:[u.slice(0,3).map(ce=>p.jsxs("div",{className:"student-item",children:[" ",ce.name]},ce.id)),u.length>3&&p.jsxs("div",{className:"student-more",children:["+",u.length-3," siswa lainnya"]})]}),p.jsx("button",{className:"btn-primary",onClick:N,children:"Lihat Semua Siswa"})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{children:" Konten Kelas"}),p.jsx("p",{children:"Buat dan kelola materi, bab, dan konten pembelajaran"}),p.jsxs("div",{className:"content-stats",children:[p.jsxs("div",{className:"stat",children:[p.jsx("strong",{children:d.length}),p.jsx("span",{children:"Bab"})]}),p.jsxs("div",{className:"stat",children:[p.jsx("strong",{children:m}),p.jsx("span",{children:"Materi"})]})]}),p.jsxs("div",{className:"module-list",children:[d.slice(0,2).map(ce=>p.jsxs("div",{className:"module-item",children:[" ",ce.title]},ce.id)),d.length>2&&p.jsxs("div",{className:"module-more",children:["+",d.length-2," bab lainnya"]})]}),p.jsx("button",{className:"btn-primary",onClick:I,children:"Kelola Konten"})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{children:" Kuis"}),p.jsx("p",{children:"Buat dan kelola kuis serta penilaian"}),p.jsxs("div",{className:"quiz-stats",children:[p.jsxs("div",{className:"stat",children:[p.jsx("strong",{children:g.totalQuizzes}),p.jsx("span",{children:"Total Kuis"})]}),p.jsxs("div",{className:"stat",children:[p.jsx("strong",{children:g.totalSubmissions}),p.jsx("span",{children:"Pengumpulan"})]})]}),p.jsxs("div",{className:"form-actions",style:{justifyContent:"flex-start",gap:"8px"},children:[p.jsx("button",{className:"btn-secondary",onClick:M,children:"Buat Kuis"}),p.jsx("button",{className:"btn-primary",onClick:O,children:"Kelola Kuis"})]})]}),p.jsxs("div",{className:"card",children:[p.jsx("h3",{children:" Analitik"}),p.jsx("p",{children:"Lihat analitik dan wawasan detail"}),p.jsxs("div",{className:"analytics-preview",children:[p.jsxs("div",{className:"metric",children:[p.jsx("span",{children:"Tingkat Penyelesaian"}),p.jsxs("strong",{children:[g.completionRate,"%"]})]}),p.jsxs("div",{className:"metric",children:[p.jsx("span",{children:"Rata-rata Nilai Kuis"}),p.jsxs("strong",{children:[g.avgScore,"%"]})]})]}),p.jsx("button",{className:"btn-secondary",onClick:V,children:"Lihat Analitik"})]})]})]})]})}),U&&p.jsx(fO,{onClose:()=>K(!1)}),z&&p.jsx(mO,{onClose:()=>G(!1)}),se&&p.jsx(pO,{onClose:()=>ee(!1)}),fe&&p.jsx(gO,{onClose:()=>oe(!1)})]}):p.jsx("div",{className:"dashboard-loading",children:p.jsx("p",{children:"Memuat data pengguna..."})})},_O=()=>{const{user:i}=Mu(),[e,n]=P.useState(!0),[s,o]=P.useState(null),[u,d]=P.useState([]),[m,g]=P.useState([]);P.useEffect(()=>{(async()=>{if(i){n(!0),o(null);try{const A=(await Ue.getModules()).filter(K=>K.visible??!0),C=[];for(const K of A){const[z,G]=await Promise.all([Ue.getLessons(K.id),Ue.getQuizzes(K.id)]);C.push({module:K,lessons:z,quizzes:G})}d(C);const U=await Ue.getAnswersByUser(i.uid);g(U)}catch(w){o(w?.message||"Gagal memuat data belajar")}finally{n(!1)}}})()},[i]);const y=P.useMemo(()=>new Set(m.map(T=>T.quizId)),[m]);return i?p.jsx("div",{className:"dashboard-main",children:p.jsxs("div",{className:"container",children:[p.jsx("h1",{style:{marginTop:0},children:"Belajar"}),s&&p.jsx("div",{className:"error-message",children:s}),e?p.jsxs("div",{className:"loading-state",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Memuat konten belajar..."})]}):p.jsx("div",{className:"content-grid",style:{gridTemplateColumns:"1fr"},children:u.map(T=>{const w=T.quizzes.filter(A=>y.has(A.id)).length;return p.jsxs("div",{className:"content-card",children:[p.jsxs("div",{className:"card-header",children:[p.jsx("div",{className:"module-order",children:"BAB"}),p.jsx("div",{className:"card-actions"})]}),p.jsxs("div",{className:"card-content",children:[p.jsx("h4",{children:T.module.title}),T.module.description&&p.jsx("p",{children:T.module.description}),p.jsxs("div",{className:"card-meta",children:[p.jsxs("span",{children:[T.lessons.length," materi"]}),p.jsxs("span",{children:[T.quizzes.length," kuis"]}),p.jsxs("span",{children:[w,"/",T.quizzes.length," kuis selesai"]})]}),p.jsxs("div",{style:{marginTop:12},children:[p.jsx("h5",{style:{margin:"8px 0"},children:"Materi"}),T.lessons.length===0?p.jsx("div",{className:"empty-state",children:"Belum ada materi"}):p.jsx("ul",{style:{margin:0,paddingLeft:18},children:T.lessons.map(A=>p.jsx("li",{children:p.jsx(ru,{to:`/belajar/m/${T.module.id}/lesson/${A.id}`,children:A.title})},A.id))})]}),p.jsxs("div",{style:{marginTop:12},children:[p.jsx("h5",{style:{margin:"8px 0"},children:"Kuis"}),T.quizzes.length===0?p.jsx("div",{className:"empty-state",children:"Belum ada kuis"}):p.jsx("ul",{style:{margin:0,paddingLeft:18},children:T.quizzes.map(A=>p.jsxs("li",{children:[A.title," ",y.has(A.id)?"":""]},A.id))})]})]})]},T.module.id)})})]})}):null},vO=()=>p.jsxs("div",{style:{padding:24},children:[p.jsx("h1",{children:"Kuis"}),p.jsx("p",{children:"Di sini nanti ditampilkan daftar kuis yang bisa diikuti siswa."})]}),EO=()=>{const{moduleId:i,lessonId:e}=CA(),n=Sp(),[s,o]=P.useState(!0),[u,d]=P.useState(null),[m,g]=P.useState(null);P.useEffect(()=>{(async()=>{if(i){o(!0),d(null);try{const U=await Ue.getModuleWithLessons(i);g(U)}catch(U){d(U?.message||"Gagal memuat materi")}finally{o(!1)}}})()},[i]);const y=P.useMemo(()=>{if(!m||!e)return null;const C=m.lessons.findIndex(G=>G.id===e);if(C===-1)return null;const U=m.lessons[C],K=C>0?m.lessons[C-1]:null,z=C<m.lessons.length-1?m.lessons[C+1]:null;return{idx:C,current:U,prev:K,next:z}},[m,e]);if(s)return p.jsx("div",{className:"dashboard-main",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"loading-state",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Memuat materi..."})]})})});if(u||!m||!y)return p.jsx("div",{className:"dashboard-main",children:p.jsxs("div",{className:"container",children:[u?p.jsx("div",{className:"error-message",children:u}):p.jsx("div",{className:"card",children:p.jsx("p",{children:"Materi tidak ditemukan."})}),p.jsx(ru,{className:"btn-secondary",to:"/belajar",style:{display:"inline-block",marginTop:12},children:"Kembali ke Belajar"})]})});const{current:T,prev:w,next:A}=y;return p.jsx("div",{className:"dashboard-main",children:p.jsx("div",{className:"container",children:p.jsxs("div",{className:"card",style:{maxWidth:900,margin:"0 auto"},children:[p.jsx("div",{style:{marginBottom:8},children:p.jsx(ru,{to:"/belajar",className:"btn-secondary",style:{display:"inline-block"},children:" Kembali ke Bab"})}),p.jsx("h3",{style:{marginBottom:8},children:m.title}),p.jsx("h1",{style:{marginTop:0},children:T.title}),p.jsx("div",{style:{marginTop:12,lineHeight:1.7,color:"#334155",whiteSpace:"pre-wrap"},children:T.content||"Belum ada konten."}),p.jsxs("div",{className:"form-actions",style:{justifyContent:"space-between",marginTop:24},children:[p.jsx("button",{className:"btn-secondary",disabled:!w,onClick:()=>w&&n(`/belajar/m/${m.id}/lesson/${w.id}`),children:" Sebelumnya"}),p.jsx("button",{className:"btn-primary",disabled:!A,onClick:()=>A&&n(`/belajar/m/${m.id}/lesson/${A.id}`),children:"Lanjutkan "})]})]})})})};function fh({children:i}){const{isAuthenticated:e,loading:n}=Mu();return n?p.jsxs("div",{className:"app-loading",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Loading..."})]}):e?i:p.jsx(mh,{to:"/auth",replace:!0})}function TO(){const{isAuthenticated:i,loading:e}=Mu();return e?p.jsxs("div",{className:"app-loading",children:[p.jsx("div",{className:"loading-spinner"}),p.jsx("p",{children:"Loading..."})]}):p.jsx(dR,{children:p.jsxs(HA,{children:[p.jsx(Fr,{path:"/",element:i?p.jsx(mh,{to:"/dashboard",replace:!0}):p.jsx(uO,{onLoginClick:()=>{window.location.hash="#/auth"}})}),p.jsx(Fr,{path:"/auth",element:i?p.jsx(mh,{to:"/dashboard",replace:!0}):p.jsx(cO,{})}),p.jsx(Fr,{path:"/dashboard",element:p.jsx(fh,{children:p.jsx(yO,{})})}),p.jsx(Fr,{path:"/belajar",element:p.jsx(fh,{children:p.jsx(_O,{})})}),p.jsx(Fr,{path:"/belajar/m/:moduleId/lesson/:lessonId",element:p.jsx(fh,{children:p.jsx(EO,{})})}),p.jsx(Fr,{path:"/kuis",element:p.jsx(fh,{children:p.jsx(vO,{})})}),p.jsx(Fr,{path:"*",element:p.jsx(mh,{to:"/",replace:!0})})]})})}Zw.createRoot(document.getElementById("root")).render(p.jsx(P.StrictMode,{children:p.jsx(TO,{})}));
